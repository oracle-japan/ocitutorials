<!doctype html>
<!--
  Minimal Mistakes Jekyll Theme 4.27.1 by Michael Rose
  Copyright 2013-2025 Michael Rose - mademistakes.com | @mmistakes
  Free for personal and commercial use under the MIT license
  https://github.com/mmistakes/minimal-mistakes/blob/master/LICENSE
-->

<html lang="ja-JP" class="no-js">
  <head>
    <meta charset="utf-8">

<!-- begin _includes/seo.html --><title>パフォーマンスを考慮したプロセス・スレッドのコア割当て指定方法（BM.Standard.E5.192編） | Oracle Cloud Infrastructure チュートリアル</title>
<meta name="description" content="NUMAアーキテクチャを採用するインスタンスに於けるMPIやOpenMPの並列プログラム実行は、生成されるプロセスやスレッドをどのようにインスタンスのコアに割当てるかでその性能が大きく変動するため、その配置を意識してアプリケーションを実行することが求められます。このため、使用するシェイプに搭載されるプロセッサのアーキテクチャやアプリケーションの特性に合わせて意図したとおりにプロセスやスレッドをコアに配置するために必要な、MPI実装、OpenMP実装、及びジョブスケジューラが有するコア割当て制御機能に精通している必要があります。本パフォーマンス関連Tipsは、MPI実装にOpenMPI、OpenMP実装にGNUコンパイラ、及びジョブスケジューラにSlurmを取り上げ、第4世代AMD EPYCプロセッサを搭載するベア・メタル・シェイプBM.Standard.E5.192でこれらのコア割当て機能を駆使してプロセス・スレッドのコア割当てを行う方法を解説します。">


  <meta name="author" content="Oracle Japan Solution Engineers">
  
  <meta property="article:author" content="Oracle Japan Solution Engineers">
  


<meta property="og:type" content="article">
<meta property="og:locale" content="ja_JP">
<meta property="og:site_name" content="Oracle Cloud Infrastructure チュートリアル">
<meta property="og:title" content="パフォーマンスを考慮したプロセス・スレッドのコア割当て指定方法（BM.Standard.E5.192編）">
<meta property="og:url" content="https://oracle-japan.github.io/ocitutorials/hpc/benchmark/cpu-binding-e5/">


  <meta property="og:description" content="NUMAアーキテクチャを採用するインスタンスに於けるMPIやOpenMPの並列プログラム実行は、生成されるプロセスやスレッドをどのようにインスタンスのコアに割当てるかでその性能が大きく変動するため、その配置を意識してアプリケーションを実行することが求められます。このため、使用するシェイプに搭載されるプロセッサのアーキテクチャやアプリケーションの特性に合わせて意図したとおりにプロセスやスレッドをコアに配置するために必要な、MPI実装、OpenMP実装、及びジョブスケジューラが有するコア割当て制御機能に精通している必要があります。本パフォーマンス関連Tipsは、MPI実装にOpenMPI、OpenMP実装にGNUコンパイラ、及びジョブスケジューラにSlurmを取り上げ、第4世代AMD EPYCプロセッサを搭載するベア・メタル・シェイプBM.Standard.E5.192でこれらのコア割当て機能を駆使してプロセス・スレッドのコア割当てを行う方法を解説します。">



  <meta property="og:image" content="https://oracle-japan.github.io/ocitutorials/hpc/benchmark/cpu-binding-e5/e5_architecture_nps4.png">





  <meta property="article:published_time" content="2025-05-09T10:34:18+09:00">






<link rel="canonical" href="https://oracle-japan.github.io/ocitutorials/hpc/benchmark/cpu-binding-e5/">












<!-- end _includes/seo.html -->



  <link href="/ocitutorials/feed.xml" type="application/atom+xml" rel="alternate" title="Oracle Cloud Infrastructure チュートリアル Feed">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<script>
  document.documentElement.className = document.documentElement.className.replace(/\bno-js\b/g, '') + ' js ';
  
</script>

<!-- For all browsers -->
<link rel="stylesheet" href="/ocitutorials/assets/css/main.css">
<link rel="preload" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@latest/css/all.min.css" as="style" onload="this.onload=null;this.rel='stylesheet'">
<noscript><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@latest/css/all.min.css"></noscript>



    <!-- start custom head snippets -->

<!-- insert favicons. use https://realfavicongenerator.net/ -->

<link rel="icon" href="https://www.oracle.com/asset/web/favicons/favicon-32.png" sizes="32x32">
<link rel="icon" href="https://www.oracle.com/asset/web/favicons/favicon-128.png" sizes="128x128">
<link rel="icon" href="https://www.oracle.com/asset/web/favicons/favicon-192.png" sizes="192x192">
<link rel="apple-touch-icon" href="https://www.oracle.com/asset/web/favicons/favicon-120.png" sizes="120x120">
<link rel="apple-touch-icon" href="https://www.oracle.com/asset/web/favicons/favicon-152.png" sizes="152x152">
<link rel="apple-touch-icon" href="https://www.oracle.com/asset/web/favicons/favicon-180.png" sizes="180x180">
<link rel="shortcut icon" type="image/x-icon" href="/ocitutorials/assets/favicon/favicon.ico">
<link rel="manifest" href="/ocitutorials/assets/favicon/site.webmanifest">
<meta name="msapplication-TileColor" content="#da532c">
<meta name="theme-color" content="#ffffff">

<!-- end custom head snippets -->

  </head>

  <body class="layout--single" dir="ltr">
    <nav class="skip-links">
  <ul>
    <li><a href="#site-nav" class="screen-reader-shortcut">Skip to primary navigation</a></li>
    <li><a href="#main" class="screen-reader-shortcut">Skip to content</a></li>
    <li><a href="#footer" class="screen-reader-shortcut">Skip to footer</a></li>
  </ul>
</nav>

    

<div class="masthead">
  <div class="masthead__inner-wrap">
    <div class="masthead__menu">
      <nav id="site-nav" class="greedy-nav">
        
          <a class="site-logo" href="/ocitutorials/"><img src="/ocitutorials/assets/images/social-og-oracle-badge.jpg" alt="OCI チュートリアル"></a>
        
        <a class="site-title" href="/ocitutorials/">
          OCI チュートリアル
          <span class="site-subtitle">Oracle Cloud Infrastructure を使ってみよう</span>
        </a>
        <ul class="visible-links"><li class="masthead__menu-item">
              <a
                href="/ocitutorials/#%E3%83%81%E3%83%A5%E3%83%BC%E3%83%88%E3%83%AA%E3%82%A2%E3%83%AB%E3%82%B3%E3%83%B3%E3%83%86%E3%83%B3%E3%83%84%E4%B8%80%E8%A6%A7"
                
                
              >チュートリアル一覧</a>
            </li><li class="masthead__menu-item">
              <a
                href="/ocitutorials/about/"
                
                
              >このサイトについて</a>
            </li></ul>
        
        <button class="search__toggle" type="button">
          <span class="visually-hidden">Toggle search</span>
          <i class="fas fa-search"></i>
        </button>
        
        <button class="greedy-nav__toggle hidden" type="button">
          <span class="visually-hidden">メニュー</span>
          <div class="navicon"></div>
        </button>
        <ul class="hidden-links hidden"></ul>
      </nav>
    </div>
  </div>
</div>


    <div class="initial-content">
      
  







<div class="page__hero--overlay"
  style=" background-image: linear-gradient(rgba(34, 66, 55, 0.7), rgba(34, 66, 55, 0.7)), url('/ocitutorials/hpc/benchmark/cpu-binding-e5/e5_architecture_nps4.png');"
>
  
    <div class="wrapper">
      <h1 id="page-title" class="page__title" itemprop="headline">
        
          パフォーマンスを考慮したプロセス・スレッドのコア割当て指定方法（BM.Standard.E5.192編）

        
      </h1>
      
        <p class="page__lead">NUMAアーキテクチャを採用するインスタンスに於けるMPIやOpenMPの並列プログラム実行は、生成されるプロセスやスレッドをどのようにインスタンスのコアに割当てるかでその性能が大きく変動するため、その配置を意識してアプリケーションを実行することが求められます。このため、使用するシェイプに搭載されるプロセッサのアーキテクチャやアプリケーションの特性に合わせて意図したとおりにプロセスやスレッドをコアに配置するために必要な、MPI実装、OpenMP実装、及びジョブスケジューラが有するコア割当て制御機能に精通している必要があります。本パフォーマンス関連Tipsは、MPI実装にOpenMPI、OpenMP実装にGNUコンパイラ、及びジョブスケジューラにSlurmを取り上げ、第4世代AMD EPYCプロセッサを搭載するベア・メタル・シェイプBM.Standard.E5.192でこれらのコア割当て機能を駆使してプロセス・スレッドのコア割当てを行う方法を解説します。
</p>
      
      


      
    </div>
  
  
</div>






  
    



<nav class="breadcrumbs">
  <ol itemscope itemtype="https://schema.org/BreadcrumbList">
    
    
    
      
        <li itemprop="itemListElement" itemscope itemtype="https://schema.org/ListItem">
          <a href="/ocitutorials/" itemprop="item"><span itemprop="name">ホーム</span></a>

          <meta itemprop="position" content="1" />
        </li>
        <span class="sep">></span>
      
      
        
        <li itemprop="itemListElement" itemscope itemtype="https://schema.org/ListItem">
          <a href="/ocitutorials/hpc" itemprop="item"><span itemprop="name">Hpc</span></a>
          <meta itemprop="position" content="2" />
        </li>
        <span class="sep">></span>
      
    
      
      
        
        <li itemprop="itemListElement" itemscope itemtype="https://schema.org/ListItem">
          <a href="/ocitutorials/benchmark" itemprop="item"><span itemprop="name">Benchmark</span></a>
          <meta itemprop="position" content="3" />
        </li>
        <span class="sep">></span>
      
    
      
      
        <li class="current">パフォーマンスを考慮したプロセス・スレッドのコア割当て指定方法（BM.Standard.E5.192編）</li>
      
    
  </ol>
</nav>

  


<div id="main" role="main">
  
  <div class="sidebar sticky">
  
  
    
      
      
      
      
    
    
      

<nav class="nav__list">
  
  <input id="ac-toc" name="accordion-toc" type="checkbox" />
  <label for="ac-toc">メニュー</label>
  <ul class="nav__items">
    <li>
      
      <a href=""><span class="nav__sub-title">HPC編</span></a>
      <ul>
        
        
          <p></p><li><a href="/ocitutorials/hpc/spinup-cluster-network/">HPCクラスタを構築する(基礎インフラ手動構築編)</a></li></p>
        
          <p></p><li><a href="/ocitutorials/hpc/spinup-hpc-cluster-withterraform/">HPCクラスタを構築する(基礎インフラ自動構築編)</a></li></p>
        
          <p></p><li><a href="/ocitutorials/hpc/spinup-hpc-cluster/">HPCクラスタを構築する(スタティッククラスタ自動構築編)</a></li></p>
        
          <p></p><li><a href="/ocitutorials/hpc/spinup-hpc-cluster-withautoscaling/">HPCクラスタを構築する(オンデマンドクラスタ自動構築編)</a></li></p>
        
          <p></p><li><a href="/ocitutorials/hpc/spinup-ml-instance/">GPUインスタンスで機械学習にトライ</a></li></p>
        
          <p></p><li><a href="/ocitutorials/hpc/spinup-ml-instance-cntnd/">GPUインスタンスで分散機械学習環境を構築する</a></li></p>
        
          <p></p><li><a href="/ocitutorials/hpc/spinup-gpu-cluster/">GPUクラスタを構築する(基礎インフラ手動構築編)</a></li></p>
        
          <p></p><li><a href="/ocitutorials/hpc/spinup-gpu-cluster-withterraform/">GPUクラスタを構築する(基礎インフラ自動構築編)</a></li></p>
        
          <p></p><li><a href="/ocitutorials/hpc/spinup-gpu-cluster-withstack/">GPUクラスタを構築する(スタティッククラスタ自動構築編)</a></li></p>
        
          <p></p><li><a href="/ocitutorials/hpc/spinup-gpu-cluster-withautoscaling/">GPUクラスタを構築する(オンデマンドクラスタ自動構築編)</a></li></p>
        
          <p></p><li><a href="/ocitutorials/hpc/spinup-gpu-cluster-withubuntu/">GPUクラスタを構築する(Ubuntu OS編)</a></li></p>
        
          <p></p><li><a href="/ocitutorials/hpc/spinup-nfs-server-fss/">ファイル・ストレージでファイル共有ストレージを構築する</a></li></p>
        
          <p></p><li><a href="/ocitutorials/hpc/spinup-lustre-server-fswl/">File Storage with Lustreでファイル共有ストレージを構築する</a></li></p>
        
          <p></p><li><a href="/ocitutorials/hpc/spinup-nfs-server/">ブロック・ボリュームでファイル共有ストレージを構築する</a></li></p>
        
          <p></p><li><a href="/ocitutorials/hpc/spinup-nfs-server-nvme/">短期保存データ用高速ファイル共有ストレージを構築する</a></li></p>
        
          <p></p><li><a href="/ocitutorials/hpc/spinup-backup-server/">ベア・メタル・インスタンスNFSサーバ向けバックアップサーバを構築する</a></li></p>
        
          <p></p><li><a href="/ocitutorials/hpc/cluster-with-bv-base/">ブロック・ボリュームNFSサーバと基礎インフラ編HPC/GPUクラスタを組み合わせる</a></li></p>
        
          <p></p><li><a href="/ocitutorials/hpc/cluster-with-bv-stack/">ブロック・ボリュームNFSサーバと自動構築編HPC/GPUクラスタを組み合わせる</a></li></p>
        
          <p></p><li><a href="/ocitutorials/hpc/benchmark/run-hpl/">HPL実行方法（BM.Optimized3.36編）</a></li></p>
        
          <p></p><li><a href="/ocitutorials/hpc/benchmark/run-hpl-e5/">HPL実行方法（BM.Standard.E5.192編）</a></li></p>
        
          <p></p><li><a href="/ocitutorials/hpc/benchmark/run-stream/">STREAM実行方法（BM.Optimized3.36編）</a></li></p>
        
          <p></p><li><a href="/ocitutorials/hpc/benchmark/run-stream-e5/">STREAM実行方法（BM.Standard.E5.192編）</a></li></p>
        
          <p></p><li><a href="/ocitutorials/hpc/benchmark/run-imb/">Intel MPI Benchmarks実行方法</a></li></p>
        
          <p></p><li><a href="/ocitutorials/hpc/benchmark/run-nccltests/">NCCL Tests実行方法（BM.GPU4.8/BM.GPU.A100-v2.8編）</a></li></p>
        
          <p></p><li><a href="/ocitutorials/hpc/benchmark/run-nccltests-h100/">NCCL Tests実行方法（BM.GPU.H100.8編）</a></li></p>
        
          <p></p><li><a href="/ocitutorials/hpc/benchmark/bios-setting/">パフォーマンスに関連するベアメタルインスタンスのBIOS設定方法</a></li></p>
        
          <p></p><li><a href="/ocitutorials/hpc/benchmark/stop-unused-service/">不要サービス停止によるパフォーマンスチューニング方法</a></li></p>
        
          <p></p><li><a href="/ocitutorials/hpc/benchmark/topology-aware-cn-tuning/">クラスタ・ネットワークのトポロジーを考慮したノード間通信最適化方法</a></li></p>
        
          <p></p><li><a href="/ocitutorials/hpc/benchmark/openfoam-tuning/">CFD解析フローのコストパフォーマンを向上させるOpenFOAM関連Tips</a></li></p>
        
          <p></p><li><a href="/ocitutorials/hpc/benchmark/openmpi-perftips/">OpenMPIのMPI通信性能に影響するパラメータとその関連Tips</a></li></p>
        
          <p></p><li><a href="/ocitutorials/hpc/benchmark/cpu-binding/">パフォーマンスを考慮したプロセス・スレッドのコア割当て指定方法（BM.Optimized3.36編）</a></li></p>
        
          <p></p><li><a href="/ocitutorials/hpc/benchmark/cpu-binding-e5/" class="active">パフォーマンスを考慮したプロセス・スレッドのコア割当て指定方法（BM.Standard.E5.192編）</a></li></p>
        
          <p></p><li><a href="/ocitutorials/hpc/benchmark/openmpi-perftune/">OpenMPIのMPI集合通信チューニング方法（BM.Optimized3.36編）</a></li></p>
        
          <p></p><li><a href="/ocitutorials/hpc/benchmark/cpu-binding-e6/">パフォーマンスを考慮したプロセス・スレッドのコア割当て指定方法（BM.Standard.E6.256編）</a></li></p>
        
          <p></p><li><a href="/ocitutorials/hpc/benchmark/openmpi-perftune-e5/">OpenMPIのMPI集合通信チューニング方法（BM.Standard.E5.192編）</a></li></p>
        
          <p></p><li><a href="/ocitutorials/hpc/benchmark/papi-profiling/">PAPIでHPCアプリケーションをプロファイリング</a></li></p>
        
          <p></p><li><a href="/ocitutorials/hpc/benchmark/scorep-profiling/">Score-P・Scalasca・CubeGUIで並列アプリケーションをプロファイリング</a></li></p>
        
          <p></p><li><a href="/ocitutorials/hpc/tech-knowhow/howto-connect-clusternetwork/">クラスタネットワーキングイメージを使ったクラスタ・ネットワーク接続方法</a></li></p>
        
          <p></p><li><a href="/ocitutorials/hpc/tech-knowhow/rdma-interface-configure/">クラスタ・ネットワーク接続用ネットワークインターフェース作成方法</a></li></p>
        
          <p></p><li><a href="/ocitutorials/hpc/tech-knowhow/osimage-for-cluster/">クラスタネットワーキングイメージの選び方</a></li></p>
        
          <p></p><li><a href="/ocitutorials/hpc/tech-knowhow/howto-create-cnenabled-osimage/">クラスタ・ネットワーク未対応OSを使ったクラスタ・ネットワーク接続方法</a></li></p>
        
          <p></p><li><a href="/ocitutorials/hpc/tech-knowhow/determine-cnrelated-issue/">クラスタ・ネットワークに接続する計算/GPUノード作成時の問題判別方法</a></li></p>
        
          <p></p><li><a href="/ocitutorials/hpc/tech-knowhow/howto-get-cnrelated-statistics/">クラスタ・ネットワーク統計情報の取得方法</a></li></p>
        
          <p></p><li><a href="/ocitutorials/hpc/tech-knowhow/nvme-filesystem/">ベアメタルインスタンスのNVMe SSDローカルディスク領域ファイルシステム作成方法</a></li></p>
        
          <p></p><li><a href="/ocitutorials/hpc/tech-knowhow/howto-configure-sharedstorage/">HPC/GPUクラスタ向けファイル共有ストレージの最適な構築手法</a></li></p>
        
          <p></p><li><a href="/ocitutorials/hpc/tech-knowhow/bv-sharedstorage-recovery/">ブロック・ボリュームを使用するNFSサーバのインスタンス障害からの復旧方法</a></li></p>
        
          <p></p><li><a href="/ocitutorials/hpc/tech-knowhow/boot-volume-extension/">計算/GPUノードのブート・ボリューム動的拡張方法</a></li></p>
        
          <p></p><li><a href="/ocitutorials/hpc/tech-knowhow/howto-choose-osbackuptool/">ファイル共有ストレージ向けバックアップ環境の最適な構築手法</a></li></p>
        
          <p></p><li><a href="/ocitutorials/hpc/tech-knowhow/compute-name-resolution/">計算/GPUノードの効果的な名前解決方法</a></li></p>
        
          <p></p><li><a href="/ocitutorials/hpc/tech-knowhow/compute-os-customization/">計算/GPUノードデプロイ時の効果的なOSカスタマイズ方法</a></li></p>
        
          <p></p><li><a href="/ocitutorials/hpc/tech-knowhow/compute-host-list/">計算/GPUノードのホスト名リスト作成方法</a></li></p>
        
          <p></p><li><a href="/ocitutorials/hpc/tech-knowhow/cluster-resize/">計算/GPUノードの追加・削除・入れ替え方法</a></li></p>
        
          <p></p><li><a href="/ocitutorials/hpc/tech-knowhow/cluster-with-pdsh/">pdshで効率的にクラスタ管理オペレーションを実行</a></li></p>
        
          <p></p><li><a href="/ocitutorials/hpc/tech-knowhow/instance-principal-auth/">オンデマンドクラスタ実現のためのインスタンス・プリンシパル認証設定方法</a></li></p>
        
          <p></p><li><a href="/ocitutorials/hpc/tech-knowhow/log-monitoring/">OCIロギングとGrafanaを使用したHPC/GPUクラスタのログ監視方法</a></li></p>
        
          <p></p><li><a href="/ocitutorials/hpc/tech-knowhow/metric-monitoring/">OCIモニタリングとGrafanaを使用したHPC/GPUクラスタのメトリック監視方法</a></li></p>
        
          <p></p><li><a href="/ocitutorials/hpc/tech-knowhow/gpu-with-ubuntu/">UbuntuをOSとする機械学習ワークロード向けGPUノード構築方法</a></li></p>
        
          <p></p><li><a href="/ocitutorials/hpc/tech-knowhow/build-openmpi/">Slurm環境での利用を前提とするUCX通信フレームワークベースのOpenMPI構築方法</a></li></p>
        
          <p></p><li><a href="/ocitutorials/hpc/tech-knowhow/setup-slurm-cluster/">Slurmによるリソース管理・ジョブ管理システム構築方法</a></li></p>
        
          <p></p><li><a href="/ocitutorials/hpc/tech-knowhow/install-blas/">線形代数演算ライブラリインストール・利用方法</a></li></p>
        
          <p></p><li><a href="/ocitutorials/hpc/tech-knowhow/install-openfoam/">OpenFOAMインストール・利用方法</a></li></p>
        
          <p></p><li><a href="/ocitutorials/hpc/tech-knowhow/slurm-tips/">Slurmによるリソース管理・ジョブ管理システム運用Tips</a></li></p>
        
          <p></p><li><a href="/ocitutorials/hpc/tech-knowhow/build-oraclelinux-hpcenv/">Oracle Linuxプラットフォーム・イメージベースのHPCワークロード実行環境構築方法</a></li></p>
        
          <p></p><li><a href="/ocitutorials/hpc/tech-knowhow/kdump-on-baremetal/">ベアメタル・インスタンスのカーネルダンプ取得方法</a></li></p>
        
          <p></p><li><a href="/ocitutorials/hpc/tech-knowhow/site-to-site-vpn/">サイト間VPNによるOCIとの拠点間接続方法</a></li></p>
        
      </ul>
    </li>
  </ul>
</nav>
    
  
  </div>



  <article class="page" itemscope itemtype="https://schema.org/CreativeWork">
    <meta itemprop="headline" content="パフォーマンスを考慮したプロセス・スレッドのコア割当て指定方法（BM.Standard.E5.192編）">
    <meta itemprop="description" content="NUMAアーキテクチャを採用するインスタンスに於けるMPIやOpenMPの並列プログラム実行は、生成されるプロセスやスレッドをどのようにインスタンスのコアに割当てるかでその性能が大きく変動するため、その配置を意識してアプリケーションを実行することが求められます。このため、使用するシェイプに搭載されるプロセッサのアーキテクチャやアプリケーションの特性に合わせて意図したとおりにプロセスやスレッドをコアに配置するために必要な、MPI実装、OpenMP実装、及びジョブスケジューラが有するコア割当て制御機能に精通している必要があります。本パフォーマンス関連Tipsは、MPI実装にOpenMPI、OpenMP実装にGNUコンパイラ、及びジョブスケジューラにSlurmを取り上げ、第4世代AMD EPYCプロセッサを搭載するベア・メタル・シェイプBM.Standard.E5.192でこれらのコア割当て機能を駆使してプロセス・スレッドのコア割当てを行う方法を解説します。">
    <meta itemprop="datePublished" content="2025-05-09T10:34:18+09:00">
    

    <div class="page__inner-wrap">
      

      <section class="page__content" itemprop="text">
        
          <aside class="sidebar__right sticky">
            <nav class="toc">
              <header><h4 class="nav__title"><i class="fas fa-file-alt"></i> 目次</h4></header>
              <ul class="toc__menu"><li><a href="#0-概要">0. 概要</a><ul><li><a href="#0-0-概要">0-0. 概要</a></li><li><a href="#0-1-前提システム">0-1. 前提システム</a></li><li><a href="#0-2-コア割当てパターン">0-2. コア割当てパターン</a></li></ul></li><li><a href="#1-prrteを使用するプロセススレッドのコア割当て">1. PRRTEを使用するプロセス・スレッドのコア割当て</a><ul><li><a href="#1-0-概要">1-0. 概要</a></li><li><a href="#1-1-各コア割当てパターンのオプション環境変数組合せ">1-1. 各コア割当てパターンのオプション・環境変数組合せ</a></li></ul></li><li><a href="#2-slurmを使用するプロセススレッドのコア割当て">2. Slurmを使用するプロセス・スレッドのコア割当て</a><ul><li><a href="#2-0-概要">2-0. 概要</a></li><li><a href="#2-1-各コア割当てパターンのオプション環境変数組合せ">2-1. 各コア割当てパターンのオプション・環境変数組合せ</a></li></ul></li><li><a href="#3-プロセススレッドのコア割当て確認方法">3. プロセス・スレッドのコア割当て確認方法</a><ul><li><a href="#3-0-概要">3-0. 概要</a></li><li><a href="#3-1-コア割当て確認結果">3-1. コア割当て確認結果</a><ul><li><a href="#3-1-1-prrte">3-1-1. PRRTE</a></li><li><a href="#3-1-2-slurm">3-1-2. Slurm</a></li></ul></li></ul></li></ul>
            </nav>
          </aside>
        
        <hr />
<h1 id="0-概要">0. 概要</h1>

<h2 id="0-0-概要">0-0. 概要</h2>

<p>本パフォーマンス関連Tipsは、NUMA（Non-Umiform Memory Access）アーキテクチャを採用する第4世代 <strong>AMD EPYC</strong> プロセッサを搭載するベア・メタル・シェイプ <strong><a href="https://docs.oracle.com/ja-jp/iaas/Content/Compute/References/computeshapes.htm#bm-standard">BM.Standard.E5.192</a></strong> を使用するインスタンスで、並列プログラムの実行時性能に大きく影響するMPIが生成するプロセスとOpenMPが生成するスレッドのコア割当てについて、アプリケーション性能に有利となる典型的なパターンを例に挙げ、以下の観点でその実行方法を解説します。</p>

<ol>
  <li>PRRTEを使用するプロセス・スレッドのコア割当て<br />
この割当て方法は、 <strong><a href="https://www.open-mpi.org/">OpenMPI</a></strong> に同梱される <strong><a href="https://github.com/openpmix/prrte">PRRTE</a></strong> のMPIプロセスのコア割当て機能と、 <strong>GNUコンパイラ</strong> のOpenMPスレッドのコア割当て機能を組合せて、意図したプロセス・スレッドのコア割当てを実現します。<br />
この方法は、ジョブスケジューラを使用せずに <strong>mpirun</strong> を使用してMPI並列アプリケーションをインタラクティブに実行する場合に使用します。</li>
  <li>Slurmを使用するプロセス・スレッドのコア割当て<br />
この割当て方法は、 <strong><a href="https://slurm.schedmd.com/">Slurm</a></strong> のMPIプロセスのコア割当て機能と、 <strong>GNUコンパイラ</strong> のOpenMPスレッドのコア割当て機能を組合せて、意図したプロセス・スレッドのコア割当てを実現します。<br />
この方法は、 <strong>Slurm</strong> のジョブスケジューラ環境で <strong>srun</strong> を使用してMPI並列アプリケーションを実行する場合に使用します。</li>
</ol>

<p>また最後の章では、プロセス・スレッドのコア割当てが想定通りに行われているかどうかを確認する方法と、この方法を使用して本パフォーマンス関連Tipsで紹介したコア割当てを行った際の出力例を紹介します。</p>

<p>なお、プロセス・スレッドのコア割当て同様に並列プログラムの実行時性能に大きく影響するメモリ割り当ては、割当てられるコアと同一NUMAノード内のメモリを割り当てることにより多くのケースで性能が最大となることから、以下のように <strong>- -localalloc</strong> オプションを付与した <strong>numactl</strong> コマンドの使用を前提とし、本パフォーマンス関連Tipsの実行例を記載します。</p>

<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>numactl <span class="nt">--localalloc</span> a.out
</code></pre></div></div>

<h2 id="0-1-前提システム">0-1. 前提システム</h2>

<p>プロセス・スレッドのコア割当ては、使用するインスタンスのNUMAアーキテクチャやNUMAノードの構成方法に影響を受けますが、本パフォーマンス関連Tipsでは <strong>BM.Standard.E5.192</strong> を使用し、NUMAノード構成に <strong>NUMA nodes per socket</strong> （以降 <strong>NPS</strong> と呼称します。）が <strong>1</strong> （これがデフォルトで、以降 <strong>NPS1</strong> と呼称します。）と <strong>4</strong> （以降 <strong>NPS4</strong> と呼称します。）の場合を取り上げ（※1）、それぞれに関するコア割当て方法を解説します。</p>

<p>また使用する <strong>BM.Standard.E5.192</strong> は、 <strong>Simultanious Multi Threading</strong> （以降 <strong>SMT</strong> と呼称します。）を無効化（デフォルトは有効です。）しています。（※1）</p>

<p>※1）<strong>NPS</strong> と <strong>SMT</strong> の設定方法は、 <strong><a href="/ocitutorials/hpc/#2-oci-hpcパフォーマンス関連情報">OCI HPCパフォーマンス関連情報</a></strong> の <strong><a href="/ocitutorials/hpc/benchmark/bios-setting/">パフォーマンスに関連するベアメタルインスタンスのBIOS設定方法</a></strong> を参照してください。</p>

<p>以下は、 <strong>BM.Standard.E5.192</strong> のスペックです。</p>

<ul>
  <li>CPU
    <ul>
      <li><strong>AMD EPYC</strong> 9654ベース x 2</li>
      <li>コア数： 192（ソケット当たり96・ <strong>Core Complex Die</strong> （※2）あたり8）</li>
      <li><strong>CCD</strong> 数： 24</li>
      <li>L3キャッシュ： 768 MB（ <strong>CCD</strong> 当たり32 MB）</li>
      <li>理論性能： 7.3728 TFLOPS（ベース動作周波数2.4 GHz時）</li>
    </ul>
  </li>
  <li>メモリ
    <ul>
      <li>テクノロジ： DDR5</li>
      <li>チャネル数： 24</li>
      <li>帯域： 921.6 GB/s</li>
      <li>容量： 2.3 TB</li>
    </ul>
  </li>
</ul>

<p>※2）以降 <strong>CCD</strong> と呼称します。</p>

<p>また以下は、 <strong>BM.Standard.E5.192</strong> のアーキテクチャ図です。</p>

<p><img src="e5_architecture_nps1.png" alt="BM.Standard.E5.192アーキテクチャ図 NPS1" /></p>

<p><img src="e5_architecture_nps4.png" alt="BM.Standard.E5.192アーキテクチャ図 NPS4" /></p>

<h2 id="0-2-コア割当てパターン">0-2. コア割当てパターン</h2>

<p>本パフォーマンス関連Tipsで取り上げるプロセス・スレッドのコア割当ては、パフォーマンスの観点で利用頻度の高い以下のパターンを解説します。<br />
ここで取り上げるコア割当てパターンは、第4世代 <strong>AMD EPYC</strong> プロセッサが <strong>CCD</strong> 単位にL3キャッシュを搭載し、L3キャッシュ当たりの割当てコア数を均等にすることで性能向上を得やすい点を考慮します。</p>

<table>
  <thead>
    <tr>
      <th style="text-align: center">No.</th>
      <th style="text-align: center">NPS</th>
      <th style="text-align: center">ノード当たり<br />プロセス数</th>
      <th style="text-align: center">プロセス当たり<br />スレッド数</th>
      <th style="text-align: center">プロセス分割方法<br />（※2）</th>
      <th style="text-align: center">備考</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: center"><strong>1</strong></td>
      <td style="text-align: center"><strong>NPS1</strong></td>
      <td style="text-align: center">1</td>
      <td style="text-align: center">1</td>
      <td style="text-align: center">-</td>
      <td style="text-align: center">-</td>
    </tr>
    <tr>
      <td style="text-align: center"><strong>2</strong></td>
      <td style="text-align: center"><strong>NPS1</strong></td>
      <td style="text-align: center">2</td>
      <td style="text-align: center">1</td>
      <td style="text-align: center">-</td>
      <td style="text-align: center"><strong>NUMA</strong> ノード当たり1プロセス</td>
    </tr>
    <tr>
      <td style="text-align: center"><strong>3</strong></td>
      <td style="text-align: center"><strong>NPS1</strong></td>
      <td style="text-align: center">24</td>
      <td style="text-align: center">1</td>
      <td style="text-align: center">-</td>
      <td style="text-align: center"><strong>CCD</strong> 当たり1プロセス</td>
    </tr>
    <tr>
      <td style="text-align: center"><strong>4</strong></td>
      <td style="text-align: center"><strong>NPS1</strong></td>
      <td style="text-align: center">48</td>
      <td style="text-align: center">1</td>
      <td style="text-align: center">ブロック分割</td>
      <td style="text-align: center"><strong>CCD</strong> 当たり2プロセス</td>
    </tr>
    <tr>
      <td style="text-align: center"><strong>5</strong></td>
      <td style="text-align: center"><strong>NPS1</strong></td>
      <td style="text-align: center">48</td>
      <td style="text-align: center">1</td>
      <td style="text-align: center">サイクリック分割</td>
      <td style="text-align: center"><strong>CCD</strong> 当たり2プロセス</td>
    </tr>
    <tr>
      <td style="text-align: center"><strong>6</strong></td>
      <td style="text-align: center"><strong>NPS1</strong></td>
      <td style="text-align: center">96</td>
      <td style="text-align: center">1</td>
      <td style="text-align: center">ブロック分割</td>
      <td style="text-align: center"><strong>CCD</strong> 当たり4プロセス</td>
    </tr>
    <tr>
      <td style="text-align: center"><strong>7</strong></td>
      <td style="text-align: center"><strong>NPS1</strong></td>
      <td style="text-align: center">96</td>
      <td style="text-align: center">1</td>
      <td style="text-align: center">サイクリック分割</td>
      <td style="text-align: center"><strong>CCD</strong> 当たり4プロセス</td>
    </tr>
    <tr>
      <td style="text-align: center"><strong>8</strong></td>
      <td style="text-align: center"><strong>NPS1</strong></td>
      <td style="text-align: center">192</td>
      <td style="text-align: center">1</td>
      <td style="text-align: center">ブロック分割</td>
      <td style="text-align: center"><strong>CCD</strong> 当たり8プロセス</td>
    </tr>
    <tr>
      <td style="text-align: center"><strong>9</strong></td>
      <td style="text-align: center"><strong>NPS1</strong></td>
      <td style="text-align: center">192</td>
      <td style="text-align: center">1</td>
      <td style="text-align: center">サイクリック分割</td>
      <td style="text-align: center"><strong>CCD</strong> 当たり8プロセス</td>
    </tr>
    <tr>
      <td style="text-align: center"><strong>10</strong></td>
      <td style="text-align: center"><strong>NPS1</strong></td>
      <td style="text-align: center">2</td>
      <td style="text-align: center">96</td>
      <td style="text-align: center">-</td>
      <td style="text-align: center"><strong>NUMA</strong> ノード当たり1プロセス<br />MPI/OpenMPハイブリッド並列実行</td>
    </tr>
    <tr>
      <td style="text-align: center"><strong>11</strong></td>
      <td style="text-align: center"><strong>NPS1</strong></td>
      <td style="text-align: center">24</td>
      <td style="text-align: center">8</td>
      <td style="text-align: center">-</td>
      <td style="text-align: center"><strong>CCD</strong> 当たり1プロセス<br />MPI/OpenMPハイブリッド並列実行</td>
    </tr>
    <tr>
      <td style="text-align: center"><strong>12</strong></td>
      <td style="text-align: center"><strong>NPS4</strong></td>
      <td style="text-align: center">8</td>
      <td style="text-align: center">1</td>
      <td style="text-align: center">-</td>
      <td style="text-align: center"><strong>NUMA</strong> ノード当たり1プロセス</td>
    </tr>
    <tr>
      <td style="text-align: center"><strong>13</strong></td>
      <td style="text-align: center"><strong>NPS4</strong></td>
      <td style="text-align: center">24</td>
      <td style="text-align: center">1</td>
      <td style="text-align: center">-</td>
      <td style="text-align: center"><strong>CCD</strong> 当たり1プロセス</td>
    </tr>
    <tr>
      <td style="text-align: center"><strong>14</strong></td>
      <td style="text-align: center"><strong>NPS4</strong></td>
      <td style="text-align: center">48</td>
      <td style="text-align: center">1</td>
      <td style="text-align: center">ブロック分割</td>
      <td style="text-align: center"><strong>CCD</strong> 当たり2プロセス</td>
    </tr>
    <tr>
      <td style="text-align: center"><strong>15</strong></td>
      <td style="text-align: center"><strong>NPS4</strong></td>
      <td style="text-align: center">48</td>
      <td style="text-align: center">1</td>
      <td style="text-align: center">サイクリック分割</td>
      <td style="text-align: center"><strong>CCD</strong> 当たり2プロセス</td>
    </tr>
    <tr>
      <td style="text-align: center"><strong>16</strong></td>
      <td style="text-align: center"><strong>NPS4</strong></td>
      <td style="text-align: center">96</td>
      <td style="text-align: center">1</td>
      <td style="text-align: center">ブロック分割</td>
      <td style="text-align: center"><strong>CCD</strong> 当たり4プロセス</td>
    </tr>
    <tr>
      <td style="text-align: center"><strong>17</strong></td>
      <td style="text-align: center"><strong>NPS4</strong></td>
      <td style="text-align: center">96</td>
      <td style="text-align: center">1</td>
      <td style="text-align: center">サイクリック分割</td>
      <td style="text-align: center"><strong>CCD</strong> 当たり4プロセス</td>
    </tr>
    <tr>
      <td style="text-align: center"><strong>18</strong></td>
      <td style="text-align: center"><strong>NPS4</strong></td>
      <td style="text-align: center">192</td>
      <td style="text-align: center">1</td>
      <td style="text-align: center">ブロック分割</td>
      <td style="text-align: center"><strong>CCD</strong> 当たり8プロセス</td>
    </tr>
    <tr>
      <td style="text-align: center"><strong>19</strong></td>
      <td style="text-align: center"><strong>NPS4</strong></td>
      <td style="text-align: center">192</td>
      <td style="text-align: center">1</td>
      <td style="text-align: center">サイクリック分割</td>
      <td style="text-align: center"><strong>CCD</strong> 当たり8プロセス</td>
    </tr>
    <tr>
      <td style="text-align: center"><strong>20</strong></td>
      <td style="text-align: center"><strong>NPS4</strong></td>
      <td style="text-align: center">8</td>
      <td style="text-align: center">24</td>
      <td style="text-align: center">-</td>
      <td style="text-align: center"><strong>NUMA</strong> ノード当たり1プロセス<br />MPI/OpenMPハイブリッド並列実行</td>
    </tr>
    <tr>
      <td style="text-align: center"><strong>21</strong></td>
      <td style="text-align: center"><strong>NPS4</strong></td>
      <td style="text-align: center">24</td>
      <td style="text-align: center">8</td>
      <td style="text-align: center">-</td>
      <td style="text-align: center"><strong>CCD</strong> 当たり1プロセス<br />MPI/OpenMPハイブリッド並列実行</td>
    </tr>
  </tbody>
</table>

<p>※2） <strong>CCD</strong> に対するプロセスの分割方法を示します。</p>

<p><img src="core_binding1.png" alt="コアバインディング1" /></p>

<p><img src="core_binding2.png" alt="コアバインディング2" /></p>

<p><img src="core_binding3.png" alt="コアバインディング3" /></p>

<p><img src="core_binding4.png" alt="コアバインディング4" /></p>

<p><img src="core_binding5.png" alt="コアバインディング5" /></p>

<p><img src="core_binding6.png" alt="コアバインディング6" /></p>

<p><img src="core_binding7.png" alt="コアバインディング7" /></p>

<p><img src="core_binding8.png" alt="コアバインディング8" /></p>

<p><img src="core_binding9.png" alt="コアバインディング9" /></p>

<p><img src="core_binding10.png" alt="コアバインディング10" /></p>

<p><img src="core_binding11.png" alt="コアバインディング11" /></p>

<hr />
<h1 id="1-prrteを使用するプロセススレッドのコア割当て">1. PRRTEを使用するプロセス・スレッドのコア割当て</h1>

<h2 id="1-0-概要">1-0. 概要</h2>

<p>本章は、 <strong><a href="/ocitutorials/hpc/#3-oci-hpcテクニカルtips集">OCI HPCテクニカルTips集</a></strong> の <strong><a href="/ocitutorials/hpc/tech-knowhow/build-oraclelinux-hpcenv/">Oracle Linuxプラットフォーム・イメージベースのHPCワークロード実行環境構築方法</a></strong> に従って構築された <strong>OpenMPI</strong> に含まれる <strong>PRRTE</strong> を使用し、 <strong><a href="#0-2-コア割当てパターン">0-2. コア割当てパターン</a></strong> に記載のコア割当てを実現する方法を解説します。</p>

<p>以降で解説するコア割当て方法は、以下の <strong>mpirun</strong> コマンドオプションと <strong>GNUコンパイラ</strong> 環境変数を組合せて実現します。</p>

<p>[ <strong>mpirun</strong> オプション]</p>
<ul>
  <li><strong>-n</strong> ：起動するMPIプロセス数</li>
  <li><strong>- -bind-to</strong> ：MPIプロセスを割当てるリソース単位</li>
  <li><strong>- -map-by</strong> ：MPIプロセスを割り振るリソース単位</li>
  <li><strong>- -rank-by</strong> ：MPIプロセスを割り振るポリシー</li>
</ul>

<p>[ <strong>GNUコンパイラ</strong> 環境変数]</p>
<ul>
  <li><strong>OMP_NUM_THREADS</strong> ：MPIプロセス当たりのOpenMPスレッド数</li>
  <li><strong>OMP_PROC_BIND</strong> ：OpenMPスレッドのコア割当て方法</li>
</ul>

<p>例えば <strong>No. 9</strong> のコア割当てを行う場合のコマンドは、以下になります。</p>

<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>mpirun <span class="nt">-n</span> 192 <span class="nt">--bind-to</span> core <span class="nt">--map-by</span> ppr:8:l3cache <span class="nt">--rank-by</span> span numactl <span class="nt">--localalloc</span> ./a.out
</code></pre></div></div>

<p>また <strong>No. 11</strong> のコア割当てを行う場合のコマンドは、以下になります。</p>

<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>mpirun <span class="nt">-n</span> 24 <span class="nt">--bind-to</span> core <span class="nt">--map-by</span> ppr:1:l3cache:PE<span class="o">=</span>8 <span class="nt">-x</span> <span class="nv">OMP_NUM_THREAD</span><span class="o">=</span>8 <span class="nt">-x</span> <span class="nv">OMP_PROC_BIND</span><span class="o">=</span>TRUE numactl <span class="nt">--localalloc</span> ./a.out
</code></pre></div></div>

<p>以降では、コア割当てパターンを実現するオプション・環境変数の組み合わせを解説します。</p>

<h2 id="1-1-各コア割当てパターンのオプション環境変数組合せ">1-1. 各コア割当てパターンのオプション・環境変数組合せ</h2>

<p>本章は、 <strong><a href="#0-2-コア割当てパターン">0-2. コア割当てパターン</a></strong> に記載のコア割当てを実現するための、 <strong>mpirun</strong> コマンドオプションと <strong>GNUコンパイラ</strong> 環境変数の組合せを記載します。<br />
なお、表中に <strong>-</strong> と記載されている箇所は、そのオプション・環境変数を指定する必要が無い（デフォルトのままで良い）ことを示します。</p>

<table>
  <thead>
    <tr>
      <th style="text-align: center">No.</th>
      <th style="text-align: center">-n</th>
      <th style="text-align: center">- -bind-to</th>
      <th style="text-align: center">- -map-by</th>
      <th style="text-align: center">- -rank-by</th>
      <th style="text-align: center">OMP_NUM_THREADS</th>
      <th style="text-align: center">OMP_PROC_BIND</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: center"><strong>1</strong></td>
      <td style="text-align: center">1</td>
      <td style="text-align: center">-</td>
      <td style="text-align: center">-</td>
      <td style="text-align: center">-</td>
      <td style="text-align: center">-</td>
      <td style="text-align: center">-</td>
    </tr>
    <tr>
      <td style="text-align: center"><strong>2</strong></td>
      <td style="text-align: center">2</td>
      <td style="text-align: center">core</td>
      <td style="text-align: center">ppr:1:package</td>
      <td style="text-align: center">-</td>
      <td style="text-align: center">-</td>
      <td style="text-align: center">-</td>
    </tr>
    <tr>
      <td style="text-align: center"><strong>3</strong></td>
      <td style="text-align: center">24</td>
      <td style="text-align: center">core</td>
      <td style="text-align: center">ppr:1:l3cache</td>
      <td style="text-align: center">-</td>
      <td style="text-align: center">-</td>
      <td style="text-align: center">-</td>
    </tr>
    <tr>
      <td style="text-align: center"><strong>4</strong></td>
      <td style="text-align: center">48</td>
      <td style="text-align: center">core</td>
      <td style="text-align: center">ppr:2:l3cache</td>
      <td style="text-align: center">-</td>
      <td style="text-align: center">-</td>
      <td style="text-align: center">-</td>
    </tr>
    <tr>
      <td style="text-align: center"><strong>5</strong></td>
      <td style="text-align: center">48</td>
      <td style="text-align: center">core</td>
      <td style="text-align: center">ppr:2:l3cache</td>
      <td style="text-align: center">span</td>
      <td style="text-align: center">-</td>
      <td style="text-align: center">-</td>
    </tr>
    <tr>
      <td style="text-align: center"><strong>6</strong></td>
      <td style="text-align: center">96</td>
      <td style="text-align: center">core</td>
      <td style="text-align: center">ppr:4:l3cache</td>
      <td style="text-align: center">-</td>
      <td style="text-align: center">-</td>
      <td style="text-align: center">-</td>
    </tr>
    <tr>
      <td style="text-align: center"><strong>7</strong></td>
      <td style="text-align: center">96</td>
      <td style="text-align: center">core</td>
      <td style="text-align: center">ppr:4:l3cache</td>
      <td style="text-align: center">span</td>
      <td style="text-align: center">-</td>
      <td style="text-align: center">-</td>
    </tr>
    <tr>
      <td style="text-align: center"><strong>8</strong></td>
      <td style="text-align: center">192</td>
      <td style="text-align: center">core</td>
      <td style="text-align: center">-</td>
      <td style="text-align: center">-</td>
      <td style="text-align: center">-</td>
      <td style="text-align: center">-</td>
    </tr>
    <tr>
      <td style="text-align: center"><strong>9</strong></td>
      <td style="text-align: center">192</td>
      <td style="text-align: center">core</td>
      <td style="text-align: center">ppr:8:l3cache</td>
      <td style="text-align: center">span</td>
      <td style="text-align: center">-</td>
      <td style="text-align: center">-</td>
    </tr>
    <tr>
      <td style="text-align: center"><strong>10</strong></td>
      <td style="text-align: center">2</td>
      <td style="text-align: center">core</td>
      <td style="text-align: center">ppr:1:package:PE=96</td>
      <td style="text-align: center">-</td>
      <td style="text-align: center">96</td>
      <td style="text-align: center">TRUE</td>
    </tr>
    <tr>
      <td style="text-align: center"><strong>11</strong></td>
      <td style="text-align: center">24</td>
      <td style="text-align: center">core</td>
      <td style="text-align: center">ppr:1:l3cache:PE=8</td>
      <td style="text-align: center">-</td>
      <td style="text-align: center">8</td>
      <td style="text-align: center">TRUE</td>
    </tr>
    <tr>
      <td style="text-align: center"><strong>12</strong></td>
      <td style="text-align: center">8</td>
      <td style="text-align: center">core</td>
      <td style="text-align: center">ppr:1:numa</td>
      <td style="text-align: center">-</td>
      <td style="text-align: center">-</td>
      <td style="text-align: center">-</td>
    </tr>
    <tr>
      <td style="text-align: center"><strong>13</strong></td>
      <td style="text-align: center">24</td>
      <td style="text-align: center">core</td>
      <td style="text-align: center">ppr:1:l3cache</td>
      <td style="text-align: center">-</td>
      <td style="text-align: center">-</td>
      <td style="text-align: center">-</td>
    </tr>
    <tr>
      <td style="text-align: center"><strong>14</strong></td>
      <td style="text-align: center">48</td>
      <td style="text-align: center">core</td>
      <td style="text-align: center">ppr:2:l3cache</td>
      <td style="text-align: center">-</td>
      <td style="text-align: center">-</td>
      <td style="text-align: center">-</td>
    </tr>
    <tr>
      <td style="text-align: center"><strong>15</strong></td>
      <td style="text-align: center">48</td>
      <td style="text-align: center">core</td>
      <td style="text-align: center">ppr:2:l3cache</td>
      <td style="text-align: center">span</td>
      <td style="text-align: center">-</td>
      <td style="text-align: center">-</td>
    </tr>
    <tr>
      <td style="text-align: center"><strong>16</strong></td>
      <td style="text-align: center">96</td>
      <td style="text-align: center">core</td>
      <td style="text-align: center">ppr:4:l3cache</td>
      <td style="text-align: center">-</td>
      <td style="text-align: center">-</td>
      <td style="text-align: center">-</td>
    </tr>
    <tr>
      <td style="text-align: center"><strong>17</strong></td>
      <td style="text-align: center">96</td>
      <td style="text-align: center">core</td>
      <td style="text-align: center">ppr:4:l3cache</td>
      <td style="text-align: center">span</td>
      <td style="text-align: center">-</td>
      <td style="text-align: center">-</td>
    </tr>
    <tr>
      <td style="text-align: center"><strong>18</strong></td>
      <td style="text-align: center">192</td>
      <td style="text-align: center">core</td>
      <td style="text-align: center">-</td>
      <td style="text-align: center">-</td>
      <td style="text-align: center">-</td>
      <td style="text-align: center">-</td>
    </tr>
    <tr>
      <td style="text-align: center"><strong>19</strong></td>
      <td style="text-align: center">192</td>
      <td style="text-align: center">core</td>
      <td style="text-align: center">ppr:8:l3cache</td>
      <td style="text-align: center">span</td>
      <td style="text-align: center">-</td>
      <td style="text-align: center">-</td>
    </tr>
    <tr>
      <td style="text-align: center"><strong>20</strong></td>
      <td style="text-align: center">8</td>
      <td style="text-align: center">core</td>
      <td style="text-align: center">ppr:1:numa:PE=24</td>
      <td style="text-align: center">-</td>
      <td style="text-align: center">24</td>
      <td style="text-align: center">TRUE</td>
    </tr>
    <tr>
      <td style="text-align: center"><strong>21</strong></td>
      <td style="text-align: center">24</td>
      <td style="text-align: center">core</td>
      <td style="text-align: center">ppr:1:l3cache:PE=8</td>
      <td style="text-align: center">-</td>
      <td style="text-align: center">8</td>
      <td style="text-align: center">TRUE</td>
    </tr>
  </tbody>
</table>

<hr />
<h1 id="2-slurmを使用するプロセススレッドのコア割当て">2. Slurmを使用するプロセス・スレッドのコア割当て</h1>

<h2 id="2-0-概要">2-0. 概要</h2>

<p>本章は、 <strong><a href="/ocitutorials/hpc/#3-oci-hpcテクニカルtips集">OCI HPCテクニカルTips集</a></strong> の <strong><a href="/ocitutorials/hpc/tech-knowhow/setup-slurm-cluster/">Slurmによるリソース管理・ジョブ管理システム構築方法</a></strong> と <strong><a href="/ocitutorials/hpc/tech-knowhow/build-oraclelinux-hpcenv/">Oracle Linuxプラットフォーム・イメージベースのHPCワークロード実行環境構築方法</a></strong> に従って構築された <strong>BM.Standard.E5.192</strong> を計算ノードとする <strong>Slurm</strong> ジョブスケジューラ環境で、 <strong><a href="#0-2-コア割当てパターン">0-2. コア割当てパターン</a></strong> に記載のコア割当てを実現する方法を解説します。</p>

<p>以降で解説するコア割当て方法は、以下の <strong>srun</strong> コマンドオプションと <strong>GNUコンパイラ</strong> 環境変数を組合せて実現します。</p>

<p>[ <strong>srun</strong> オプション]</p>

<ul>
  <li><strong>-p</strong> ：投入するパーティション</li>
  <li><strong>-n</strong> ：起動するMPIプロセス数</li>
  <li><strong>-c</strong> ：プロセス当たりに割り当てるコア数</li>
  <li><strong>- -cpu-bind</strong> ：MPIプロセスを割当てるリソース単位</li>
  <li><strong>-m</strong> ：MPIプロセスを割り振るポリシー</li>
</ul>

<p>[ <strong>GNUコンパイラ</strong> 環境変数]</p>

<ul>
  <li><strong>OMP_NUM_THREADS</strong> ：MPIプロセス当たりのOpenMPスレッド数</li>
  <li><strong>OMP_PROC_BIND</strong> ：OpenMPスレッドのコア割当て方法</li>
</ul>

<p>例えば <strong>No. 9</strong> のコア割当てを行う場合のコマンドは、以下になります。</p>

<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>srun <span class="nt">-p</span> e5 <span class="nt">-n</span> 192 <span class="nt">--cpu-bind</span><span class="o">=</span>map_ldom:<span class="sb">`</span><span class="k">for </span>i <span class="k">in</span> <span class="se">\`</span><span class="nb">seq </span>0 7<span class="se">\`</span><span class="p">;</span> <span class="k">do for </span>j <span class="k">in</span> <span class="se">\`</span><span class="nb">echo </span>0 2 3 1 12 14 15 13<span class="se">\`</span><span class="p">;</span> <span class="k">do for </span>k <span class="k">in</span> <span class="se">\`</span><span class="nb">seq</span> <span class="nv">$j</span> 4 <span class="k">$((</span>j+8<span class="k">))</span><span class="se">\`</span><span class="p">;</span> <span class="k">do </span><span class="nb">echo</span> <span class="nt">-n</span> <span class="nv">$k</span><span class="s2">","</span><span class="p">;</span> <span class="k">done</span><span class="p">;</span> <span class="k">done</span><span class="p">;</span> <span class="k">done</span> | <span class="nb">sed</span> <span class="s1">'s/,$//g'</span><span class="sb">`</span> numactl <span class="nt">--localalloc</span> ./a.out
</code></pre></div></div>

<p>また <strong>No. 11</strong> のコア割当てを行う場合のコマンドは、以下になります。</p>

<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ OMP_NUM_THREADS</span><span class="o">=</span>8 <span class="nv">OMP_PROC_BIND</span><span class="o">=</span>TRUE srun <span class="nt">-p</span> e5 <span class="nt">-n</span> 24 <span class="nt">-c</span> 8 <span class="nt">--cpu-bind</span><span class="o">=</span>map_ldom:<span class="sb">`</span><span class="k">for </span>i <span class="k">in</span> <span class="se">\`</span><span class="nb">echo </span>0 2 3 1 12 14 15 13<span class="se">\`</span><span class="p">;</span> <span class="k">do </span><span class="nb">seq</span> <span class="nt">-s</span>, <span class="nv">$i</span> 4 <span class="k">$((</span>i+8<span class="k">))</span> | <span class="nb">tr</span> <span class="s1">'\n'</span> <span class="s1">','</span><span class="p">;</span> <span class="k">done</span> | <span class="nb">sed</span> <span class="s1">'s/,$//g'</span><span class="sb">`</span> numactl <span class="nt">--localalloc</span> ./a.out
</code></pre></div></div>

<p>以降では、コア割当てパターンを実現するオプション・環境変数の組み合わせを解説します。</p>

<h2 id="2-1-各コア割当てパターンのオプション環境変数組合せ">2-1. 各コア割当てパターンのオプション・環境変数組合せ</h2>

<p>本章は、 <strong><a href="#0-2-コア割当てパターン">0-2. コア割当てパターン</a></strong> に記載のコア割当てを実現するための、 <strong>srun</strong> コマンドオプションと <strong>GNUコンパイラ</strong> 環境変数の組合せを記載します。<br />
なお、表中に <strong>-</strong> と記載されている箇所は、そのオプション・環境変数を指定する必要が無い（デフォルトのままで良い）ことを示します。</p>

<table>
  <thead>
    <tr>
      <th style="text-align: center">No.</th>
      <th style="text-align: center">-p</th>
      <th style="text-align: center">-n</th>
      <th style="text-align: center">-c</th>
      <th style="text-align: center">- -cpu-bind</th>
      <th style="text-align: center">-m</th>
      <th style="text-align: center">OMP_NUM_THREADS</th>
      <th style="text-align: center">OMP_PROC_BIND</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: center"><strong>1</strong></td>
      <td style="text-align: center">e5</td>
      <td style="text-align: center">1</td>
      <td style="text-align: center">-</td>
      <td style="text-align: center">cores</td>
      <td style="text-align: center">-</td>
      <td style="text-align: center">-</td>
      <td style="text-align: center">-</td>
    </tr>
    <tr>
      <td style="text-align: center"><strong>2</strong></td>
      <td style="text-align: center">e5</td>
      <td style="text-align: center">2</td>
      <td style="text-align: center">-</td>
      <td style="text-align: center">cores</td>
      <td style="text-align: center">-</td>
      <td style="text-align: center">-</td>
      <td style="text-align: center">-</td>
    </tr>
    <tr>
      <td style="text-align: center"><strong>3</strong></td>
      <td style="text-align: center">e5</td>
      <td style="text-align: center">24</td>
      <td style="text-align: center">-</td>
      <td style="text-align: center">（※4）</td>
      <td style="text-align: center">-</td>
      <td style="text-align: center">-</td>
      <td style="text-align: center">-</td>
    </tr>
    <tr>
      <td style="text-align: center"><strong>4</strong></td>
      <td style="text-align: center">e5</td>
      <td style="text-align: center">48</td>
      <td style="text-align: center">-</td>
      <td style="text-align: center">（※4）</td>
      <td style="text-align: center">-</td>
      <td style="text-align: center">-</td>
      <td style="text-align: center">-</td>
    </tr>
    <tr>
      <td style="text-align: center"><strong>5</strong></td>
      <td style="text-align: center">e5</td>
      <td style="text-align: center">48</td>
      <td style="text-align: center">-</td>
      <td style="text-align: center">（※4）</td>
      <td style="text-align: center">-</td>
      <td style="text-align: center">-</td>
      <td style="text-align: center">-</td>
    </tr>
    <tr>
      <td style="text-align: center"><strong>6</strong></td>
      <td style="text-align: center">e5</td>
      <td style="text-align: center">96</td>
      <td style="text-align: center">-</td>
      <td style="text-align: center">（※4）</td>
      <td style="text-align: center">-</td>
      <td style="text-align: center">-</td>
      <td style="text-align: center">-</td>
    </tr>
    <tr>
      <td style="text-align: center"><strong>7</strong></td>
      <td style="text-align: center">e5</td>
      <td style="text-align: center">96</td>
      <td style="text-align: center">-</td>
      <td style="text-align: center">（※4）</td>
      <td style="text-align: center">-</td>
      <td style="text-align: center">-</td>
      <td style="text-align: center">-</td>
    </tr>
    <tr>
      <td style="text-align: center"><strong>8</strong></td>
      <td style="text-align: center">e5</td>
      <td style="text-align: center">192</td>
      <td style="text-align: center">-</td>
      <td style="text-align: center">（※4）</td>
      <td style="text-align: center">-</td>
      <td style="text-align: center">-</td>
      <td style="text-align: center">-</td>
    </tr>
    <tr>
      <td style="text-align: center"><strong>9</strong></td>
      <td style="text-align: center">e5</td>
      <td style="text-align: center">192</td>
      <td style="text-align: center">-</td>
      <td style="text-align: center">（※4）</td>
      <td style="text-align: center">-</td>
      <td style="text-align: center">-</td>
      <td style="text-align: center">-</td>
    </tr>
    <tr>
      <td style="text-align: center"><strong>10</strong></td>
      <td style="text-align: center">e5</td>
      <td style="text-align: center">2</td>
      <td style="text-align: center">96</td>
      <td style="text-align: center">socket</td>
      <td style="text-align: center">-</td>
      <td style="text-align: center">96</td>
      <td style="text-align: center">TRUE</td>
    </tr>
    <tr>
      <td style="text-align: center"><strong>11</strong></td>
      <td style="text-align: center">e5</td>
      <td style="text-align: center">24</td>
      <td style="text-align: center">8</td>
      <td style="text-align: center">（※4）</td>
      <td style="text-align: center">-</td>
      <td style="text-align: center">8</td>
      <td style="text-align: center">TRUE</td>
    </tr>
    <tr>
      <td style="text-align: center"><strong>12</strong></td>
      <td style="text-align: center">e5</td>
      <td style="text-align: center">8</td>
      <td style="text-align: center">-</td>
      <td style="text-align: center">（※4）</td>
      <td style="text-align: center">-</td>
      <td style="text-align: center">-</td>
      <td style="text-align: center">-</td>
    </tr>
    <tr>
      <td style="text-align: center"><strong>13</strong></td>
      <td style="text-align: center">e5</td>
      <td style="text-align: center">24</td>
      <td style="text-align: center">-</td>
      <td style="text-align: center">（※4）</td>
      <td style="text-align: center">-</td>
      <td style="text-align: center">-</td>
      <td style="text-align: center">-</td>
    </tr>
    <tr>
      <td style="text-align: center"><strong>14</strong></td>
      <td style="text-align: center">e5</td>
      <td style="text-align: center">48</td>
      <td style="text-align: center">-</td>
      <td style="text-align: center">（※4）</td>
      <td style="text-align: center">-</td>
      <td style="text-align: center">-</td>
      <td style="text-align: center">-</td>
    </tr>
    <tr>
      <td style="text-align: center"><strong>15</strong></td>
      <td style="text-align: center">e5</td>
      <td style="text-align: center">48</td>
      <td style="text-align: center">-</td>
      <td style="text-align: center">（※4）</td>
      <td style="text-align: center">-</td>
      <td style="text-align: center">-</td>
      <td style="text-align: center">-</td>
    </tr>
    <tr>
      <td style="text-align: center"><strong>16</strong></td>
      <td style="text-align: center">e5</td>
      <td style="text-align: center">96</td>
      <td style="text-align: center">-</td>
      <td style="text-align: center">（※4）</td>
      <td style="text-align: center">-</td>
      <td style="text-align: center">-</td>
      <td style="text-align: center">-</td>
    </tr>
    <tr>
      <td style="text-align: center"><strong>17</strong></td>
      <td style="text-align: center">e5</td>
      <td style="text-align: center">96</td>
      <td style="text-align: center">-</td>
      <td style="text-align: center">（※4）</td>
      <td style="text-align: center">-</td>
      <td style="text-align: center">-</td>
      <td style="text-align: center">-</td>
    </tr>
    <tr>
      <td style="text-align: center"><strong>18</strong></td>
      <td style="text-align: center">e5</td>
      <td style="text-align: center">192</td>
      <td style="text-align: center">-</td>
      <td style="text-align: center">（※4）</td>
      <td style="text-align: center">-</td>
      <td style="text-align: center">-</td>
      <td style="text-align: center">-</td>
    </tr>
    <tr>
      <td style="text-align: center"><strong>19</strong></td>
      <td style="text-align: center">e5</td>
      <td style="text-align: center">192</td>
      <td style="text-align: center">-</td>
      <td style="text-align: center">（※4）</td>
      <td style="text-align: center">-</td>
      <td style="text-align: center">-</td>
      <td style="text-align: center">-</td>
    </tr>
    <tr>
      <td style="text-align: center"><strong>21</strong></td>
      <td style="text-align: center">e5</td>
      <td style="text-align: center">24</td>
      <td style="text-align: center">8</td>
      <td style="text-align: center">（※4）</td>
      <td style="text-align: center">-</td>
      <td style="text-align: center">8</td>
      <td style="text-align: center">TRUE</td>
    </tr>
  </tbody>
</table>

<p>※4）コア割当てパターンの番号に応じて、 <strong>- -cpu-bind</strong> オプションの値に以下を指定します。</p>

<p>[No. 3]</p>
<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code>map_ldom:<span class="sb">`</span><span class="k">for </span>i <span class="k">in</span> <span class="se">\`</span><span class="nb">echo </span>0 2 3 1 12 14 15 13<span class="se">\`</span><span class="p">;</span> <span class="k">do </span><span class="nb">seq</span> <span class="nt">-s</span>, <span class="nv">$i</span> 4 <span class="k">$((</span>i+8<span class="k">))</span> | <span class="nb">tr</span> <span class="s1">'\n'</span> <span class="s1">','</span><span class="p">;</span> <span class="k">done</span> | <span class="nb">sed</span> <span class="s1">'s/,$//g'</span><span class="sb">`</span>
</code></pre></div></div>

<p>[No. 4]</p>
<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code>map_ldom:<span class="sb">`</span><span class="k">for </span>i <span class="k">in</span> <span class="se">\`</span><span class="nb">echo </span>0 2 3 1 12 14 15 13<span class="se">\`</span><span class="p">;</span> <span class="k">do for </span>j <span class="k">in</span> <span class="se">\`</span><span class="nb">seq</span> <span class="nv">$i</span> 4 <span class="k">$((</span>i+8<span class="k">))</span><span class="se">\`</span><span class="p">;</span> <span class="k">do for </span>k <span class="k">in</span> <span class="se">\`</span><span class="nb">seq </span>0 1<span class="se">\`</span><span class="p">;</span> <span class="k">do </span><span class="nb">echo</span> <span class="nt">-n</span> <span class="nv">$j</span><span class="s2">","</span><span class="p">;</span> <span class="k">done</span><span class="p">;</span> <span class="k">done</span><span class="p">;</span> <span class="k">done</span> | <span class="nb">sed</span> <span class="s1">'s/,$//g'</span><span class="sb">`</span>
</code></pre></div></div>

<p>[No. 5]</p>
<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code>map_ldom:<span class="sb">`</span><span class="k">for </span>i <span class="k">in</span> <span class="se">\`</span><span class="nb">seq </span>0 1<span class="se">\`</span><span class="p">;</span> <span class="k">do for </span>j <span class="k">in</span> <span class="se">\`</span><span class="nb">echo </span>0 2 3 1 12 14 15 13<span class="se">\`</span><span class="p">;</span> <span class="k">do for </span>k <span class="k">in</span> <span class="se">\`</span><span class="nb">seq</span> <span class="nv">$j</span> 4 <span class="k">$((</span>j+8<span class="k">))</span><span class="se">\`</span><span class="p">;</span> <span class="k">do </span><span class="nb">echo</span> <span class="nt">-n</span> <span class="nv">$k</span><span class="s2">","</span><span class="p">;</span> <span class="k">done</span><span class="p">;</span> <span class="k">done</span><span class="p">;</span> <span class="k">done</span> | <span class="nb">sed</span> <span class="s1">'s/,$//g'</span><span class="sb">`</span>
</code></pre></div></div>

<p>[No. 6]</p>
<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code>map_ldom:<span class="sb">`</span><span class="k">for </span>i <span class="k">in</span> <span class="se">\`</span><span class="nb">echo </span>0 2 3 1 12 14 15 13<span class="se">\`</span><span class="p">;</span> <span class="k">do for </span>j <span class="k">in</span> <span class="se">\`</span><span class="nb">seq</span> <span class="nv">$i</span> 4 <span class="k">$((</span>i+8<span class="k">))</span><span class="se">\`</span><span class="p">;</span> <span class="k">do for </span>k <span class="k">in</span> <span class="se">\`</span><span class="nb">seq </span>0 3<span class="se">\`</span><span class="p">;</span> <span class="k">do </span><span class="nb">echo</span> <span class="nt">-n</span> <span class="nv">$j</span><span class="s2">","</span><span class="p">;</span> <span class="k">done</span><span class="p">;</span> <span class="k">done</span><span class="p">;</span> <span class="k">done</span> | <span class="nb">sed</span> <span class="s1">'s/,$//g'</span><span class="sb">`</span>
</code></pre></div></div>

<p>[No. 7]</p>
<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code>map_ldom:<span class="sb">`</span><span class="k">for </span>i <span class="k">in</span> <span class="se">\`</span><span class="nb">seq </span>0 3<span class="se">\`</span><span class="p">;</span> <span class="k">do for </span>j <span class="k">in</span> <span class="se">\`</span><span class="nb">echo </span>0 2 3 1 12 14 15 13<span class="se">\`</span><span class="p">;</span> <span class="k">do for </span>k <span class="k">in</span> <span class="se">\`</span><span class="nb">seq</span> <span class="nv">$j</span> 4 <span class="k">$((</span>j+8<span class="k">))</span><span class="se">\`</span><span class="p">;</span> <span class="k">do </span><span class="nb">echo</span> <span class="nt">-n</span> <span class="nv">$k</span><span class="s2">","</span><span class="p">;</span> <span class="k">done</span><span class="p">;</span> <span class="k">done</span><span class="p">;</span> <span class="k">done</span> | <span class="nb">sed</span> <span class="s1">'s/,$//g'</span><span class="sb">`</span>
</code></pre></div></div>

<p>[No. 8]</p>
<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code>map_cpu:<span class="sb">`</span><span class="nb">seq</span> <span class="nt">-s</span>, 0 191 | <span class="nb">tr</span> <span class="nt">-d</span> <span class="s1">'\n'</span><span class="sb">`</span>
</code></pre></div></div>

<p>[No. 9]</p>
<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code>map_ldom:<span class="sb">`</span><span class="k">for </span>i <span class="k">in</span> <span class="se">\`</span><span class="nb">seq </span>0 7<span class="se">\`</span><span class="p">;</span> <span class="k">do for </span>j <span class="k">in</span> <span class="se">\`</span><span class="nb">echo </span>0 2 3 1 12 14 15 13<span class="se">\`</span><span class="p">;</span> <span class="k">do for </span>k <span class="k">in</span> <span class="se">\`</span><span class="nb">seq</span> <span class="nv">$j</span> 4 <span class="k">$((</span>j+8<span class="k">))</span><span class="se">\`</span><span class="p">;</span> <span class="k">do </span><span class="nb">echo</span> <span class="nt">-n</span> <span class="nv">$k</span><span class="s2">","</span><span class="p">;</span> <span class="k">done</span><span class="p">;</span> <span class="k">done</span><span class="p">;</span> <span class="k">done</span> | <span class="nb">sed</span> <span class="s1">'s/,$//g'</span><span class="sb">`</span>
</code></pre></div></div>

<p>[No. 11]</p>
<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code>map_ldom:<span class="sb">`</span><span class="k">for </span>i <span class="k">in</span> <span class="se">\`</span><span class="nb">echo </span>0 2 3 1 12 14 15 13<span class="se">\`</span><span class="p">;</span> <span class="k">do </span><span class="nb">seq</span> <span class="nt">-s</span>, <span class="nv">$i</span> 4 <span class="k">$((</span>i+8<span class="k">))</span> | <span class="nb">tr</span> <span class="s1">'\n'</span> <span class="s1">','</span><span class="p">;</span> <span class="k">done</span> | <span class="nb">sed</span> <span class="s1">'s/,$//g'</span><span class="sb">`</span>
</code></pre></div></div>

<p>[No. 12]</p>
<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code>map_cpu:<span class="sb">`</span><span class="nb">seq</span> <span class="nt">-s</span>, 0 24 191 | <span class="nb">tr</span> <span class="nt">-d</span> <span class="s1">'\n'</span><span class="sb">`</span>
</code></pre></div></div>

<p>[No. 13]</p>
<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code>map_ldom:<span class="sb">`</span><span class="k">for </span>i <span class="k">in</span> <span class="se">\`</span><span class="nb">echo </span>0 2 3 1 12 14 15 13<span class="se">\`</span><span class="p">;</span> <span class="k">do </span><span class="nb">seq</span> <span class="nt">-s</span>, <span class="nv">$i</span> 4 <span class="k">$((</span>i+8<span class="k">))</span> | <span class="nb">tr</span> <span class="s1">'\n'</span> <span class="s1">','</span><span class="p">;</span> <span class="k">done</span> | <span class="nb">sed</span> <span class="s1">'s/,$//g'</span><span class="sb">`</span>
</code></pre></div></div>

<p>[No. 14]</p>
<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code>map_ldom:<span class="sb">`</span><span class="k">for </span>i <span class="k">in</span> <span class="se">\`</span><span class="nb">echo </span>0 2 3 1 12 14 15 13<span class="se">\`</span><span class="p">;</span> <span class="k">do for </span>j <span class="k">in</span> <span class="se">\`</span><span class="nb">seq</span> <span class="nv">$i</span> 4 <span class="k">$((</span>i+8<span class="k">))</span><span class="se">\`</span><span class="p">;</span> <span class="k">do for </span>k <span class="k">in</span> <span class="se">\`</span><span class="nb">seq </span>0 1<span class="se">\`</span><span class="p">;</span> <span class="k">do </span><span class="nb">echo</span> <span class="nt">-n</span> <span class="nv">$j</span><span class="s2">","</span><span class="p">;</span> <span class="k">done</span><span class="p">;</span> <span class="k">done</span><span class="p">;</span> <span class="k">done</span> | <span class="nb">sed</span> <span class="s1">'s/,$//g'</span><span class="sb">`</span>
</code></pre></div></div>

<p>[No. 15]</p>
<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code>map_ldom:<span class="sb">`</span><span class="k">for </span>i <span class="k">in</span> <span class="se">\`</span><span class="nb">seq </span>0 1<span class="se">\`</span><span class="p">;</span> <span class="k">do for </span>j <span class="k">in</span> <span class="se">\`</span><span class="nb">echo </span>0 2 3 1 12 14 15 13<span class="se">\`</span><span class="p">;</span> <span class="k">do for </span>k <span class="k">in</span> <span class="se">\`</span><span class="nb">seq</span> <span class="nv">$j</span> 4 <span class="k">$((</span>j+8<span class="k">))</span><span class="se">\`</span><span class="p">;</span> <span class="k">do </span><span class="nb">echo</span> <span class="nt">-n</span> <span class="nv">$k</span><span class="s2">","</span><span class="p">;</span> <span class="k">done</span><span class="p">;</span> <span class="k">done</span><span class="p">;</span> <span class="k">done</span> | <span class="nb">sed</span> <span class="s1">'s/,$//g'</span><span class="sb">`</span>
</code></pre></div></div>

<p>[No. 16]</p>
<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code>map_ldom:<span class="sb">`</span><span class="k">for </span>i <span class="k">in</span> <span class="se">\`</span><span class="nb">echo </span>0 2 3 1 12 14 15 13<span class="se">\`</span><span class="p">;</span> <span class="k">do for </span>j <span class="k">in</span> <span class="se">\`</span><span class="nb">seq</span> <span class="nv">$i</span> 4 <span class="k">$((</span>i+8<span class="k">))</span><span class="se">\`</span><span class="p">;</span> <span class="k">do for </span>k <span class="k">in</span> <span class="se">\`</span><span class="nb">seq </span>0 3<span class="se">\`</span><span class="p">;</span> <span class="k">do </span><span class="nb">echo</span> <span class="nt">-n</span> <span class="nv">$j</span><span class="s2">","</span><span class="p">;</span> <span class="k">done</span><span class="p">;</span> <span class="k">done</span><span class="p">;</span> <span class="k">done</span> | <span class="nb">sed</span> <span class="s1">'s/,$//g'</span><span class="sb">`</span>
</code></pre></div></div>

<p>[No. 17]</p>
<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code>map_ldom:<span class="sb">`</span><span class="k">for </span>i <span class="k">in</span> <span class="se">\`</span><span class="nb">seq </span>0 3<span class="se">\`</span><span class="p">;</span> <span class="k">do for </span>j <span class="k">in</span> <span class="se">\`</span><span class="nb">echo </span>0 2 3 1 12 14 15 13<span class="se">\`</span><span class="p">;</span> <span class="k">do for </span>k <span class="k">in</span> <span class="se">\`</span><span class="nb">seq</span> <span class="nv">$j</span> 4 <span class="k">$((</span>j+8<span class="k">))</span><span class="se">\`</span><span class="p">;</span> <span class="k">do </span><span class="nb">echo</span> <span class="nt">-n</span> <span class="nv">$k</span><span class="s2">","</span><span class="p">;</span> <span class="k">done</span><span class="p">;</span> <span class="k">done</span><span class="p">;</span> <span class="k">done</span> | <span class="nb">sed</span> <span class="s1">'s/,$//g'</span><span class="sb">`</span>
</code></pre></div></div>

<p>[No. 18]</p>
<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code>map_cpu:<span class="sb">`</span><span class="nb">seq</span> <span class="nt">-s</span>, 0 191 | <span class="nb">tr</span> <span class="nt">-d</span> <span class="s1">'\n'</span><span class="sb">`</span>
</code></pre></div></div>

<p>[No. 19]</p>
<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code>map_ldom:<span class="sb">`</span><span class="k">for </span>i <span class="k">in</span> <span class="se">\`</span><span class="nb">seq </span>0 7<span class="se">\`</span><span class="p">;</span> <span class="k">do for </span>j <span class="k">in</span> <span class="se">\`</span><span class="nb">echo </span>0 2 3 1 12 14 15 13<span class="se">\`</span><span class="p">;</span> <span class="k">do for </span>k <span class="k">in</span> <span class="se">\`</span><span class="nb">seq</span> <span class="nv">$j</span> 4 <span class="k">$((</span>j+8<span class="k">))</span><span class="se">\`</span><span class="p">;</span> <span class="k">do </span><span class="nb">echo</span> <span class="nt">-n</span> <span class="nv">$k</span><span class="s2">","</span><span class="p">;</span> <span class="k">done</span><span class="p">;</span> <span class="k">done</span><span class="p">;</span> <span class="k">done</span> | <span class="nb">sed</span> <span class="s1">'s/,$//g'</span><span class="sb">`</span>
</code></pre></div></div>

<p>[No. 21]</p>
<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code>map_ldom:<span class="sb">`</span><span class="k">for </span>i <span class="k">in</span> <span class="se">\`</span><span class="nb">echo </span>0 2 3 1 12 14 15 13<span class="se">\`</span><span class="p">;</span> <span class="k">do </span><span class="nb">seq</span> <span class="nt">-s</span>, <span class="nv">$i</span> 4 <span class="k">$((</span>i+8<span class="k">))</span> | <span class="nb">tr</span> <span class="s1">'\n'</span> <span class="s1">','</span><span class="p">;</span> <span class="k">done</span> | <span class="nb">sed</span> <span class="s1">'s/,$//g'</span><span class="sb">`</span>
</code></pre></div></div>

<hr />
<h1 id="3-プロセススレッドのコア割当て確認方法">3. プロセス・スレッドのコア割当て確認方法</h1>

<h2 id="3-0-概要">3-0. 概要</h2>

<p>本章は、ここまで紹介したプロセス・スレッドのコア割当てが想定通りに行われているかを確認する方法を解説し、この方法を使用して各コア割当てパターンを確認した結果を紹介します。</p>

<p>ここで紹介する確認方法は、コア割当て対象のプログラムがフラットMPI並列かMPI/OpenMPハイブリッド並列か、コア割当てに <strong>PRRTE</strong> を使用するか <strong>Slurm</strong> を使用するかにより、以下の手法を採用します。</p>

<ul>
  <li>フラットMPI並列
    <ul>
      <li><strong>PRRTE</strong><br />
  <strong>PRRTE</strong> の <strong>- -report-bindings</strong> オプションの出力から、以下の情報を取得します。
        <ul>
          <li>MPIランク</li>
          <li>ノードホスト名</li>
          <li>プロセスが割当てられたコア番号</li>
        </ul>
      </li>
      <li><strong>Slurm</strong><br />
  <strong>Slurm</strong> が実行時に設定する <strong>SLURM_</strong> 環境変数と、 <strong>taskset</strong> コマンドの出力から、以下の情報を取得します。
        <ul>
          <li>MPIランク</li>
          <li>ノード番号</li>
          <li>プロセスが割当てられたコア番号</li>
        </ul>
      </li>
    </ul>
  </li>
  <li>MPI/OpenMPハイブリッド並列
    <ul>
      <li><strong>PRRTE</strong><br />
  <strong>GNUコンパイラ</strong> が実行時に設定する <strong>OMPI_COMM_WORLD_</strong> 環境変数と、スレッド番号とこれが割当てられたコア番号を表示するOpenMPプログラムの出力から、以下の情報を取得します。
        <ul>
          <li>MPIランク</li>
          <li>ノード番号</li>
          <li>スレッド番号</li>
          <li>スレッドが割当てられたコア番号</li>
        </ul>
      </li>
      <li><strong>Slurm</strong><br />
  <strong>Slurm</strong> が実行時に設定する <strong>SLURM_</strong> 環境変数と、スレッド番号とこれが割当てられたコア番号を表示するOpenMPプログラムの出力から、以下の情報を取得します。
        <ul>
          <li>MPIランク</li>
          <li>ノード番号</li>
          <li>スレッド番号</li>
          <li>スレッドが割当てられたコア番号</li>
        </ul>
      </li>
    </ul>
  </li>
</ul>

<p>MPI/OpenMPハイブリッド並列で使用する、スレッド番号とこれが割当てられたコア番号を表示するOpenMPプログラムは、以下のソースコードを使用し、</p>

<p>[show_thread_bind.c]</p>

<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code>/<span class="k">*</span>
<span class="nv">$ </span>gcc <span class="nt">-fopenmp</span> show_thread_bind.c <span class="nt">-o</span> show_thread_bind
<span class="nv">$ </span>./show_thread_bind | <span class="nb">sort</span> <span class="nt">-k</span> 2n,2
Thread  0 Core  0
Thread  1 Core  1
Thread  2 Core  2
Thread  3 Core  3
Thread  4 Core  4
Thread  5 Core  5
Thread  6 Core  6
Thread  7 Core  7
Thread  8 Core  8
<span class="k">*</span>/

<span class="c">#include &lt;stdio.h&gt;</span>
<span class="c">#include &lt;stdlib.h&gt;</span>
<span class="c">#include &lt;string.h&gt;</span>
<span class="c">#include &lt;unistd.h&gt;</span>
<span class="c">#include &lt;sys/syscall.h&gt;</span>
<span class="c">#include &lt;omp.h&gt;</span>
<span class="c">#define min(a,b) a&lt;b?a:b</span>
void check_core<span class="o">(</span>int rank<span class="o">){</span>
  char buf[0xff], buf2[4]<span class="p">;</span>
  FILE <span class="k">*</span>fp<span class="p">;</span>
  int pid, tid, ompid, count, c1, c2<span class="p">;</span>
  pid <span class="o">=</span> getpid<span class="o">()</span><span class="p">;</span>
  tid <span class="o">=</span> <span class="o">(</span>pid_t<span class="o">)</span> syscall<span class="o">(</span>SYS_gettid<span class="o">)</span><span class="p">;</span>
  ompid <span class="o">=</span> omp_get_thread_num<span class="o">()</span><span class="p">;</span>
  sprintf<span class="o">(</span>buf, <span class="s2">"/proc/%d/task/%d/stat"</span>, pid, tid<span class="o">)</span><span class="p">;</span>
  <span class="k">if</span> <span class="o">((</span>fp <span class="o">=</span> fopen<span class="o">(</span>buf, <span class="s2">"r"</span><span class="o">))</span> <span class="o">!=</span> NULL<span class="o">)</span> <span class="o">{</span>
    fgets<span class="o">(</span>buf, 0xff, fp<span class="o">)</span><span class="p">;</span>
    fclose<span class="o">(</span>fp<span class="o">)</span><span class="p">;</span>
    count <span class="o">=</span> 0<span class="p">;</span>
    c1 <span class="o">=</span> c2 <span class="o">=</span> 0<span class="p">;</span>
    <span class="k">while</span><span class="o">(</span>buf[c1]!<span class="o">=</span><span class="s1">'¥0'</span><span class="o">){</span>
      <span class="k">if</span><span class="o">(</span>buf[c1]<span class="o">==</span><span class="s1">' '</span><span class="o">)</span>count++<span class="p">;</span>
      c1++<span class="p">;</span>
      <span class="k">if</span><span class="o">(</span><span class="nv">count</span><span class="o">==</span>38<span class="o">)</span><span class="nb">break</span><span class="p">;</span>
    <span class="o">}</span>
    c2 <span class="o">=</span> c1<span class="p">;</span>
    <span class="k">while</span><span class="o">(</span>buf[c2]!<span class="o">=</span><span class="s1">'¥0'</span><span class="o">){</span>
      <span class="k">if</span><span class="o">(</span>buf[c2]<span class="o">==</span><span class="s1">' '</span><span class="o">)</span><span class="nb">break</span><span class="p">;</span>
      c2++<span class="p">;</span>
    <span class="o">}</span>
    strncpy<span class="o">(</span>buf2, &amp;buf[c1], min<span class="o">(</span>c2-c1, 4<span class="o">))</span><span class="p">;</span>
    buf2[min<span class="o">(</span>c2-c1, 4<span class="o">)]</span> <span class="o">=</span> <span class="s1">'¥0'</span><span class="p">;</span>
    <span class="k">if</span> <span class="o">(</span>atoi<span class="o">(</span>buf2<span class="o">)</span> <span class="o">&gt;</span> 1000<span class="o">)</span> <span class="o">{</span>
      <span class="nb">printf</span><span class="o">(</span><span class="s2">"Thread %2d Core %3d</span><span class="se">\n</span><span class="s2">"</span>, ompid, atoi<span class="o">(</span>buf2<span class="o">)</span>/1000000<span class="o">)</span><span class="p">;</span>
    <span class="o">}</span>
    <span class="k">else</span> <span class="o">{</span>
      <span class="nb">printf</span><span class="o">(</span><span class="s2">"Thread %2d Core %3d</span><span class="se">\n</span><span class="s2">"</span>, ompid, atoi<span class="o">(</span>buf2<span class="o">)</span>/10<span class="o">)</span><span class="p">;</span>
    <span class="o">}</span>
  <span class="o">}</span>
<span class="o">}</span>
int main<span class="o">()</span>
<span class="o">{</span>
  <span class="c">#pragma omp parallel</span>
  check_core<span class="o">(</span>0<span class="o">)</span><span class="p">;</span>
<span class="o">}</span>
</code></pre></div></div>

<p>これを以下のコマンドでコンパイルして使用します。</p>

<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>gcc <span class="nt">-fopenmp</span> show_thread_bind.c <span class="nt">-o</span> show_thread_bind
</code></pre></div></div>

<h2 id="3-1-コア割当て確認結果">3-1. コア割当て確認結果</h2>

<p>以下では、各コア割当てパターン番号ごとの確認結果を <strong>PRRTE</strong> と <strong>Slurm</strong> に分けて記載します。</p>

<h3 id="3-1-1-prrte">3-1-1. PRRTE</h3>

<p>[No.1]</p>

<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>mpirun <span class="nt">-n</span> 1 <span class="nt">--report-bindings</span> <span class="nb">echo</span> <span class="nt">-n</span> |&amp; <span class="nb">sort</span> <span class="nt">-k</span> 3n,3
<span class="o">[</span>inst-e5-ol95-nps1:15404] Rank 0 bound to package[0][core:0]
<span class="err">$</span>
</code></pre></div></div>

<p>[No.2]</p>

<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>mpirun <span class="nt">-n</span> 2 <span class="nt">--bind-to</span> core <span class="nt">--map-by</span> ppr:1:package <span class="nt">--report-bindings</span> <span class="nb">echo</span> <span class="nt">-n</span> |&amp; <span class="nb">sort</span> <span class="nt">-k</span> 3n,3
<span class="o">[</span>inst-e5-ol95-nps1:15420] Rank 0 bound to package[0][core:0]
<span class="o">[</span>inst-e5-ol95-nps1:15420] Rank 1 bound to package[1][core:96]
<span class="err">$</span>
</code></pre></div></div>

<p>[No.3]</p>

<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>mpirun <span class="nt">-n</span> 24 <span class="nt">--bind-to</span> core <span class="nt">--map-by</span> ppr:1:l3cache <span class="nt">--report-bindings</span> <span class="nb">echo</span> <span class="nt">-n</span> |&amp; <span class="nb">sort</span> <span class="nt">-k</span> 3n,3
<span class="o">[</span>inst-e5-ol95-nps1:15429] Rank 0 bound to package[0][core:0]
<span class="o">[</span>inst-e5-ol95-nps1:15429] Rank 1 bound to package[0][core:8]
<span class="o">[</span>inst-e5-ol95-nps1:15429] Rank 2 bound to package[0][core:16]
<span class="o">[</span>inst-e5-ol95-nps1:15429] Rank 3 bound to package[0][core:24]
<span class="o">[</span>inst-e5-ol95-nps1:15429] Rank 4 bound to package[0][core:32]
<span class="o">[</span>inst-e5-ol95-nps1:15429] Rank 5 bound to package[0][core:40]
<span class="o">[</span>inst-e5-ol95-nps1:15429] Rank 6 bound to package[0][core:48]
<span class="o">[</span>inst-e5-ol95-nps1:15429] Rank 7 bound to package[0][core:56]
<span class="o">[</span>inst-e5-ol95-nps1:15429] Rank 8 bound to package[0][core:64]
<span class="o">[</span>inst-e5-ol95-nps1:15429] Rank 9 bound to package[0][core:72]
<span class="o">[</span>inst-e5-ol95-nps1:15429] Rank 10 bound to package[0][core:80]
<span class="o">[</span>inst-e5-ol95-nps1:15429] Rank 11 bound to package[0][core:88]
<span class="o">[</span>inst-e5-ol95-nps1:15429] Rank 12 bound to package[1][core:96]
<span class="o">[</span>inst-e5-ol95-nps1:15429] Rank 13 bound to package[1][core:104]
<span class="o">[</span>inst-e5-ol95-nps1:15429] Rank 14 bound to package[1][core:112]
<span class="o">[</span>inst-e5-ol95-nps1:15429] Rank 15 bound to package[1][core:120]
<span class="o">[</span>inst-e5-ol95-nps1:15429] Rank 16 bound to package[1][core:128]
<span class="o">[</span>inst-e5-ol95-nps1:15429] Rank 17 bound to package[1][core:136]
<span class="o">[</span>inst-e5-ol95-nps1:15429] Rank 18 bound to package[1][core:144]
<span class="o">[</span>inst-e5-ol95-nps1:15429] Rank 19 bound to package[1][core:152]
<span class="o">[</span>inst-e5-ol95-nps1:15429] Rank 20 bound to package[1][core:160]
<span class="o">[</span>inst-e5-ol95-nps1:15429] Rank 21 bound to package[1][core:168]
<span class="o">[</span>inst-e5-ol95-nps1:15429] Rank 22 bound to package[1][core:176]
<span class="o">[</span>inst-e5-ol95-nps1:15429] Rank 23 bound to package[1][core:184]
<span class="err">$</span>
</code></pre></div></div>

<p>[No.4]</p>

<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>mpirun <span class="nt">-n</span> 48 <span class="nt">--bind-to</span> core <span class="nt">--map-by</span> ppr:2:l3cache <span class="nt">--report-bindings</span> <span class="nb">echo</span> <span class="nt">-n</span> |&amp; <span class="nb">sort</span> <span class="nt">-k</span> 3n,3
<span class="o">[</span>inst-e5-ol95-nps1:15458] Rank 0 bound to package[0][core:0]
<span class="o">[</span>inst-e5-ol95-nps1:15458] Rank 1 bound to package[0][core:1]
<span class="o">[</span>inst-e5-ol95-nps1:15458] Rank 2 bound to package[0][core:8]
<span class="o">[</span>inst-e5-ol95-nps1:15458] Rank 3 bound to package[0][core:9]
<span class="o">[</span>inst-e5-ol95-nps1:15458] Rank 4 bound to package[0][core:16]
<span class="o">[</span>inst-e5-ol95-nps1:15458] Rank 5 bound to package[0][core:17]
<span class="o">[</span>inst-e5-ol95-nps1:15458] Rank 6 bound to package[0][core:24]
<span class="o">[</span>inst-e5-ol95-nps1:15458] Rank 7 bound to package[0][core:25]
<span class="o">[</span>inst-e5-ol95-nps1:15458] Rank 8 bound to package[0][core:32]
<span class="o">[</span>inst-e5-ol95-nps1:15458] Rank 9 bound to package[0][core:33]
<span class="o">[</span>inst-e5-ol95-nps1:15458] Rank 10 bound to package[0][core:40]
<span class="o">[</span>inst-e5-ol95-nps1:15458] Rank 11 bound to package[0][core:41]
<span class="o">[</span>inst-e5-ol95-nps1:15458] Rank 12 bound to package[0][core:48]
<span class="o">[</span>inst-e5-ol95-nps1:15458] Rank 13 bound to package[0][core:49]
<span class="o">[</span>inst-e5-ol95-nps1:15458] Rank 14 bound to package[0][core:56]
<span class="o">[</span>inst-e5-ol95-nps1:15458] Rank 15 bound to package[0][core:57]
<span class="o">[</span>inst-e5-ol95-nps1:15458] Rank 16 bound to package[0][core:64]
<span class="o">[</span>inst-e5-ol95-nps1:15458] Rank 17 bound to package[0][core:65]
<span class="o">[</span>inst-e5-ol95-nps1:15458] Rank 18 bound to package[0][core:72]
<span class="o">[</span>inst-e5-ol95-nps1:15458] Rank 19 bound to package[0][core:73]
<span class="o">[</span>inst-e5-ol95-nps1:15458] Rank 20 bound to package[0][core:80]
<span class="o">[</span>inst-e5-ol95-nps1:15458] Rank 21 bound to package[0][core:81]
<span class="o">[</span>inst-e5-ol95-nps1:15458] Rank 22 bound to package[0][core:88]
<span class="o">[</span>inst-e5-ol95-nps1:15458] Rank 23 bound to package[0][core:89]
<span class="o">[</span>inst-e5-ol95-nps1:15458] Rank 24 bound to package[1][core:96]
<span class="o">[</span>inst-e5-ol95-nps1:15458] Rank 25 bound to package[1][core:97]
<span class="o">[</span>inst-e5-ol95-nps1:15458] Rank 26 bound to package[1][core:104]
<span class="o">[</span>inst-e5-ol95-nps1:15458] Rank 27 bound to package[1][core:105]
<span class="o">[</span>inst-e5-ol95-nps1:15458] Rank 28 bound to package[1][core:112]
<span class="o">[</span>inst-e5-ol95-nps1:15458] Rank 29 bound to package[1][core:113]
<span class="o">[</span>inst-e5-ol95-nps1:15458] Rank 30 bound to package[1][core:120]
<span class="o">[</span>inst-e5-ol95-nps1:15458] Rank 31 bound to package[1][core:121]
<span class="o">[</span>inst-e5-ol95-nps1:15458] Rank 32 bound to package[1][core:128]
<span class="o">[</span>inst-e5-ol95-nps1:15458] Rank 33 bound to package[1][core:129]
<span class="o">[</span>inst-e5-ol95-nps1:15458] Rank 34 bound to package[1][core:136]
<span class="o">[</span>inst-e5-ol95-nps1:15458] Rank 35 bound to package[1][core:137]
<span class="o">[</span>inst-e5-ol95-nps1:15458] Rank 36 bound to package[1][core:144]
<span class="o">[</span>inst-e5-ol95-nps1:15458] Rank 37 bound to package[1][core:145]
<span class="o">[</span>inst-e5-ol95-nps1:15458] Rank 38 bound to package[1][core:152]
<span class="o">[</span>inst-e5-ol95-nps1:15458] Rank 39 bound to package[1][core:153]
<span class="o">[</span>inst-e5-ol95-nps1:15458] Rank 40 bound to package[1][core:160]
<span class="o">[</span>inst-e5-ol95-nps1:15458] Rank 41 bound to package[1][core:161]
<span class="o">[</span>inst-e5-ol95-nps1:15458] Rank 42 bound to package[1][core:168]
<span class="o">[</span>inst-e5-ol95-nps1:15458] Rank 43 bound to package[1][core:169]
<span class="o">[</span>inst-e5-ol95-nps1:15458] Rank 44 bound to package[1][core:176]
<span class="o">[</span>inst-e5-ol95-nps1:15458] Rank 45 bound to package[1][core:177]
<span class="o">[</span>inst-e5-ol95-nps1:15458] Rank 46 bound to package[1][core:184]
<span class="o">[</span>inst-e5-ol95-nps1:15458] Rank 47 bound to package[1][core:185]
<span class="err">$</span>
</code></pre></div></div>

<p>[No.5]</p>

<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>mpirun <span class="nt">-n</span> 48 <span class="nt">--bind-to</span> core <span class="nt">--map-by</span> ppr:2:l3cache <span class="nt">--rank-by</span> span <span class="nt">--report-bindings</span> <span class="nb">echo</span> <span class="nt">-n</span> |&amp; <span class="nb">sort</span> <span class="nt">-k</span> 3n,3
<span class="o">[</span>inst-e5-ol95-nps1:15518] Rank 0 bound to package[0][core:0]
<span class="o">[</span>inst-e5-ol95-nps1:15518] Rank 1 bound to package[0][core:8]
<span class="o">[</span>inst-e5-ol95-nps1:15518] Rank 2 bound to package[0][core:16]
<span class="o">[</span>inst-e5-ol95-nps1:15518] Rank 3 bound to package[0][core:24]
<span class="o">[</span>inst-e5-ol95-nps1:15518] Rank 4 bound to package[0][core:32]
<span class="o">[</span>inst-e5-ol95-nps1:15518] Rank 5 bound to package[0][core:40]
<span class="o">[</span>inst-e5-ol95-nps1:15518] Rank 6 bound to package[0][core:48]
<span class="o">[</span>inst-e5-ol95-nps1:15518] Rank 7 bound to package[0][core:56]
<span class="o">[</span>inst-e5-ol95-nps1:15518] Rank 8 bound to package[0][core:64]
<span class="o">[</span>inst-e5-ol95-nps1:15518] Rank 9 bound to package[0][core:72]
<span class="o">[</span>inst-e5-ol95-nps1:15518] Rank 10 bound to package[0][core:80]
<span class="o">[</span>inst-e5-ol95-nps1:15518] Rank 11 bound to package[0][core:88]
<span class="o">[</span>inst-e5-ol95-nps1:15518] Rank 12 bound to package[1][core:96]
<span class="o">[</span>inst-e5-ol95-nps1:15518] Rank 13 bound to package[1][core:104]
<span class="o">[</span>inst-e5-ol95-nps1:15518] Rank 14 bound to package[1][core:112]
<span class="o">[</span>inst-e5-ol95-nps1:15518] Rank 15 bound to package[1][core:120]
<span class="o">[</span>inst-e5-ol95-nps1:15518] Rank 16 bound to package[1][core:128]
<span class="o">[</span>inst-e5-ol95-nps1:15518] Rank 17 bound to package[1][core:136]
<span class="o">[</span>inst-e5-ol95-nps1:15518] Rank 18 bound to package[1][core:144]
<span class="o">[</span>inst-e5-ol95-nps1:15518] Rank 19 bound to package[1][core:152]
<span class="o">[</span>inst-e5-ol95-nps1:15518] Rank 20 bound to package[1][core:160]
<span class="o">[</span>inst-e5-ol95-nps1:15518] Rank 21 bound to package[1][core:168]
<span class="o">[</span>inst-e5-ol95-nps1:15518] Rank 22 bound to package[1][core:176]
<span class="o">[</span>inst-e5-ol95-nps1:15518] Rank 23 bound to package[1][core:184]
<span class="o">[</span>inst-e5-ol95-nps1:15518] Rank 24 bound to package[0][core:1]
<span class="o">[</span>inst-e5-ol95-nps1:15518] Rank 25 bound to package[0][core:9]
<span class="o">[</span>inst-e5-ol95-nps1:15518] Rank 26 bound to package[0][core:17]
<span class="o">[</span>inst-e5-ol95-nps1:15518] Rank 27 bound to package[0][core:25]
<span class="o">[</span>inst-e5-ol95-nps1:15518] Rank 28 bound to package[0][core:33]
<span class="o">[</span>inst-e5-ol95-nps1:15518] Rank 29 bound to package[0][core:41]
<span class="o">[</span>inst-e5-ol95-nps1:15518] Rank 30 bound to package[0][core:49]
<span class="o">[</span>inst-e5-ol95-nps1:15518] Rank 31 bound to package[0][core:57]
<span class="o">[</span>inst-e5-ol95-nps1:15518] Rank 32 bound to package[0][core:65]
<span class="o">[</span>inst-e5-ol95-nps1:15518] Rank 33 bound to package[0][core:73]
<span class="o">[</span>inst-e5-ol95-nps1:15518] Rank 34 bound to package[0][core:81]
<span class="o">[</span>inst-e5-ol95-nps1:15518] Rank 35 bound to package[0][core:89]
<span class="o">[</span>inst-e5-ol95-nps1:15518] Rank 36 bound to package[1][core:97]
<span class="o">[</span>inst-e5-ol95-nps1:15518] Rank 37 bound to package[1][core:105]
<span class="o">[</span>inst-e5-ol95-nps1:15518] Rank 38 bound to package[1][core:113]
<span class="o">[</span>inst-e5-ol95-nps1:15518] Rank 39 bound to package[1][core:121]
<span class="o">[</span>inst-e5-ol95-nps1:15518] Rank 40 bound to package[1][core:129]
<span class="o">[</span>inst-e5-ol95-nps1:15518] Rank 41 bound to package[1][core:137]
<span class="o">[</span>inst-e5-ol95-nps1:15518] Rank 42 bound to package[1][core:145]
<span class="o">[</span>inst-e5-ol95-nps1:15518] Rank 43 bound to package[1][core:153]
<span class="o">[</span>inst-e5-ol95-nps1:15518] Rank 44 bound to package[1][core:161]
<span class="o">[</span>inst-e5-ol95-nps1:15518] Rank 45 bound to package[1][core:169]
<span class="o">[</span>inst-e5-ol95-nps1:15518] Rank 46 bound to package[1][core:177]
<span class="o">[</span>inst-e5-ol95-nps1:15518] Rank 47 bound to package[1][core:185]
<span class="err">$</span>
</code></pre></div></div>

<p>[No.6]</p>

<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>mpirun <span class="nt">-n</span> 96 <span class="nt">--bind-to</span> core <span class="nt">--map-by</span> ppr:4:l3cache <span class="nt">--report-bindings</span> <span class="nb">echo</span> <span class="nt">-n</span> |&amp; <span class="nb">sort</span> <span class="nt">-k</span> 3n,3
<span class="o">[</span>inst-e5-ol95-nps1:15580] Rank 0 bound to package[0][core:0]
<span class="o">[</span>inst-e5-ol95-nps1:15580] Rank 1 bound to package[0][core:1]
<span class="o">[</span>inst-e5-ol95-nps1:15580] Rank 2 bound to package[0][core:2]
<span class="o">[</span>inst-e5-ol95-nps1:15580] Rank 3 bound to package[0][core:3]
<span class="o">[</span>inst-e5-ol95-nps1:15580] Rank 4 bound to package[0][core:8]
<span class="o">[</span>inst-e5-ol95-nps1:15580] Rank 5 bound to package[0][core:9]
<span class="o">[</span>inst-e5-ol95-nps1:15580] Rank 6 bound to package[0][core:10]
<span class="o">[</span>inst-e5-ol95-nps1:15580] Rank 7 bound to package[0][core:11]
<span class="o">[</span>inst-e5-ol95-nps1:15580] Rank 8 bound to package[0][core:16]
<span class="o">[</span>inst-e5-ol95-nps1:15580] Rank 9 bound to package[0][core:17]
<span class="o">[</span>inst-e5-ol95-nps1:15580] Rank 10 bound to package[0][core:18]
<span class="o">[</span>inst-e5-ol95-nps1:15580] Rank 11 bound to package[0][core:19]
<span class="o">[</span>inst-e5-ol95-nps1:15580] Rank 12 bound to package[0][core:24]
<span class="o">[</span>inst-e5-ol95-nps1:15580] Rank 13 bound to package[0][core:25]
<span class="o">[</span>inst-e5-ol95-nps1:15580] Rank 14 bound to package[0][core:26]
<span class="o">[</span>inst-e5-ol95-nps1:15580] Rank 15 bound to package[0][core:27]
<span class="o">[</span>inst-e5-ol95-nps1:15580] Rank 16 bound to package[0][core:32]
<span class="o">[</span>inst-e5-ol95-nps1:15580] Rank 17 bound to package[0][core:33]
<span class="o">[</span>inst-e5-ol95-nps1:15580] Rank 18 bound to package[0][core:34]
<span class="o">[</span>inst-e5-ol95-nps1:15580] Rank 19 bound to package[0][core:35]
<span class="o">[</span>inst-e5-ol95-nps1:15580] Rank 20 bound to package[0][core:40]
<span class="o">[</span>inst-e5-ol95-nps1:15580] Rank 21 bound to package[0][core:41]
<span class="o">[</span>inst-e5-ol95-nps1:15580] Rank 22 bound to package[0][core:42]
<span class="o">[</span>inst-e5-ol95-nps1:15580] Rank 23 bound to package[0][core:43]
<span class="o">[</span>inst-e5-ol95-nps1:15580] Rank 24 bound to package[0][core:48]
<span class="o">[</span>inst-e5-ol95-nps1:15580] Rank 25 bound to package[0][core:49]
<span class="o">[</span>inst-e5-ol95-nps1:15580] Rank 26 bound to package[0][core:50]
<span class="o">[</span>inst-e5-ol95-nps1:15580] Rank 27 bound to package[0][core:51]
<span class="o">[</span>inst-e5-ol95-nps1:15580] Rank 28 bound to package[0][core:56]
<span class="o">[</span>inst-e5-ol95-nps1:15580] Rank 29 bound to package[0][core:57]
<span class="o">[</span>inst-e5-ol95-nps1:15580] Rank 30 bound to package[0][core:58]
<span class="o">[</span>inst-e5-ol95-nps1:15580] Rank 31 bound to package[0][core:59]
<span class="o">[</span>inst-e5-ol95-nps1:15580] Rank 32 bound to package[0][core:64]
<span class="o">[</span>inst-e5-ol95-nps1:15580] Rank 33 bound to package[0][core:65]
<span class="o">[</span>inst-e5-ol95-nps1:15580] Rank 34 bound to package[0][core:66]
<span class="o">[</span>inst-e5-ol95-nps1:15580] Rank 35 bound to package[0][core:67]
<span class="o">[</span>inst-e5-ol95-nps1:15580] Rank 36 bound to package[0][core:72]
<span class="o">[</span>inst-e5-ol95-nps1:15580] Rank 37 bound to package[0][core:73]
<span class="o">[</span>inst-e5-ol95-nps1:15580] Rank 38 bound to package[0][core:74]
<span class="o">[</span>inst-e5-ol95-nps1:15580] Rank 39 bound to package[0][core:75]
<span class="o">[</span>inst-e5-ol95-nps1:15580] Rank 40 bound to package[0][core:80]
<span class="o">[</span>inst-e5-ol95-nps1:15580] Rank 41 bound to package[0][core:81]
<span class="o">[</span>inst-e5-ol95-nps1:15580] Rank 42 bound to package[0][core:82]
<span class="o">[</span>inst-e5-ol95-nps1:15580] Rank 43 bound to package[0][core:83]
<span class="o">[</span>inst-e5-ol95-nps1:15580] Rank 44 bound to package[0][core:88]
<span class="o">[</span>inst-e5-ol95-nps1:15580] Rank 45 bound to package[0][core:89]
<span class="o">[</span>inst-e5-ol95-nps1:15580] Rank 46 bound to package[0][core:90]
<span class="o">[</span>inst-e5-ol95-nps1:15580] Rank 47 bound to package[0][core:91]
<span class="o">[</span>inst-e5-ol95-nps1:15580] Rank 48 bound to package[1][core:96]
<span class="o">[</span>inst-e5-ol95-nps1:15580] Rank 49 bound to package[1][core:97]
<span class="o">[</span>inst-e5-ol95-nps1:15580] Rank 50 bound to package[1][core:98]
<span class="o">[</span>inst-e5-ol95-nps1:15580] Rank 51 bound to package[1][core:99]
<span class="o">[</span>inst-e5-ol95-nps1:15580] Rank 52 bound to package[1][core:104]
<span class="o">[</span>inst-e5-ol95-nps1:15580] Rank 53 bound to package[1][core:105]
<span class="o">[</span>inst-e5-ol95-nps1:15580] Rank 54 bound to package[1][core:106]
<span class="o">[</span>inst-e5-ol95-nps1:15580] Rank 55 bound to package[1][core:107]
<span class="o">[</span>inst-e5-ol95-nps1:15580] Rank 56 bound to package[1][core:112]
<span class="o">[</span>inst-e5-ol95-nps1:15580] Rank 57 bound to package[1][core:113]
<span class="o">[</span>inst-e5-ol95-nps1:15580] Rank 58 bound to package[1][core:114]
<span class="o">[</span>inst-e5-ol95-nps1:15580] Rank 59 bound to package[1][core:115]
<span class="o">[</span>inst-e5-ol95-nps1:15580] Rank 60 bound to package[1][core:120]
<span class="o">[</span>inst-e5-ol95-nps1:15580] Rank 61 bound to package[1][core:121]
<span class="o">[</span>inst-e5-ol95-nps1:15580] Rank 62 bound to package[1][core:122]
<span class="o">[</span>inst-e5-ol95-nps1:15580] Rank 63 bound to package[1][core:123]
<span class="o">[</span>inst-e5-ol95-nps1:15580] Rank 64 bound to package[1][core:128]
<span class="o">[</span>inst-e5-ol95-nps1:15580] Rank 65 bound to package[1][core:129]
<span class="o">[</span>inst-e5-ol95-nps1:15580] Rank 66 bound to package[1][core:130]
<span class="o">[</span>inst-e5-ol95-nps1:15580] Rank 67 bound to package[1][core:131]
<span class="o">[</span>inst-e5-ol95-nps1:15580] Rank 68 bound to package[1][core:136]
<span class="o">[</span>inst-e5-ol95-nps1:15580] Rank 69 bound to package[1][core:137]
<span class="o">[</span>inst-e5-ol95-nps1:15580] Rank 70 bound to package[1][core:138]
<span class="o">[</span>inst-e5-ol95-nps1:15580] Rank 71 bound to package[1][core:139]
<span class="o">[</span>inst-e5-ol95-nps1:15580] Rank 72 bound to package[1][core:144]
<span class="o">[</span>inst-e5-ol95-nps1:15580] Rank 73 bound to package[1][core:145]
<span class="o">[</span>inst-e5-ol95-nps1:15580] Rank 74 bound to package[1][core:146]
<span class="o">[</span>inst-e5-ol95-nps1:15580] Rank 75 bound to package[1][core:147]
<span class="o">[</span>inst-e5-ol95-nps1:15580] Rank 76 bound to package[1][core:152]
<span class="o">[</span>inst-e5-ol95-nps1:15580] Rank 77 bound to package[1][core:153]
<span class="o">[</span>inst-e5-ol95-nps1:15580] Rank 78 bound to package[1][core:154]
<span class="o">[</span>inst-e5-ol95-nps1:15580] Rank 79 bound to package[1][core:155]
<span class="o">[</span>inst-e5-ol95-nps1:15580] Rank 80 bound to package[1][core:160]
<span class="o">[</span>inst-e5-ol95-nps1:15580] Rank 81 bound to package[1][core:161]
<span class="o">[</span>inst-e5-ol95-nps1:15580] Rank 82 bound to package[1][core:162]
<span class="o">[</span>inst-e5-ol95-nps1:15580] Rank 83 bound to package[1][core:163]
<span class="o">[</span>inst-e5-ol95-nps1:15580] Rank 84 bound to package[1][core:168]
<span class="o">[</span>inst-e5-ol95-nps1:15580] Rank 85 bound to package[1][core:169]
<span class="o">[</span>inst-e5-ol95-nps1:15580] Rank 86 bound to package[1][core:170]
<span class="o">[</span>inst-e5-ol95-nps1:15580] Rank 87 bound to package[1][core:171]
<span class="o">[</span>inst-e5-ol95-nps1:15580] Rank 88 bound to package[1][core:176]
<span class="o">[</span>inst-e5-ol95-nps1:15580] Rank 89 bound to package[1][core:177]
<span class="o">[</span>inst-e5-ol95-nps1:15580] Rank 90 bound to package[1][core:178]
<span class="o">[</span>inst-e5-ol95-nps1:15580] Rank 91 bound to package[1][core:179]
<span class="o">[</span>inst-e5-ol95-nps1:15580] Rank 92 bound to package[1][core:184]
<span class="o">[</span>inst-e5-ol95-nps1:15580] Rank 93 bound to package[1][core:185]
<span class="o">[</span>inst-e5-ol95-nps1:15580] Rank 94 bound to package[1][core:186]
<span class="o">[</span>inst-e5-ol95-nps1:15580] Rank 95 bound to package[1][core:187]
<span class="err">$</span>
</code></pre></div></div>

<p>[No.7]</p>

<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>mpirun <span class="nt">-n</span> 96 <span class="nt">--bind-to</span> core <span class="nt">--map-by</span> ppr:4:l3cache <span class="nt">--rank-by</span> span <span class="nt">--report-bindings</span> <span class="nb">echo</span> <span class="nt">-n</span> |&amp; <span class="nb">sort</span> <span class="nt">-k</span> 3n,3
<span class="o">[</span>inst-e5-ol95-nps1:15697] Rank 0 bound to package[0][core:0]
<span class="o">[</span>inst-e5-ol95-nps1:15697] Rank 1 bound to package[0][core:8]
<span class="o">[</span>inst-e5-ol95-nps1:15697] Rank 2 bound to package[0][core:16]
<span class="o">[</span>inst-e5-ol95-nps1:15697] Rank 3 bound to package[0][core:24]
<span class="o">[</span>inst-e5-ol95-nps1:15697] Rank 4 bound to package[0][core:32]
<span class="o">[</span>inst-e5-ol95-nps1:15697] Rank 5 bound to package[0][core:40]
<span class="o">[</span>inst-e5-ol95-nps1:15697] Rank 6 bound to package[0][core:48]
<span class="o">[</span>inst-e5-ol95-nps1:15697] Rank 7 bound to package[0][core:56]
<span class="o">[</span>inst-e5-ol95-nps1:15697] Rank 8 bound to package[0][core:64]
<span class="o">[</span>inst-e5-ol95-nps1:15697] Rank 9 bound to package[0][core:72]
<span class="o">[</span>inst-e5-ol95-nps1:15697] Rank 10 bound to package[0][core:80]
<span class="o">[</span>inst-e5-ol95-nps1:15697] Rank 11 bound to package[0][core:88]
<span class="o">[</span>inst-e5-ol95-nps1:15697] Rank 12 bound to package[1][core:96]
<span class="o">[</span>inst-e5-ol95-nps1:15697] Rank 13 bound to package[1][core:104]
<span class="o">[</span>inst-e5-ol95-nps1:15697] Rank 14 bound to package[1][core:112]
<span class="o">[</span>inst-e5-ol95-nps1:15697] Rank 15 bound to package[1][core:120]
<span class="o">[</span>inst-e5-ol95-nps1:15697] Rank 16 bound to package[1][core:128]
<span class="o">[</span>inst-e5-ol95-nps1:15697] Rank 17 bound to package[1][core:136]
<span class="o">[</span>inst-e5-ol95-nps1:15697] Rank 18 bound to package[1][core:144]
<span class="o">[</span>inst-e5-ol95-nps1:15697] Rank 19 bound to package[1][core:152]
<span class="o">[</span>inst-e5-ol95-nps1:15697] Rank 20 bound to package[1][core:160]
<span class="o">[</span>inst-e5-ol95-nps1:15697] Rank 21 bound to package[1][core:168]
<span class="o">[</span>inst-e5-ol95-nps1:15697] Rank 22 bound to package[1][core:176]
<span class="o">[</span>inst-e5-ol95-nps1:15697] Rank 23 bound to package[1][core:184]
<span class="o">[</span>inst-e5-ol95-nps1:15697] Rank 24 bound to package[0][core:1]
<span class="o">[</span>inst-e5-ol95-nps1:15697] Rank 25 bound to package[0][core:9]
<span class="o">[</span>inst-e5-ol95-nps1:15697] Rank 26 bound to package[0][core:17]
<span class="o">[</span>inst-e5-ol95-nps1:15697] Rank 27 bound to package[0][core:25]
<span class="o">[</span>inst-e5-ol95-nps1:15697] Rank 28 bound to package[0][core:33]
<span class="o">[</span>inst-e5-ol95-nps1:15697] Rank 29 bound to package[0][core:41]
<span class="o">[</span>inst-e5-ol95-nps1:15697] Rank 30 bound to package[0][core:49]
<span class="o">[</span>inst-e5-ol95-nps1:15697] Rank 31 bound to package[0][core:57]
<span class="o">[</span>inst-e5-ol95-nps1:15697] Rank 32 bound to package[0][core:65]
<span class="o">[</span>inst-e5-ol95-nps1:15697] Rank 33 bound to package[0][core:73]
<span class="o">[</span>inst-e5-ol95-nps1:15697] Rank 34 bound to package[0][core:81]
<span class="o">[</span>inst-e5-ol95-nps1:15697] Rank 35 bound to package[0][core:89]
<span class="o">[</span>inst-e5-ol95-nps1:15697] Rank 36 bound to package[1][core:97]
<span class="o">[</span>inst-e5-ol95-nps1:15697] Rank 37 bound to package[1][core:105]
<span class="o">[</span>inst-e5-ol95-nps1:15697] Rank 38 bound to package[1][core:113]
<span class="o">[</span>inst-e5-ol95-nps1:15697] Rank 39 bound to package[1][core:121]
<span class="o">[</span>inst-e5-ol95-nps1:15697] Rank 40 bound to package[1][core:129]
<span class="o">[</span>inst-e5-ol95-nps1:15697] Rank 41 bound to package[1][core:137]
<span class="o">[</span>inst-e5-ol95-nps1:15697] Rank 42 bound to package[1][core:145]
<span class="o">[</span>inst-e5-ol95-nps1:15697] Rank 43 bound to package[1][core:153]
<span class="o">[</span>inst-e5-ol95-nps1:15697] Rank 44 bound to package[1][core:161]
<span class="o">[</span>inst-e5-ol95-nps1:15697] Rank 45 bound to package[1][core:169]
<span class="o">[</span>inst-e5-ol95-nps1:15697] Rank 46 bound to package[1][core:177]
<span class="o">[</span>inst-e5-ol95-nps1:15697] Rank 47 bound to package[1][core:185]
<span class="o">[</span>inst-e5-ol95-nps1:15697] Rank 48 bound to package[0][core:2]
<span class="o">[</span>inst-e5-ol95-nps1:15697] Rank 49 bound to package[0][core:10]
<span class="o">[</span>inst-e5-ol95-nps1:15697] Rank 50 bound to package[0][core:18]
<span class="o">[</span>inst-e5-ol95-nps1:15697] Rank 51 bound to package[0][core:26]
<span class="o">[</span>inst-e5-ol95-nps1:15697] Rank 52 bound to package[0][core:34]
<span class="o">[</span>inst-e5-ol95-nps1:15697] Rank 53 bound to package[0][core:42]
<span class="o">[</span>inst-e5-ol95-nps1:15697] Rank 54 bound to package[0][core:50]
<span class="o">[</span>inst-e5-ol95-nps1:15697] Rank 55 bound to package[0][core:58]
<span class="o">[</span>inst-e5-ol95-nps1:15697] Rank 56 bound to package[0][core:66]
<span class="o">[</span>inst-e5-ol95-nps1:15697] Rank 57 bound to package[0][core:74]
<span class="o">[</span>inst-e5-ol95-nps1:15697] Rank 58 bound to package[0][core:82]
<span class="o">[</span>inst-e5-ol95-nps1:15697] Rank 59 bound to package[0][core:90]
<span class="o">[</span>inst-e5-ol95-nps1:15697] Rank 60 bound to package[1][core:98]
<span class="o">[</span>inst-e5-ol95-nps1:15697] Rank 61 bound to package[1][core:106]
<span class="o">[</span>inst-e5-ol95-nps1:15697] Rank 62 bound to package[1][core:114]
<span class="o">[</span>inst-e5-ol95-nps1:15697] Rank 63 bound to package[1][core:122]
<span class="o">[</span>inst-e5-ol95-nps1:15697] Rank 64 bound to package[1][core:130]
<span class="o">[</span>inst-e5-ol95-nps1:15697] Rank 65 bound to package[1][core:138]
<span class="o">[</span>inst-e5-ol95-nps1:15697] Rank 66 bound to package[1][core:146]
<span class="o">[</span>inst-e5-ol95-nps1:15697] Rank 67 bound to package[1][core:154]
<span class="o">[</span>inst-e5-ol95-nps1:15697] Rank 68 bound to package[1][core:162]
<span class="o">[</span>inst-e5-ol95-nps1:15697] Rank 69 bound to package[1][core:170]
<span class="o">[</span>inst-e5-ol95-nps1:15697] Rank 70 bound to package[1][core:178]
<span class="o">[</span>inst-e5-ol95-nps1:15697] Rank 71 bound to package[1][core:186]
<span class="o">[</span>inst-e5-ol95-nps1:15697] Rank 72 bound to package[0][core:3]
<span class="o">[</span>inst-e5-ol95-nps1:15697] Rank 73 bound to package[0][core:11]
<span class="o">[</span>inst-e5-ol95-nps1:15697] Rank 74 bound to package[0][core:19]
<span class="o">[</span>inst-e5-ol95-nps1:15697] Rank 75 bound to package[0][core:27]
<span class="o">[</span>inst-e5-ol95-nps1:15697] Rank 76 bound to package[0][core:35]
<span class="o">[</span>inst-e5-ol95-nps1:15697] Rank 77 bound to package[0][core:43]
<span class="o">[</span>inst-e5-ol95-nps1:15697] Rank 78 bound to package[0][core:51]
<span class="o">[</span>inst-e5-ol95-nps1:15697] Rank 79 bound to package[0][core:59]
<span class="o">[</span>inst-e5-ol95-nps1:15697] Rank 80 bound to package[0][core:67]
<span class="o">[</span>inst-e5-ol95-nps1:15697] Rank 81 bound to package[0][core:75]
<span class="o">[</span>inst-e5-ol95-nps1:15697] Rank 82 bound to package[0][core:83]
<span class="o">[</span>inst-e5-ol95-nps1:15697] Rank 83 bound to package[0][core:91]
<span class="o">[</span>inst-e5-ol95-nps1:15697] Rank 84 bound to package[1][core:99]
<span class="o">[</span>inst-e5-ol95-nps1:15697] Rank 85 bound to package[1][core:107]
<span class="o">[</span>inst-e5-ol95-nps1:15697] Rank 86 bound to package[1][core:115]
<span class="o">[</span>inst-e5-ol95-nps1:15697] Rank 87 bound to package[1][core:123]
<span class="o">[</span>inst-e5-ol95-nps1:15697] Rank 88 bound to package[1][core:131]
<span class="o">[</span>inst-e5-ol95-nps1:15697] Rank 89 bound to package[1][core:139]
<span class="o">[</span>inst-e5-ol95-nps1:15697] Rank 90 bound to package[1][core:147]
<span class="o">[</span>inst-e5-ol95-nps1:15697] Rank 91 bound to package[1][core:155]
<span class="o">[</span>inst-e5-ol95-nps1:15697] Rank 92 bound to package[1][core:163]
<span class="o">[</span>inst-e5-ol95-nps1:15697] Rank 93 bound to package[1][core:171]
<span class="o">[</span>inst-e5-ol95-nps1:15697] Rank 94 bound to package[1][core:179]
<span class="o">[</span>inst-e5-ol95-nps1:15697] Rank 95 bound to package[1][core:187]
<span class="err">$</span>
</code></pre></div></div>

<p>[No.8]</p>

<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>mpirun <span class="nt">-n</span> 192 <span class="nt">--bind-to</span> core <span class="nt">--report-bindings</span> <span class="nb">echo</span> <span class="nt">-n</span> |&amp; <span class="nb">sort</span> <span class="nt">-k</span> 3n,3
<span class="o">[</span>inst-e5-ol95-nps1:15825] Rank 0 bound to package[0][core:0]
<span class="o">[</span>inst-e5-ol95-nps1:15825] Rank 1 bound to package[0][core:1]
<span class="o">[</span>inst-e5-ol95-nps1:15825] Rank 2 bound to package[0][core:2]
<span class="o">[</span>inst-e5-ol95-nps1:15825] Rank 3 bound to package[0][core:3]
<span class="o">[</span>inst-e5-ol95-nps1:15825] Rank 4 bound to package[0][core:4]
<span class="o">[</span>inst-e5-ol95-nps1:15825] Rank 5 bound to package[0][core:5]
<span class="o">[</span>inst-e5-ol95-nps1:15825] Rank 6 bound to package[0][core:6]
<span class="o">[</span>inst-e5-ol95-nps1:15825] Rank 7 bound to package[0][core:7]
<span class="o">[</span>inst-e5-ol95-nps1:15825] Rank 8 bound to package[0][core:8]
<span class="o">[</span>inst-e5-ol95-nps1:15825] Rank 9 bound to package[0][core:9]
<span class="o">[</span>inst-e5-ol95-nps1:15825] Rank 10 bound to package[0][core:10]
<span class="o">[</span>inst-e5-ol95-nps1:15825] Rank 11 bound to package[0][core:11]
<span class="o">[</span>inst-e5-ol95-nps1:15825] Rank 12 bound to package[0][core:12]
<span class="o">[</span>inst-e5-ol95-nps1:15825] Rank 13 bound to package[0][core:13]
<span class="o">[</span>inst-e5-ol95-nps1:15825] Rank 14 bound to package[0][core:14]
<span class="o">[</span>inst-e5-ol95-nps1:15825] Rank 15 bound to package[0][core:15]
<span class="o">[</span>inst-e5-ol95-nps1:15825] Rank 16 bound to package[0][core:16]
<span class="o">[</span>inst-e5-ol95-nps1:15825] Rank 17 bound to package[0][core:17]
<span class="o">[</span>inst-e5-ol95-nps1:15825] Rank 18 bound to package[0][core:18]
<span class="o">[</span>inst-e5-ol95-nps1:15825] Rank 19 bound to package[0][core:19]
<span class="o">[</span>inst-e5-ol95-nps1:15825] Rank 20 bound to package[0][core:20]
<span class="o">[</span>inst-e5-ol95-nps1:15825] Rank 21 bound to package[0][core:21]
<span class="o">[</span>inst-e5-ol95-nps1:15825] Rank 22 bound to package[0][core:22]
<span class="o">[</span>inst-e5-ol95-nps1:15825] Rank 23 bound to package[0][core:23]
<span class="o">[</span>inst-e5-ol95-nps1:15825] Rank 24 bound to package[0][core:24]
<span class="o">[</span>inst-e5-ol95-nps1:15825] Rank 25 bound to package[0][core:25]
<span class="o">[</span>inst-e5-ol95-nps1:15825] Rank 26 bound to package[0][core:26]
<span class="o">[</span>inst-e5-ol95-nps1:15825] Rank 27 bound to package[0][core:27]
<span class="o">[</span>inst-e5-ol95-nps1:15825] Rank 28 bound to package[0][core:28]
<span class="o">[</span>inst-e5-ol95-nps1:15825] Rank 29 bound to package[0][core:29]
<span class="o">[</span>inst-e5-ol95-nps1:15825] Rank 30 bound to package[0][core:30]
<span class="o">[</span>inst-e5-ol95-nps1:15825] Rank 31 bound to package[0][core:31]
<span class="o">[</span>inst-e5-ol95-nps1:15825] Rank 32 bound to package[0][core:32]
<span class="o">[</span>inst-e5-ol95-nps1:15825] Rank 33 bound to package[0][core:33]
<span class="o">[</span>inst-e5-ol95-nps1:15825] Rank 34 bound to package[0][core:34]
<span class="o">[</span>inst-e5-ol95-nps1:15825] Rank 35 bound to package[0][core:35]
<span class="o">[</span>inst-e5-ol95-nps1:15825] Rank 36 bound to package[0][core:36]
<span class="o">[</span>inst-e5-ol95-nps1:15825] Rank 37 bound to package[0][core:37]
<span class="o">[</span>inst-e5-ol95-nps1:15825] Rank 38 bound to package[0][core:38]
<span class="o">[</span>inst-e5-ol95-nps1:15825] Rank 39 bound to package[0][core:39]
<span class="o">[</span>inst-e5-ol95-nps1:15825] Rank 40 bound to package[0][core:40]
<span class="o">[</span>inst-e5-ol95-nps1:15825] Rank 41 bound to package[0][core:41]
<span class="o">[</span>inst-e5-ol95-nps1:15825] Rank 42 bound to package[0][core:42]
<span class="o">[</span>inst-e5-ol95-nps1:15825] Rank 43 bound to package[0][core:43]
<span class="o">[</span>inst-e5-ol95-nps1:15825] Rank 44 bound to package[0][core:44]
<span class="o">[</span>inst-e5-ol95-nps1:15825] Rank 45 bound to package[0][core:45]
<span class="o">[</span>inst-e5-ol95-nps1:15825] Rank 46 bound to package[0][core:46]
<span class="o">[</span>inst-e5-ol95-nps1:15825] Rank 47 bound to package[0][core:47]
<span class="o">[</span>inst-e5-ol95-nps1:15825] Rank 48 bound to package[0][core:48]
<span class="o">[</span>inst-e5-ol95-nps1:15825] Rank 49 bound to package[0][core:49]
<span class="o">[</span>inst-e5-ol95-nps1:15825] Rank 50 bound to package[0][core:50]
<span class="o">[</span>inst-e5-ol95-nps1:15825] Rank 51 bound to package[0][core:51]
<span class="o">[</span>inst-e5-ol95-nps1:15825] Rank 52 bound to package[0][core:52]
<span class="o">[</span>inst-e5-ol95-nps1:15825] Rank 53 bound to package[0][core:53]
<span class="o">[</span>inst-e5-ol95-nps1:15825] Rank 54 bound to package[0][core:54]
<span class="o">[</span>inst-e5-ol95-nps1:15825] Rank 55 bound to package[0][core:55]
<span class="o">[</span>inst-e5-ol95-nps1:15825] Rank 56 bound to package[0][core:56]
<span class="o">[</span>inst-e5-ol95-nps1:15825] Rank 57 bound to package[0][core:57]
<span class="o">[</span>inst-e5-ol95-nps1:15825] Rank 58 bound to package[0][core:58]
<span class="o">[</span>inst-e5-ol95-nps1:15825] Rank 59 bound to package[0][core:59]
<span class="o">[</span>inst-e5-ol95-nps1:15825] Rank 60 bound to package[0][core:60]
<span class="o">[</span>inst-e5-ol95-nps1:15825] Rank 61 bound to package[0][core:61]
<span class="o">[</span>inst-e5-ol95-nps1:15825] Rank 62 bound to package[0][core:62]
<span class="o">[</span>inst-e5-ol95-nps1:15825] Rank 63 bound to package[0][core:63]
<span class="o">[</span>inst-e5-ol95-nps1:15825] Rank 64 bound to package[0][core:64]
<span class="o">[</span>inst-e5-ol95-nps1:15825] Rank 65 bound to package[0][core:65]
<span class="o">[</span>inst-e5-ol95-nps1:15825] Rank 66 bound to package[0][core:66]
<span class="o">[</span>inst-e5-ol95-nps1:15825] Rank 67 bound to package[0][core:67]
<span class="o">[</span>inst-e5-ol95-nps1:15825] Rank 68 bound to package[0][core:68]
<span class="o">[</span>inst-e5-ol95-nps1:15825] Rank 69 bound to package[0][core:69]
<span class="o">[</span>inst-e5-ol95-nps1:15825] Rank 70 bound to package[0][core:70]
<span class="o">[</span>inst-e5-ol95-nps1:15825] Rank 71 bound to package[0][core:71]
<span class="o">[</span>inst-e5-ol95-nps1:15825] Rank 72 bound to package[0][core:72]
<span class="o">[</span>inst-e5-ol95-nps1:15825] Rank 73 bound to package[0][core:73]
<span class="o">[</span>inst-e5-ol95-nps1:15825] Rank 74 bound to package[0][core:74]
<span class="o">[</span>inst-e5-ol95-nps1:15825] Rank 75 bound to package[0][core:75]
<span class="o">[</span>inst-e5-ol95-nps1:15825] Rank 76 bound to package[0][core:76]
<span class="o">[</span>inst-e5-ol95-nps1:15825] Rank 77 bound to package[0][core:77]
<span class="o">[</span>inst-e5-ol95-nps1:15825] Rank 78 bound to package[0][core:78]
<span class="o">[</span>inst-e5-ol95-nps1:15825] Rank 79 bound to package[0][core:79]
<span class="o">[</span>inst-e5-ol95-nps1:15825] Rank 80 bound to package[0][core:80]
<span class="o">[</span>inst-e5-ol95-nps1:15825] Rank 81 bound to package[0][core:81]
<span class="o">[</span>inst-e5-ol95-nps1:15825] Rank 82 bound to package[0][core:82]
<span class="o">[</span>inst-e5-ol95-nps1:15825] Rank 83 bound to package[0][core:83]
<span class="o">[</span>inst-e5-ol95-nps1:15825] Rank 84 bound to package[0][core:84]
<span class="o">[</span>inst-e5-ol95-nps1:15825] Rank 85 bound to package[0][core:85]
<span class="o">[</span>inst-e5-ol95-nps1:15825] Rank 86 bound to package[0][core:86]
<span class="o">[</span>inst-e5-ol95-nps1:15825] Rank 87 bound to package[0][core:87]
<span class="o">[</span>inst-e5-ol95-nps1:15825] Rank 88 bound to package[0][core:88]
<span class="o">[</span>inst-e5-ol95-nps1:15825] Rank 89 bound to package[0][core:89]
<span class="o">[</span>inst-e5-ol95-nps1:15825] Rank 90 bound to package[0][core:90]
<span class="o">[</span>inst-e5-ol95-nps1:15825] Rank 91 bound to package[0][core:91]
<span class="o">[</span>inst-e5-ol95-nps1:15825] Rank 92 bound to package[0][core:92]
<span class="o">[</span>inst-e5-ol95-nps1:15825] Rank 93 bound to package[0][core:93]
<span class="o">[</span>inst-e5-ol95-nps1:15825] Rank 94 bound to package[0][core:94]
<span class="o">[</span>inst-e5-ol95-nps1:15825] Rank 95 bound to package[0][core:95]
<span class="o">[</span>inst-e5-ol95-nps1:15825] Rank 96 bound to package[1][core:96]
<span class="o">[</span>inst-e5-ol95-nps1:15825] Rank 97 bound to package[1][core:97]
<span class="o">[</span>inst-e5-ol95-nps1:15825] Rank 98 bound to package[1][core:98]
<span class="o">[</span>inst-e5-ol95-nps1:15825] Rank 99 bound to package[1][core:99]
<span class="o">[</span>inst-e5-ol95-nps1:15825] Rank 100 bound to package[1][core:100]
<span class="o">[</span>inst-e5-ol95-nps1:15825] Rank 101 bound to package[1][core:101]
<span class="o">[</span>inst-e5-ol95-nps1:15825] Rank 102 bound to package[1][core:102]
<span class="o">[</span>inst-e5-ol95-nps1:15825] Rank 103 bound to package[1][core:103]
<span class="o">[</span>inst-e5-ol95-nps1:15825] Rank 104 bound to package[1][core:104]
<span class="o">[</span>inst-e5-ol95-nps1:15825] Rank 105 bound to package[1][core:105]
<span class="o">[</span>inst-e5-ol95-nps1:15825] Rank 106 bound to package[1][core:106]
<span class="o">[</span>inst-e5-ol95-nps1:15825] Rank 107 bound to package[1][core:107]
<span class="o">[</span>inst-e5-ol95-nps1:15825] Rank 108 bound to package[1][core:108]
<span class="o">[</span>inst-e5-ol95-nps1:15825] Rank 109 bound to package[1][core:109]
<span class="o">[</span>inst-e5-ol95-nps1:15825] Rank 110 bound to package[1][core:110]
<span class="o">[</span>inst-e5-ol95-nps1:15825] Rank 111 bound to package[1][core:111]
<span class="o">[</span>inst-e5-ol95-nps1:15825] Rank 112 bound to package[1][core:112]
<span class="o">[</span>inst-e5-ol95-nps1:15825] Rank 113 bound to package[1][core:113]
<span class="o">[</span>inst-e5-ol95-nps1:15825] Rank 114 bound to package[1][core:114]
<span class="o">[</span>inst-e5-ol95-nps1:15825] Rank 115 bound to package[1][core:115]
<span class="o">[</span>inst-e5-ol95-nps1:15825] Rank 116 bound to package[1][core:116]
<span class="o">[</span>inst-e5-ol95-nps1:15825] Rank 117 bound to package[1][core:117]
<span class="o">[</span>inst-e5-ol95-nps1:15825] Rank 118 bound to package[1][core:118]
<span class="o">[</span>inst-e5-ol95-nps1:15825] Rank 119 bound to package[1][core:119]
<span class="o">[</span>inst-e5-ol95-nps1:15825] Rank 120 bound to package[1][core:120]
<span class="o">[</span>inst-e5-ol95-nps1:15825] Rank 121 bound to package[1][core:121]
<span class="o">[</span>inst-e5-ol95-nps1:15825] Rank 122 bound to package[1][core:122]
<span class="o">[</span>inst-e5-ol95-nps1:15825] Rank 123 bound to package[1][core:123]
<span class="o">[</span>inst-e5-ol95-nps1:15825] Rank 124 bound to package[1][core:124]
<span class="o">[</span>inst-e5-ol95-nps1:15825] Rank 125 bound to package[1][core:125]
<span class="o">[</span>inst-e5-ol95-nps1:15825] Rank 126 bound to package[1][core:126]
<span class="o">[</span>inst-e5-ol95-nps1:15825] Rank 127 bound to package[1][core:127]
<span class="o">[</span>inst-e5-ol95-nps1:15825] Rank 128 bound to package[1][core:128]
<span class="o">[</span>inst-e5-ol95-nps1:15825] Rank 129 bound to package[1][core:129]
<span class="o">[</span>inst-e5-ol95-nps1:15825] Rank 130 bound to package[1][core:130]
<span class="o">[</span>inst-e5-ol95-nps1:15825] Rank 131 bound to package[1][core:131]
<span class="o">[</span>inst-e5-ol95-nps1:15825] Rank 132 bound to package[1][core:132]
<span class="o">[</span>inst-e5-ol95-nps1:15825] Rank 133 bound to package[1][core:133]
<span class="o">[</span>inst-e5-ol95-nps1:15825] Rank 134 bound to package[1][core:134]
<span class="o">[</span>inst-e5-ol95-nps1:15825] Rank 135 bound to package[1][core:135]
<span class="o">[</span>inst-e5-ol95-nps1:15825] Rank 136 bound to package[1][core:136]
<span class="o">[</span>inst-e5-ol95-nps1:15825] Rank 137 bound to package[1][core:137]
<span class="o">[</span>inst-e5-ol95-nps1:15825] Rank 138 bound to package[1][core:138]
<span class="o">[</span>inst-e5-ol95-nps1:15825] Rank 139 bound to package[1][core:139]
<span class="o">[</span>inst-e5-ol95-nps1:15825] Rank 140 bound to package[1][core:140]
<span class="o">[</span>inst-e5-ol95-nps1:15825] Rank 141 bound to package[1][core:141]
<span class="o">[</span>inst-e5-ol95-nps1:15825] Rank 142 bound to package[1][core:142]
<span class="o">[</span>inst-e5-ol95-nps1:15825] Rank 143 bound to package[1][core:143]
<span class="o">[</span>inst-e5-ol95-nps1:15825] Rank 144 bound to package[1][core:144]
<span class="o">[</span>inst-e5-ol95-nps1:15825] Rank 145 bound to package[1][core:145]
<span class="o">[</span>inst-e5-ol95-nps1:15825] Rank 146 bound to package[1][core:146]
<span class="o">[</span>inst-e5-ol95-nps1:15825] Rank 147 bound to package[1][core:147]
<span class="o">[</span>inst-e5-ol95-nps1:15825] Rank 148 bound to package[1][core:148]
<span class="o">[</span>inst-e5-ol95-nps1:15825] Rank 149 bound to package[1][core:149]
<span class="o">[</span>inst-e5-ol95-nps1:15825] Rank 150 bound to package[1][core:150]
<span class="o">[</span>inst-e5-ol95-nps1:15825] Rank 151 bound to package[1][core:151]
<span class="o">[</span>inst-e5-ol95-nps1:15825] Rank 152 bound to package[1][core:152]
<span class="o">[</span>inst-e5-ol95-nps1:15825] Rank 153 bound to package[1][core:153]
<span class="o">[</span>inst-e5-ol95-nps1:15825] Rank 154 bound to package[1][core:154]
<span class="o">[</span>inst-e5-ol95-nps1:15825] Rank 155 bound to package[1][core:155]
<span class="o">[</span>inst-e5-ol95-nps1:15825] Rank 156 bound to package[1][core:156]
<span class="o">[</span>inst-e5-ol95-nps1:15825] Rank 157 bound to package[1][core:157]
<span class="o">[</span>inst-e5-ol95-nps1:15825] Rank 158 bound to package[1][core:158]
<span class="o">[</span>inst-e5-ol95-nps1:15825] Rank 159 bound to package[1][core:159]
<span class="o">[</span>inst-e5-ol95-nps1:15825] Rank 160 bound to package[1][core:160]
<span class="o">[</span>inst-e5-ol95-nps1:15825] Rank 161 bound to package[1][core:161]
<span class="o">[</span>inst-e5-ol95-nps1:15825] Rank 162 bound to package[1][core:162]
<span class="o">[</span>inst-e5-ol95-nps1:15825] Rank 163 bound to package[1][core:163]
<span class="o">[</span>inst-e5-ol95-nps1:15825] Rank 164 bound to package[1][core:164]
<span class="o">[</span>inst-e5-ol95-nps1:15825] Rank 165 bound to package[1][core:165]
<span class="o">[</span>inst-e5-ol95-nps1:15825] Rank 166 bound to package[1][core:166]
<span class="o">[</span>inst-e5-ol95-nps1:15825] Rank 167 bound to package[1][core:167]
<span class="o">[</span>inst-e5-ol95-nps1:15825] Rank 168 bound to package[1][core:168]
<span class="o">[</span>inst-e5-ol95-nps1:15825] Rank 169 bound to package[1][core:169]
<span class="o">[</span>inst-e5-ol95-nps1:15825] Rank 170 bound to package[1][core:170]
<span class="o">[</span>inst-e5-ol95-nps1:15825] Rank 171 bound to package[1][core:171]
<span class="o">[</span>inst-e5-ol95-nps1:15825] Rank 172 bound to package[1][core:172]
<span class="o">[</span>inst-e5-ol95-nps1:15825] Rank 173 bound to package[1][core:173]
<span class="o">[</span>inst-e5-ol95-nps1:15825] Rank 174 bound to package[1][core:174]
<span class="o">[</span>inst-e5-ol95-nps1:15825] Rank 175 bound to package[1][core:175]
<span class="o">[</span>inst-e5-ol95-nps1:15825] Rank 176 bound to package[1][core:176]
<span class="o">[</span>inst-e5-ol95-nps1:15825] Rank 177 bound to package[1][core:177]
<span class="o">[</span>inst-e5-ol95-nps1:15825] Rank 178 bound to package[1][core:178]
<span class="o">[</span>inst-e5-ol95-nps1:15825] Rank 179 bound to package[1][core:179]
<span class="o">[</span>inst-e5-ol95-nps1:15825] Rank 180 bound to package[1][core:180]
<span class="o">[</span>inst-e5-ol95-nps1:15825] Rank 181 bound to package[1][core:181]
<span class="o">[</span>inst-e5-ol95-nps1:15825] Rank 182 bound to package[1][core:182]
<span class="o">[</span>inst-e5-ol95-nps1:15825] Rank 183 bound to package[1][core:183]
<span class="o">[</span>inst-e5-ol95-nps1:15825] Rank 184 bound to package[1][core:184]
<span class="o">[</span>inst-e5-ol95-nps1:15825] Rank 185 bound to package[1][core:185]
<span class="o">[</span>inst-e5-ol95-nps1:15825] Rank 186 bound to package[1][core:186]
<span class="o">[</span>inst-e5-ol95-nps1:15825] Rank 187 bound to package[1][core:187]
<span class="o">[</span>inst-e5-ol95-nps1:15825] Rank 188 bound to package[1][core:188]
<span class="o">[</span>inst-e5-ol95-nps1:15825] Rank 189 bound to package[1][core:189]
<span class="o">[</span>inst-e5-ol95-nps1:15825] Rank 190 bound to package[1][core:190]
<span class="o">[</span>inst-e5-ol95-nps1:15825] Rank 191 bound to package[1][core:191]
<span class="err">$</span>
</code></pre></div></div>

<p>[No.9]</p>

<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>mpirun <span class="nt">-n</span> 192 <span class="nt">--bind-to</span> core <span class="nt">--map-by</span> ppr:8:l3cache <span class="nt">--rank-by</span> span <span class="nt">--report-bindings</span> <span class="nb">echo</span> <span class="nt">-n</span> |&amp; <span class="nb">sort</span> <span class="nt">-k</span> 3n,3
<span class="o">[</span>inst-e5-ol95-nps1:16040] Rank 0 bound to package[0][core:0]
<span class="o">[</span>inst-e5-ol95-nps1:16040] Rank 1 bound to package[0][core:8]
<span class="o">[</span>inst-e5-ol95-nps1:16040] Rank 2 bound to package[0][core:16]
<span class="o">[</span>inst-e5-ol95-nps1:16040] Rank 3 bound to package[0][core:24]
<span class="o">[</span>inst-e5-ol95-nps1:16040] Rank 4 bound to package[0][core:32]
<span class="o">[</span>inst-e5-ol95-nps1:16040] Rank 5 bound to package[0][core:40]
<span class="o">[</span>inst-e5-ol95-nps1:16040] Rank 6 bound to package[0][core:48]
<span class="o">[</span>inst-e5-ol95-nps1:16040] Rank 7 bound to package[0][core:56]
<span class="o">[</span>inst-e5-ol95-nps1:16040] Rank 8 bound to package[0][core:64]
<span class="o">[</span>inst-e5-ol95-nps1:16040] Rank 9 bound to package[0][core:72]
<span class="o">[</span>inst-e5-ol95-nps1:16040] Rank 10 bound to package[0][core:80]
<span class="o">[</span>inst-e5-ol95-nps1:16040] Rank 11 bound to package[0][core:88]
<span class="o">[</span>inst-e5-ol95-nps1:16040] Rank 12 bound to package[1][core:96]
<span class="o">[</span>inst-e5-ol95-nps1:16040] Rank 13 bound to package[1][core:104]
<span class="o">[</span>inst-e5-ol95-nps1:16040] Rank 14 bound to package[1][core:112]
<span class="o">[</span>inst-e5-ol95-nps1:16040] Rank 15 bound to package[1][core:120]
<span class="o">[</span>inst-e5-ol95-nps1:16040] Rank 16 bound to package[1][core:128]
<span class="o">[</span>inst-e5-ol95-nps1:16040] Rank 17 bound to package[1][core:136]
<span class="o">[</span>inst-e5-ol95-nps1:16040] Rank 18 bound to package[1][core:144]
<span class="o">[</span>inst-e5-ol95-nps1:16040] Rank 19 bound to package[1][core:152]
<span class="o">[</span>inst-e5-ol95-nps1:16040] Rank 20 bound to package[1][core:160]
<span class="o">[</span>inst-e5-ol95-nps1:16040] Rank 21 bound to package[1][core:168]
<span class="o">[</span>inst-e5-ol95-nps1:16040] Rank 22 bound to package[1][core:176]
<span class="o">[</span>inst-e5-ol95-nps1:16040] Rank 23 bound to package[1][core:184]
<span class="o">[</span>inst-e5-ol95-nps1:16040] Rank 24 bound to package[0][core:1]
<span class="o">[</span>inst-e5-ol95-nps1:16040] Rank 25 bound to package[0][core:9]
<span class="o">[</span>inst-e5-ol95-nps1:16040] Rank 26 bound to package[0][core:17]
<span class="o">[</span>inst-e5-ol95-nps1:16040] Rank 27 bound to package[0][core:25]
<span class="o">[</span>inst-e5-ol95-nps1:16040] Rank 28 bound to package[0][core:33]
<span class="o">[</span>inst-e5-ol95-nps1:16040] Rank 29 bound to package[0][core:41]
<span class="o">[</span>inst-e5-ol95-nps1:16040] Rank 30 bound to package[0][core:49]
<span class="o">[</span>inst-e5-ol95-nps1:16040] Rank 31 bound to package[0][core:57]
<span class="o">[</span>inst-e5-ol95-nps1:16040] Rank 32 bound to package[0][core:65]
<span class="o">[</span>inst-e5-ol95-nps1:16040] Rank 33 bound to package[0][core:73]
<span class="o">[</span>inst-e5-ol95-nps1:16040] Rank 34 bound to package[0][core:81]
<span class="o">[</span>inst-e5-ol95-nps1:16040] Rank 35 bound to package[0][core:89]
<span class="o">[</span>inst-e5-ol95-nps1:16040] Rank 36 bound to package[1][core:97]
<span class="o">[</span>inst-e5-ol95-nps1:16040] Rank 37 bound to package[1][core:105]
<span class="o">[</span>inst-e5-ol95-nps1:16040] Rank 38 bound to package[1][core:113]
<span class="o">[</span>inst-e5-ol95-nps1:16040] Rank 39 bound to package[1][core:121]
<span class="o">[</span>inst-e5-ol95-nps1:16040] Rank 40 bound to package[1][core:129]
<span class="o">[</span>inst-e5-ol95-nps1:16040] Rank 41 bound to package[1][core:137]
<span class="o">[</span>inst-e5-ol95-nps1:16040] Rank 42 bound to package[1][core:145]
<span class="o">[</span>inst-e5-ol95-nps1:16040] Rank 43 bound to package[1][core:153]
<span class="o">[</span>inst-e5-ol95-nps1:16040] Rank 44 bound to package[1][core:161]
<span class="o">[</span>inst-e5-ol95-nps1:16040] Rank 45 bound to package[1][core:169]
<span class="o">[</span>inst-e5-ol95-nps1:16040] Rank 46 bound to package[1][core:177]
<span class="o">[</span>inst-e5-ol95-nps1:16040] Rank 47 bound to package[1][core:185]
<span class="o">[</span>inst-e5-ol95-nps1:16040] Rank 48 bound to package[0][core:2]
<span class="o">[</span>inst-e5-ol95-nps1:16040] Rank 49 bound to package[0][core:10]
<span class="o">[</span>inst-e5-ol95-nps1:16040] Rank 50 bound to package[0][core:18]
<span class="o">[</span>inst-e5-ol95-nps1:16040] Rank 51 bound to package[0][core:26]
<span class="o">[</span>inst-e5-ol95-nps1:16040] Rank 52 bound to package[0][core:34]
<span class="o">[</span>inst-e5-ol95-nps1:16040] Rank 53 bound to package[0][core:42]
<span class="o">[</span>inst-e5-ol95-nps1:16040] Rank 54 bound to package[0][core:50]
<span class="o">[</span>inst-e5-ol95-nps1:16040] Rank 55 bound to package[0][core:58]
<span class="o">[</span>inst-e5-ol95-nps1:16040] Rank 56 bound to package[0][core:66]
<span class="o">[</span>inst-e5-ol95-nps1:16040] Rank 57 bound to package[0][core:74]
<span class="o">[</span>inst-e5-ol95-nps1:16040] Rank 58 bound to package[0][core:82]
<span class="o">[</span>inst-e5-ol95-nps1:16040] Rank 59 bound to package[0][core:90]
<span class="o">[</span>inst-e5-ol95-nps1:16040] Rank 60 bound to package[1][core:98]
<span class="o">[</span>inst-e5-ol95-nps1:16040] Rank 61 bound to package[1][core:106]
<span class="o">[</span>inst-e5-ol95-nps1:16040] Rank 62 bound to package[1][core:114]
<span class="o">[</span>inst-e5-ol95-nps1:16040] Rank 63 bound to package[1][core:122]
<span class="o">[</span>inst-e5-ol95-nps1:16040] Rank 64 bound to package[1][core:130]
<span class="o">[</span>inst-e5-ol95-nps1:16040] Rank 65 bound to package[1][core:138]
<span class="o">[</span>inst-e5-ol95-nps1:16040] Rank 66 bound to package[1][core:146]
<span class="o">[</span>inst-e5-ol95-nps1:16040] Rank 67 bound to package[1][core:154]
<span class="o">[</span>inst-e5-ol95-nps1:16040] Rank 68 bound to package[1][core:162]
<span class="o">[</span>inst-e5-ol95-nps1:16040] Rank 69 bound to package[1][core:170]
<span class="o">[</span>inst-e5-ol95-nps1:16040] Rank 70 bound to package[1][core:178]
<span class="o">[</span>inst-e5-ol95-nps1:16040] Rank 71 bound to package[1][core:186]
<span class="o">[</span>inst-e5-ol95-nps1:16040] Rank 72 bound to package[0][core:3]
<span class="o">[</span>inst-e5-ol95-nps1:16040] Rank 73 bound to package[0][core:11]
<span class="o">[</span>inst-e5-ol95-nps1:16040] Rank 74 bound to package[0][core:19]
<span class="o">[</span>inst-e5-ol95-nps1:16040] Rank 75 bound to package[0][core:27]
<span class="o">[</span>inst-e5-ol95-nps1:16040] Rank 76 bound to package[0][core:35]
<span class="o">[</span>inst-e5-ol95-nps1:16040] Rank 77 bound to package[0][core:43]
<span class="o">[</span>inst-e5-ol95-nps1:16040] Rank 78 bound to package[0][core:51]
<span class="o">[</span>inst-e5-ol95-nps1:16040] Rank 79 bound to package[0][core:59]
<span class="o">[</span>inst-e5-ol95-nps1:16040] Rank 80 bound to package[0][core:67]
<span class="o">[</span>inst-e5-ol95-nps1:16040] Rank 81 bound to package[0][core:75]
<span class="o">[</span>inst-e5-ol95-nps1:16040] Rank 82 bound to package[0][core:83]
<span class="o">[</span>inst-e5-ol95-nps1:16040] Rank 83 bound to package[0][core:91]
<span class="o">[</span>inst-e5-ol95-nps1:16040] Rank 84 bound to package[1][core:99]
<span class="o">[</span>inst-e5-ol95-nps1:16040] Rank 85 bound to package[1][core:107]
<span class="o">[</span>inst-e5-ol95-nps1:16040] Rank 86 bound to package[1][core:115]
<span class="o">[</span>inst-e5-ol95-nps1:16040] Rank 87 bound to package[1][core:123]
<span class="o">[</span>inst-e5-ol95-nps1:16040] Rank 88 bound to package[1][core:131]
<span class="o">[</span>inst-e5-ol95-nps1:16040] Rank 89 bound to package[1][core:139]
<span class="o">[</span>inst-e5-ol95-nps1:16040] Rank 90 bound to package[1][core:147]
<span class="o">[</span>inst-e5-ol95-nps1:16040] Rank 91 bound to package[1][core:155]
<span class="o">[</span>inst-e5-ol95-nps1:16040] Rank 92 bound to package[1][core:163]
<span class="o">[</span>inst-e5-ol95-nps1:16040] Rank 93 bound to package[1][core:171]
<span class="o">[</span>inst-e5-ol95-nps1:16040] Rank 94 bound to package[1][core:179]
<span class="o">[</span>inst-e5-ol95-nps1:16040] Rank 95 bound to package[1][core:187]
<span class="o">[</span>inst-e5-ol95-nps1:16040] Rank 96 bound to package[0][core:4]
<span class="o">[</span>inst-e5-ol95-nps1:16040] Rank 97 bound to package[0][core:12]
<span class="o">[</span>inst-e5-ol95-nps1:16040] Rank 98 bound to package[0][core:20]
<span class="o">[</span>inst-e5-ol95-nps1:16040] Rank 99 bound to package[0][core:28]
<span class="o">[</span>inst-e5-ol95-nps1:16040] Rank 100 bound to package[0][core:36]
<span class="o">[</span>inst-e5-ol95-nps1:16040] Rank 101 bound to package[0][core:44]
<span class="o">[</span>inst-e5-ol95-nps1:16040] Rank 102 bound to package[0][core:52]
<span class="o">[</span>inst-e5-ol95-nps1:16040] Rank 103 bound to package[0][core:60]
<span class="o">[</span>inst-e5-ol95-nps1:16040] Rank 104 bound to package[0][core:68]
<span class="o">[</span>inst-e5-ol95-nps1:16040] Rank 105 bound to package[0][core:76]
<span class="o">[</span>inst-e5-ol95-nps1:16040] Rank 106 bound to package[0][core:84]
<span class="o">[</span>inst-e5-ol95-nps1:16040] Rank 107 bound to package[0][core:92]
<span class="o">[</span>inst-e5-ol95-nps1:16040] Rank 108 bound to package[1][core:100]
<span class="o">[</span>inst-e5-ol95-nps1:16040] Rank 109 bound to package[1][core:108]
<span class="o">[</span>inst-e5-ol95-nps1:16040] Rank 110 bound to package[1][core:116]
<span class="o">[</span>inst-e5-ol95-nps1:16040] Rank 111 bound to package[1][core:124]
<span class="o">[</span>inst-e5-ol95-nps1:16040] Rank 112 bound to package[1][core:132]
<span class="o">[</span>inst-e5-ol95-nps1:16040] Rank 113 bound to package[1][core:140]
<span class="o">[</span>inst-e5-ol95-nps1:16040] Rank 114 bound to package[1][core:148]
<span class="o">[</span>inst-e5-ol95-nps1:16040] Rank 115 bound to package[1][core:156]
<span class="o">[</span>inst-e5-ol95-nps1:16040] Rank 116 bound to package[1][core:164]
<span class="o">[</span>inst-e5-ol95-nps1:16040] Rank 117 bound to package[1][core:172]
<span class="o">[</span>inst-e5-ol95-nps1:16040] Rank 118 bound to package[1][core:180]
<span class="o">[</span>inst-e5-ol95-nps1:16040] Rank 119 bound to package[1][core:188]
<span class="o">[</span>inst-e5-ol95-nps1:16040] Rank 120 bound to package[0][core:5]
<span class="o">[</span>inst-e5-ol95-nps1:16040] Rank 121 bound to package[0][core:13]
<span class="o">[</span>inst-e5-ol95-nps1:16040] Rank 122 bound to package[0][core:21]
<span class="o">[</span>inst-e5-ol95-nps1:16040] Rank 123 bound to package[0][core:29]
<span class="o">[</span>inst-e5-ol95-nps1:16040] Rank 124 bound to package[0][core:37]
<span class="o">[</span>inst-e5-ol95-nps1:16040] Rank 125 bound to package[0][core:45]
<span class="o">[</span>inst-e5-ol95-nps1:16040] Rank 126 bound to package[0][core:53]
<span class="o">[</span>inst-e5-ol95-nps1:16040] Rank 127 bound to package[0][core:61]
<span class="o">[</span>inst-e5-ol95-nps1:16040] Rank 128 bound to package[0][core:69]
<span class="o">[</span>inst-e5-ol95-nps1:16040] Rank 129 bound to package[0][core:77]
<span class="o">[</span>inst-e5-ol95-nps1:16040] Rank 130 bound to package[0][core:85]
<span class="o">[</span>inst-e5-ol95-nps1:16040] Rank 131 bound to package[0][core:93]
<span class="o">[</span>inst-e5-ol95-nps1:16040] Rank 132 bound to package[1][core:101]
<span class="o">[</span>inst-e5-ol95-nps1:16040] Rank 133 bound to package[1][core:109]
<span class="o">[</span>inst-e5-ol95-nps1:16040] Rank 134 bound to package[1][core:117]
<span class="o">[</span>inst-e5-ol95-nps1:16040] Rank 135 bound to package[1][core:125]
<span class="o">[</span>inst-e5-ol95-nps1:16040] Rank 136 bound to package[1][core:133]
<span class="o">[</span>inst-e5-ol95-nps1:16040] Rank 137 bound to package[1][core:141]
<span class="o">[</span>inst-e5-ol95-nps1:16040] Rank 138 bound to package[1][core:149]
<span class="o">[</span>inst-e5-ol95-nps1:16040] Rank 139 bound to package[1][core:157]
<span class="o">[</span>inst-e5-ol95-nps1:16040] Rank 140 bound to package[1][core:165]
<span class="o">[</span>inst-e5-ol95-nps1:16040] Rank 141 bound to package[1][core:173]
<span class="o">[</span>inst-e5-ol95-nps1:16040] Rank 142 bound to package[1][core:181]
<span class="o">[</span>inst-e5-ol95-nps1:16040] Rank 143 bound to package[1][core:189]
<span class="o">[</span>inst-e5-ol95-nps1:16040] Rank 144 bound to package[0][core:6]
<span class="o">[</span>inst-e5-ol95-nps1:16040] Rank 145 bound to package[0][core:14]
<span class="o">[</span>inst-e5-ol95-nps1:16040] Rank 146 bound to package[0][core:22]
<span class="o">[</span>inst-e5-ol95-nps1:16040] Rank 147 bound to package[0][core:30]
<span class="o">[</span>inst-e5-ol95-nps1:16040] Rank 148 bound to package[0][core:38]
<span class="o">[</span>inst-e5-ol95-nps1:16040] Rank 149 bound to package[0][core:46]
<span class="o">[</span>inst-e5-ol95-nps1:16040] Rank 150 bound to package[0][core:54]
<span class="o">[</span>inst-e5-ol95-nps1:16040] Rank 151 bound to package[0][core:62]
<span class="o">[</span>inst-e5-ol95-nps1:16040] Rank 152 bound to package[0][core:70]
<span class="o">[</span>inst-e5-ol95-nps1:16040] Rank 153 bound to package[0][core:78]
<span class="o">[</span>inst-e5-ol95-nps1:16040] Rank 154 bound to package[0][core:86]
<span class="o">[</span>inst-e5-ol95-nps1:16040] Rank 155 bound to package[0][core:94]
<span class="o">[</span>inst-e5-ol95-nps1:16040] Rank 156 bound to package[1][core:102]
<span class="o">[</span>inst-e5-ol95-nps1:16040] Rank 157 bound to package[1][core:110]
<span class="o">[</span>inst-e5-ol95-nps1:16040] Rank 158 bound to package[1][core:118]
<span class="o">[</span>inst-e5-ol95-nps1:16040] Rank 159 bound to package[1][core:126]
<span class="o">[</span>inst-e5-ol95-nps1:16040] Rank 160 bound to package[1][core:134]
<span class="o">[</span>inst-e5-ol95-nps1:16040] Rank 161 bound to package[1][core:142]
<span class="o">[</span>inst-e5-ol95-nps1:16040] Rank 162 bound to package[1][core:150]
<span class="o">[</span>inst-e5-ol95-nps1:16040] Rank 163 bound to package[1][core:158]
<span class="o">[</span>inst-e5-ol95-nps1:16040] Rank 164 bound to package[1][core:166]
<span class="o">[</span>inst-e5-ol95-nps1:16040] Rank 165 bound to package[1][core:174]
<span class="o">[</span>inst-e5-ol95-nps1:16040] Rank 166 bound to package[1][core:182]
<span class="o">[</span>inst-e5-ol95-nps1:16040] Rank 167 bound to package[1][core:190]
<span class="o">[</span>inst-e5-ol95-nps1:16040] Rank 168 bound to package[0][core:7]
<span class="o">[</span>inst-e5-ol95-nps1:16040] Rank 169 bound to package[0][core:15]
<span class="o">[</span>inst-e5-ol95-nps1:16040] Rank 170 bound to package[0][core:23]
<span class="o">[</span>inst-e5-ol95-nps1:16040] Rank 171 bound to package[0][core:31]
<span class="o">[</span>inst-e5-ol95-nps1:16040] Rank 172 bound to package[0][core:39]
<span class="o">[</span>inst-e5-ol95-nps1:16040] Rank 173 bound to package[0][core:47]
<span class="o">[</span>inst-e5-ol95-nps1:16040] Rank 174 bound to package[0][core:55]
<span class="o">[</span>inst-e5-ol95-nps1:16040] Rank 175 bound to package[0][core:63]
<span class="o">[</span>inst-e5-ol95-nps1:16040] Rank 176 bound to package[0][core:71]
<span class="o">[</span>inst-e5-ol95-nps1:16040] Rank 177 bound to package[0][core:79]
<span class="o">[</span>inst-e5-ol95-nps1:16040] Rank 178 bound to package[0][core:87]
<span class="o">[</span>inst-e5-ol95-nps1:16040] Rank 179 bound to package[0][core:95]
<span class="o">[</span>inst-e5-ol95-nps1:16040] Rank 180 bound to package[1][core:103]
<span class="o">[</span>inst-e5-ol95-nps1:16040] Rank 181 bound to package[1][core:111]
<span class="o">[</span>inst-e5-ol95-nps1:16040] Rank 182 bound to package[1][core:119]
<span class="o">[</span>inst-e5-ol95-nps1:16040] Rank 183 bound to package[1][core:127]
<span class="o">[</span>inst-e5-ol95-nps1:16040] Rank 184 bound to package[1][core:135]
<span class="o">[</span>inst-e5-ol95-nps1:16040] Rank 185 bound to package[1][core:143]
<span class="o">[</span>inst-e5-ol95-nps1:16040] Rank 186 bound to package[1][core:151]
<span class="o">[</span>inst-e5-ol95-nps1:16040] Rank 187 bound to package[1][core:159]
<span class="o">[</span>inst-e5-ol95-nps1:16040] Rank 188 bound to package[1][core:167]
<span class="o">[</span>inst-e5-ol95-nps1:16040] Rank 189 bound to package[1][core:175]
<span class="o">[</span>inst-e5-ol95-nps1:16040] Rank 190 bound to package[1][core:183]
<span class="o">[</span>inst-e5-ol95-nps1:16040] Rank 191 bound to package[1][core:191]
<span class="err">$</span>
</code></pre></div></div>

<p>[No.10]</p>

<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>mpirun <span class="nt">-n</span> 2 <span class="nt">--bind-to</span> core <span class="nt">--map-by</span> ppr:1:package:PE<span class="o">=</span>96 <span class="nt">-x</span> <span class="nv">OMP_NUM_THREAD</span><span class="o">=</span>96 <span class="nt">-x</span> <span class="nv">OMP_PROC_BIND</span><span class="o">=</span>TRUE bash <span class="nt">-c</span> <span class="s1">'sleep $OMPI_COMM_WORLD_RANK; echo "Rank $OMPI_COMM_WORLD_RANK Node `echo $((OMPI_COMM_WORLD_RANK / OMPI_COMM_WORLD_LOCAL_SIZE))`"; ./show_thread_bind | sort -k 2n,2'</span>
Rank 0 Node 0
Thread  0 Core   0
Thread  1 Core   1
Thread  2 Core   2
Thread  3 Core   3
Thread  4 Core   4
Thread  5 Core   5
Thread  6 Core   6
Thread  7 Core   7
Thread  8 Core   8
Thread  9 Core   9
Thread 10 Core  10
Thread 11 Core  11
Thread 12 Core  12
Thread 13 Core  13
Thread 14 Core  14
Thread 15 Core  15
Thread 16 Core  16
Thread 17 Core  17
Thread 18 Core  18
Thread 19 Core  19
Thread 20 Core  20
Thread 21 Core  21
Thread 22 Core  22
Thread 23 Core  23
Thread 24 Core  24
Thread 25 Core  25
Thread 26 Core  26
Thread 27 Core  27
Thread 28 Core  28
Thread 29 Core  29
Thread 30 Core  30
Thread 31 Core  31
Thread 32 Core  32
Thread 33 Core  33
Thread 34 Core  34
Thread 35 Core  35
Thread 36 Core  36
Thread 37 Core  37
Thread 38 Core  38
Thread 39 Core  39
Thread 40 Core  40
Thread 41 Core  41
Thread 42 Core  42
Thread 43 Core  43
Thread 44 Core  44
Thread 45 Core  45
Thread 46 Core  46
Thread 47 Core  47
Thread 48 Core  48
Thread 49 Core  49
Thread 50 Core  50
Thread 51 Core  51
Thread 52 Core  52
Thread 53 Core  53
Thread 54 Core  54
Thread 55 Core  55
Thread 56 Core  56
Thread 57 Core  57
Thread 58 Core  58
Thread 59 Core  59
Thread 60 Core  60
Thread 61 Core  61
Thread 62 Core  62
Thread 63 Core  63
Thread 64 Core  64
Thread 65 Core  65
Thread 66 Core  66
Thread 67 Core  67
Thread 68 Core  68
Thread 69 Core  69
Thread 70 Core  70
Thread 71 Core  71
Thread 72 Core  72
Thread 73 Core  73
Thread 74 Core  74
Thread 75 Core  75
Thread 76 Core  76
Thread 77 Core  77
Thread 78 Core  78
Thread 79 Core  79
Thread 80 Core  80
Thread 81 Core  81
Thread 82 Core  82
Thread 83 Core  83
Thread 84 Core  84
Thread 85 Core  85
Thread 86 Core  86
Thread 87 Core  87
Thread 88 Core  88
Thread 89 Core  89
Thread 90 Core  90
Thread 91 Core  91
Thread 92 Core  92
Thread 93 Core  93
Thread 94 Core  94
Thread 95 Core  95
Rank 1 Node 0
Thread  0 Core  96
Thread  1 Core  97
Thread  2 Core  98
Thread  3 Core  99
Thread  4 Core 100
Thread  5 Core 101
Thread  6 Core 102
Thread  7 Core 103
Thread  8 Core 104
Thread  9 Core 105
Thread 10 Core 106
Thread 11 Core 107
Thread 12 Core 108
Thread 13 Core 109
Thread 14 Core 110
Thread 15 Core 111
Thread 16 Core 112
Thread 17 Core 113
Thread 18 Core 114
Thread 19 Core 115
Thread 20 Core 116
Thread 21 Core 117
Thread 22 Core 118
Thread 23 Core 119
Thread 24 Core 120
Thread 25 Core 121
Thread 26 Core 122
Thread 27 Core 123
Thread 28 Core 124
Thread 29 Core 125
Thread 30 Core 126
Thread 31 Core 127
Thread 32 Core 128
Thread 33 Core 129
Thread 34 Core 130
Thread 35 Core 131
Thread 36 Core 132
Thread 37 Core 133
Thread 38 Core 134
Thread 39 Core 135
Thread 40 Core 136
Thread 41 Core 137
Thread 42 Core 138
Thread 43 Core 139
Thread 44 Core 140
Thread 45 Core 141
Thread 46 Core 142
Thread 47 Core 143
Thread 48 Core 144
Thread 49 Core 145
Thread 50 Core 146
Thread 51 Core 147
Thread 52 Core 148
Thread 53 Core 149
Thread 54 Core 150
Thread 55 Core 151
Thread 56 Core 152
Thread 57 Core 153
Thread 58 Core 154
Thread 59 Core 155
Thread 60 Core 156
Thread 61 Core 157
Thread 62 Core 158
Thread 63 Core 159
Thread 64 Core 160
Thread 65 Core 161
Thread 66 Core 162
Thread 67 Core 163
Thread 68 Core 164
Thread 69 Core 165
Thread 70 Core 166
Thread 71 Core 167
Thread 72 Core 168
Thread 73 Core 169
Thread 74 Core 170
Thread 75 Core 171
Thread 76 Core 172
Thread 77 Core 173
Thread 78 Core 174
Thread 79 Core 175
Thread 80 Core 176
Thread 81 Core 177
Thread 82 Core 178
Thread 83 Core 179
Thread 84 Core 180
Thread 85 Core 181
Thread 86 Core 182
Thread 87 Core 183
Thread 88 Core 184
Thread 89 Core 185
Thread 90 Core 186
Thread 91 Core 187
Thread 92 Core 188
Thread 93 Core 189
Thread 94 Core 190
Thread 95 Core 191
<span class="err">$</span>
</code></pre></div></div>

<p>[No.11]</p>

<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>mpirun <span class="nt">-n</span> 24 <span class="nt">--bind-to</span> core <span class="nt">--map-by</span> ppr:1:l3cache:PE<span class="o">=</span>8 <span class="nt">-x</span> <span class="nv">OMP_NUM_THREAD</span><span class="o">=</span>8 <span class="nt">-x</span> <span class="nv">OMP_PROC_BIND</span><span class="o">=</span>TRUE bash <span class="nt">-c</span> <span class="s1">'sleep $OMPI_COMM_WORLD_RANK; echo "Rank $OMPI_COMM_WORLD_RANK Node `echo $((OMPI_COMM_WORLD_RANK / OMPI_COMM_WORLD_LOCAL_SIZE))`"; ./show_thread_bind | sort -k 2n,2'</span>
Rank 0 Node 0
Thread  0 Core   0
Thread  1 Core   1
Thread  2 Core   2
Thread  3 Core   3
Thread  4 Core   4
Thread  5 Core   5
Thread  6 Core   6
Thread  7 Core   7
Rank 1 Node 0
Thread  0 Core   8
Thread  1 Core   9
Thread  2 Core  10
Thread  3 Core  11
Thread  4 Core  12
Thread  5 Core  13
Thread  6 Core  14
Thread  7 Core  15
Rank 2 Node 0
Thread  0 Core  16
Thread  1 Core  17
Thread  2 Core  18
Thread  3 Core  19
Thread  4 Core  20
Thread  5 Core  21
Thread  6 Core  22
Thread  7 Core  23
Rank 3 Node 0
Thread  0 Core  24
Thread  1 Core  25
Thread  2 Core  26
Thread  3 Core  27
Thread  4 Core  28
Thread  5 Core  29
Thread  6 Core  30
Thread  7 Core  31
Rank 4 Node 0
Thread  0 Core  32
Thread  1 Core  33
Thread  2 Core  34
Thread  3 Core  35
Thread  4 Core  36
Thread  5 Core  37
Thread  6 Core  38
Thread  7 Core  39
Rank 5 Node 0
Thread  0 Core  40
Thread  1 Core  41
Thread  2 Core  42
Thread  3 Core  43
Thread  4 Core  44
Thread  5 Core  45
Thread  6 Core  46
Thread  7 Core  47
Rank 6 Node 0
Thread  0 Core  48
Thread  1 Core  49
Thread  2 Core  50
Thread  3 Core  51
Thread  4 Core  52
Thread  5 Core  53
Thread  6 Core  54
Thread  7 Core  55
Rank 7 Node 0
Thread  0 Core  56
Thread  1 Core  57
Thread  2 Core  58
Thread  3 Core  59
Thread  4 Core  60
Thread  5 Core  61
Thread  6 Core  62
Thread  7 Core  63
Rank 8 Node 0
Thread  0 Core  64
Thread  1 Core  65
Thread  2 Core  66
Thread  3 Core  67
Thread  4 Core  68
Thread  5 Core  69
Thread  6 Core  70
Thread  7 Core  71
Rank 9 Node 0
Thread  0 Core  72
Thread  1 Core  73
Thread  2 Core  74
Thread  3 Core  75
Thread  4 Core  76
Thread  5 Core  77
Thread  6 Core  78
Thread  7 Core  79
Rank 10 Node 0
Thread  0 Core  80
Thread  1 Core  81
Thread  2 Core  82
Thread  3 Core  83
Thread  4 Core  84
Thread  5 Core  85
Thread  6 Core  86
Thread  7 Core  87
Rank 11 Node 0
Thread  0 Core  88
Thread  1 Core  89
Thread  2 Core  90
Thread  3 Core  91
Thread  4 Core  92
Thread  5 Core  93
Thread  6 Core  94
Thread  7 Core  95
Rank 12 Node 0
Thread  0 Core  96
Thread  1 Core  97
Thread  2 Core  98
Thread  3 Core  99
Thread  4 Core 100
Thread  5 Core 101
Thread  6 Core 102
Thread  7 Core 103
Rank 13 Node 0
Thread  0 Core 104
Thread  1 Core 105
Thread  2 Core 106
Thread  3 Core 107
Thread  4 Core 108
Thread  5 Core 109
Thread  6 Core 110
Thread  7 Core 111
Rank 14 Node 0
Thread  0 Core 112
Thread  1 Core 113
Thread  2 Core 114
Thread  3 Core 115
Thread  4 Core 116
Thread  5 Core 117
Thread  6 Core 118
Thread  7 Core 119
Rank 15 Node 0
Thread  0 Core 120
Thread  1 Core 121
Thread  2 Core 122
Thread  3 Core 123
Thread  4 Core 124
Thread  5 Core 125
Thread  6 Core 126
Thread  7 Core 127
Rank 16 Node 0
Thread  0 Core 128
Thread  1 Core 129
Thread  2 Core 130
Thread  3 Core 131
Thread  4 Core 132
Thread  5 Core 133
Thread  6 Core 134
Thread  7 Core 135
Rank 17 Node 0
Thread  0 Core 136
Thread  1 Core 137
Thread  2 Core 138
Thread  3 Core 139
Thread  4 Core 140
Thread  5 Core 141
Thread  6 Core 142
Thread  7 Core 143
Rank 18 Node 0
Thread  0 Core 144
Thread  1 Core 145
Thread  2 Core 146
Thread  3 Core 147
Thread  4 Core 148
Thread  5 Core 149
Thread  6 Core 150
Thread  7 Core 151
Rank 19 Node 0
Thread  0 Core 152
Thread  1 Core 153
Thread  2 Core 154
Thread  3 Core 155
Thread  4 Core 156
Thread  5 Core 157
Thread  6 Core 158
Thread  7 Core 159
Rank 20 Node 0
Thread  0 Core 160
Thread  1 Core 161
Thread  2 Core 162
Thread  3 Core 163
Thread  4 Core 164
Thread  5 Core 165
Thread  6 Core 166
Thread  7 Core 167
Rank 21 Node 0
Thread  0 Core 168
Thread  1 Core 169
Thread  2 Core 170
Thread  3 Core 171
Thread  4 Core 172
Thread  5 Core 173
Thread  6 Core 174
Thread  7 Core 175
Rank 22 Node 0
Thread  0 Core 176
Thread  1 Core 177
Thread  2 Core 178
Thread  3 Core 179
Thread  4 Core 180
Thread  5 Core 181
Thread  6 Core 182
Thread  7 Core 183
Rank 23 Node 0
Thread  0 Core 184
Thread  1 Core 185
Thread  2 Core 186
Thread  3 Core 187
Thread  4 Core 188
Thread  5 Core 189
Thread  6 Core 190
Thread  7 Core 191
<span class="err">$</span>
</code></pre></div></div>

<p>[No.12]</p>

<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>mpirun <span class="nt">-n</span> 8 <span class="nt">--bind-to</span> core <span class="nt">--map-by</span> ppr:1:numa <span class="nt">--report-bindings</span> <span class="nb">echo</span> <span class="nt">-n</span> |&amp; <span class="nb">sort</span> <span class="nt">-k</span> 3n,3
<span class="o">[</span>inst-e5-ol95-nps4:17474] Rank 0 bound to package[0][core:0]
<span class="o">[</span>inst-e5-ol95-nps4:17474] Rank 1 bound to package[0][core:24]
<span class="o">[</span>inst-e5-ol95-nps4:17474] Rank 2 bound to package[0][core:48]
<span class="o">[</span>inst-e5-ol95-nps4:17474] Rank 3 bound to package[0][core:72]
<span class="o">[</span>inst-e5-ol95-nps4:17474] Rank 4 bound to package[1][core:96]
<span class="o">[</span>inst-e5-ol95-nps4:17474] Rank 5 bound to package[1][core:120]
<span class="o">[</span>inst-e5-ol95-nps4:17474] Rank 6 bound to package[1][core:144]
<span class="o">[</span>inst-e5-ol95-nps4:17474] Rank 7 bound to package[1][core:168]
<span class="err">$</span>
</code></pre></div></div>

<p>[No.13]</p>

<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>mpirun <span class="nt">-n</span> 24 <span class="nt">--bind-to</span> core <span class="nt">--map-by</span> ppr:1:l3cache <span class="nt">--report-bindings</span> <span class="nb">echo</span> <span class="nt">-n</span> |&amp; <span class="nb">sort</span> <span class="nt">-k</span> 3n,3
<span class="o">[</span>inst-e5-ol95-nps4:17546] Rank 0 bound to package[0][core:0]
<span class="o">[</span>inst-e5-ol95-nps4:17546] Rank 1 bound to package[0][core:8]
<span class="o">[</span>inst-e5-ol95-nps4:17546] Rank 2 bound to package[0][core:16]
<span class="o">[</span>inst-e5-ol95-nps4:17546] Rank 3 bound to package[0][core:24]
<span class="o">[</span>inst-e5-ol95-nps4:17546] Rank 4 bound to package[0][core:32]
<span class="o">[</span>inst-e5-ol95-nps4:17546] Rank 5 bound to package[0][core:40]
<span class="o">[</span>inst-e5-ol95-nps4:17546] Rank 6 bound to package[0][core:48]
<span class="o">[</span>inst-e5-ol95-nps4:17546] Rank 7 bound to package[0][core:56]
<span class="o">[</span>inst-e5-ol95-nps4:17546] Rank 8 bound to package[0][core:64]
<span class="o">[</span>inst-e5-ol95-nps4:17546] Rank 9 bound to package[0][core:72]
<span class="o">[</span>inst-e5-ol95-nps4:17546] Rank 10 bound to package[0][core:80]
<span class="o">[</span>inst-e5-ol95-nps4:17546] Rank 11 bound to package[0][core:88]
<span class="o">[</span>inst-e5-ol95-nps4:17546] Rank 12 bound to package[1][core:96]
<span class="o">[</span>inst-e5-ol95-nps4:17546] Rank 13 bound to package[1][core:104]
<span class="o">[</span>inst-e5-ol95-nps4:17546] Rank 14 bound to package[1][core:112]
<span class="o">[</span>inst-e5-ol95-nps4:17546] Rank 15 bound to package[1][core:120]
<span class="o">[</span>inst-e5-ol95-nps4:17546] Rank 16 bound to package[1][core:128]
<span class="o">[</span>inst-e5-ol95-nps4:17546] Rank 17 bound to package[1][core:136]
<span class="o">[</span>inst-e5-ol95-nps4:17546] Rank 18 bound to package[1][core:144]
<span class="o">[</span>inst-e5-ol95-nps4:17546] Rank 19 bound to package[1][core:152]
<span class="o">[</span>inst-e5-ol95-nps4:17546] Rank 20 bound to package[1][core:160]
<span class="o">[</span>inst-e5-ol95-nps4:17546] Rank 21 bound to package[1][core:168]
<span class="o">[</span>inst-e5-ol95-nps4:17546] Rank 22 bound to package[1][core:176]
<span class="o">[</span>inst-e5-ol95-nps4:17546] Rank 23 bound to package[1][core:184]
<span class="err">$</span>
</code></pre></div></div>

<p>[No.14]</p>

<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>mpirun <span class="nt">-n</span> 48 <span class="nt">--bind-to</span> core <span class="nt">--map-by</span> ppr:2:l3cache <span class="nt">--report-bindings</span> <span class="nb">echo</span> <span class="nt">-n</span> |&amp; <span class="nb">sort</span> <span class="nt">-k</span> 3n,3
<span class="o">[</span>inst-e5-ol95-nps4:19146] Rank 0 bound to package[0][core:0]
<span class="o">[</span>inst-e5-ol95-nps4:19146] Rank 1 bound to package[0][core:1]
<span class="o">[</span>inst-e5-ol95-nps4:19146] Rank 2 bound to package[0][core:8]
<span class="o">[</span>inst-e5-ol95-nps4:19146] Rank 3 bound to package[0][core:9]
<span class="o">[</span>inst-e5-ol95-nps4:19146] Rank 4 bound to package[0][core:16]
<span class="o">[</span>inst-e5-ol95-nps4:19146] Rank 5 bound to package[0][core:17]
<span class="o">[</span>inst-e5-ol95-nps4:19146] Rank 6 bound to package[0][core:24]
<span class="o">[</span>inst-e5-ol95-nps4:19146] Rank 7 bound to package[0][core:25]
<span class="o">[</span>inst-e5-ol95-nps4:19146] Rank 8 bound to package[0][core:32]
<span class="o">[</span>inst-e5-ol95-nps4:19146] Rank 9 bound to package[0][core:33]
<span class="o">[</span>inst-e5-ol95-nps4:19146] Rank 10 bound to package[0][core:40]
<span class="o">[</span>inst-e5-ol95-nps4:19146] Rank 11 bound to package[0][core:41]
<span class="o">[</span>inst-e5-ol95-nps4:19146] Rank 12 bound to package[0][core:48]
<span class="o">[</span>inst-e5-ol95-nps4:19146] Rank 13 bound to package[0][core:49]
<span class="o">[</span>inst-e5-ol95-nps4:19146] Rank 14 bound to package[0][core:56]
<span class="o">[</span>inst-e5-ol95-nps4:19146] Rank 15 bound to package[0][core:57]
<span class="o">[</span>inst-e5-ol95-nps4:19146] Rank 16 bound to package[0][core:64]
<span class="o">[</span>inst-e5-ol95-nps4:19146] Rank 17 bound to package[0][core:65]
<span class="o">[</span>inst-e5-ol95-nps4:19146] Rank 18 bound to package[0][core:72]
<span class="o">[</span>inst-e5-ol95-nps4:19146] Rank 19 bound to package[0][core:73]
<span class="o">[</span>inst-e5-ol95-nps4:19146] Rank 20 bound to package[0][core:80]
<span class="o">[</span>inst-e5-ol95-nps4:19146] Rank 21 bound to package[0][core:81]
<span class="o">[</span>inst-e5-ol95-nps4:19146] Rank 22 bound to package[0][core:88]
<span class="o">[</span>inst-e5-ol95-nps4:19146] Rank 23 bound to package[0][core:89]
<span class="o">[</span>inst-e5-ol95-nps4:19146] Rank 24 bound to package[1][core:96]
<span class="o">[</span>inst-e5-ol95-nps4:19146] Rank 25 bound to package[1][core:97]
<span class="o">[</span>inst-e5-ol95-nps4:19146] Rank 26 bound to package[1][core:104]
<span class="o">[</span>inst-e5-ol95-nps4:19146] Rank 27 bound to package[1][core:105]
<span class="o">[</span>inst-e5-ol95-nps4:19146] Rank 28 bound to package[1][core:112]
<span class="o">[</span>inst-e5-ol95-nps4:19146] Rank 29 bound to package[1][core:113]
<span class="o">[</span>inst-e5-ol95-nps4:19146] Rank 30 bound to package[1][core:120]
<span class="o">[</span>inst-e5-ol95-nps4:19146] Rank 31 bound to package[1][core:121]
<span class="o">[</span>inst-e5-ol95-nps4:19146] Rank 32 bound to package[1][core:128]
<span class="o">[</span>inst-e5-ol95-nps4:19146] Rank 33 bound to package[1][core:129]
<span class="o">[</span>inst-e5-ol95-nps4:19146] Rank 34 bound to package[1][core:136]
<span class="o">[</span>inst-e5-ol95-nps4:19146] Rank 35 bound to package[1][core:137]
<span class="o">[</span>inst-e5-ol95-nps4:19146] Rank 36 bound to package[1][core:144]
<span class="o">[</span>inst-e5-ol95-nps4:19146] Rank 37 bound to package[1][core:145]
<span class="o">[</span>inst-e5-ol95-nps4:19146] Rank 38 bound to package[1][core:152]
<span class="o">[</span>inst-e5-ol95-nps4:19146] Rank 39 bound to package[1][core:153]
<span class="o">[</span>inst-e5-ol95-nps4:19146] Rank 40 bound to package[1][core:160]
<span class="o">[</span>inst-e5-ol95-nps4:19146] Rank 41 bound to package[1][core:161]
<span class="o">[</span>inst-e5-ol95-nps4:19146] Rank 42 bound to package[1][core:168]
<span class="o">[</span>inst-e5-ol95-nps4:19146] Rank 43 bound to package[1][core:169]
<span class="o">[</span>inst-e5-ol95-nps4:19146] Rank 44 bound to package[1][core:176]
<span class="o">[</span>inst-e5-ol95-nps4:19146] Rank 45 bound to package[1][core:177]
<span class="o">[</span>inst-e5-ol95-nps4:19146] Rank 46 bound to package[1][core:184]
<span class="o">[</span>inst-e5-ol95-nps4:19146] Rank 47 bound to package[1][core:185]
<span class="err">$</span>
</code></pre></div></div>

<p>[No.15]</p>

<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>mpirun <span class="nt">-n</span> 48 <span class="nt">--bind-to</span> core <span class="nt">--map-by</span> ppr:2:l3cache <span class="nt">--rank-by</span> span <span class="nt">--report-bindings</span> <span class="nb">echo</span> <span class="nt">-n</span> |&amp; <span class="nb">sort</span> <span class="nt">-k</span> 3n,3
<span class="o">[</span>inst-e5-ol95-nps4:19663] Rank 0 bound to package[0][core:0]
<span class="o">[</span>inst-e5-ol95-nps4:19663] Rank 1 bound to package[0][core:8]
<span class="o">[</span>inst-e5-ol95-nps4:19663] Rank 2 bound to package[0][core:16]
<span class="o">[</span>inst-e5-ol95-nps4:19663] Rank 3 bound to package[0][core:24]
<span class="o">[</span>inst-e5-ol95-nps4:19663] Rank 4 bound to package[0][core:32]
<span class="o">[</span>inst-e5-ol95-nps4:19663] Rank 5 bound to package[0][core:40]
<span class="o">[</span>inst-e5-ol95-nps4:19663] Rank 6 bound to package[0][core:48]
<span class="o">[</span>inst-e5-ol95-nps4:19663] Rank 7 bound to package[0][core:56]
<span class="o">[</span>inst-e5-ol95-nps4:19663] Rank 8 bound to package[0][core:64]
<span class="o">[</span>inst-e5-ol95-nps4:19663] Rank 9 bound to package[0][core:72]
<span class="o">[</span>inst-e5-ol95-nps4:19663] Rank 10 bound to package[0][core:80]
<span class="o">[</span>inst-e5-ol95-nps4:19663] Rank 11 bound to package[0][core:88]
<span class="o">[</span>inst-e5-ol95-nps4:19663] Rank 12 bound to package[1][core:96]
<span class="o">[</span>inst-e5-ol95-nps4:19663] Rank 13 bound to package[1][core:104]
<span class="o">[</span>inst-e5-ol95-nps4:19663] Rank 14 bound to package[1][core:112]
<span class="o">[</span>inst-e5-ol95-nps4:19663] Rank 15 bound to package[1][core:120]
<span class="o">[</span>inst-e5-ol95-nps4:19663] Rank 16 bound to package[1][core:128]
<span class="o">[</span>inst-e5-ol95-nps4:19663] Rank 17 bound to package[1][core:136]
<span class="o">[</span>inst-e5-ol95-nps4:19663] Rank 18 bound to package[1][core:144]
<span class="o">[</span>inst-e5-ol95-nps4:19663] Rank 19 bound to package[1][core:152]
<span class="o">[</span>inst-e5-ol95-nps4:19663] Rank 20 bound to package[1][core:160]
<span class="o">[</span>inst-e5-ol95-nps4:19663] Rank 21 bound to package[1][core:168]
<span class="o">[</span>inst-e5-ol95-nps4:19663] Rank 22 bound to package[1][core:176]
<span class="o">[</span>inst-e5-ol95-nps4:19663] Rank 23 bound to package[1][core:184]
<span class="o">[</span>inst-e5-ol95-nps4:19663] Rank 24 bound to package[0][core:1]
<span class="o">[</span>inst-e5-ol95-nps4:19663] Rank 25 bound to package[0][core:9]
<span class="o">[</span>inst-e5-ol95-nps4:19663] Rank 26 bound to package[0][core:17]
<span class="o">[</span>inst-e5-ol95-nps4:19663] Rank 27 bound to package[0][core:25]
<span class="o">[</span>inst-e5-ol95-nps4:19663] Rank 28 bound to package[0][core:33]
<span class="o">[</span>inst-e5-ol95-nps4:19663] Rank 29 bound to package[0][core:41]
<span class="o">[</span>inst-e5-ol95-nps4:19663] Rank 30 bound to package[0][core:49]
<span class="o">[</span>inst-e5-ol95-nps4:19663] Rank 31 bound to package[0][core:57]
<span class="o">[</span>inst-e5-ol95-nps4:19663] Rank 32 bound to package[0][core:65]
<span class="o">[</span>inst-e5-ol95-nps4:19663] Rank 33 bound to package[0][core:73]
<span class="o">[</span>inst-e5-ol95-nps4:19663] Rank 34 bound to package[0][core:81]
<span class="o">[</span>inst-e5-ol95-nps4:19663] Rank 35 bound to package[0][core:89]
<span class="o">[</span>inst-e5-ol95-nps4:19663] Rank 36 bound to package[1][core:97]
<span class="o">[</span>inst-e5-ol95-nps4:19663] Rank 37 bound to package[1][core:105]
<span class="o">[</span>inst-e5-ol95-nps4:19663] Rank 38 bound to package[1][core:113]
<span class="o">[</span>inst-e5-ol95-nps4:19663] Rank 39 bound to package[1][core:121]
<span class="o">[</span>inst-e5-ol95-nps4:19663] Rank 40 bound to package[1][core:129]
<span class="o">[</span>inst-e5-ol95-nps4:19663] Rank 41 bound to package[1][core:137]
<span class="o">[</span>inst-e5-ol95-nps4:19663] Rank 42 bound to package[1][core:145]
<span class="o">[</span>inst-e5-ol95-nps4:19663] Rank 43 bound to package[1][core:153]
<span class="o">[</span>inst-e5-ol95-nps4:19663] Rank 44 bound to package[1][core:161]
<span class="o">[</span>inst-e5-ol95-nps4:19663] Rank 45 bound to package[1][core:169]
<span class="o">[</span>inst-e5-ol95-nps4:19663] Rank 46 bound to package[1][core:177]
<span class="o">[</span>inst-e5-ol95-nps4:19663] Rank 47 bound to package[1][core:185]
<span class="err">$</span>
</code></pre></div></div>

<p>[No.16]</p>

<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>mpirun <span class="nt">-n</span> 96 <span class="nt">--bind-to</span> core <span class="nt">--map-by</span> ppr:4:l3cache <span class="nt">--report-bindings</span> <span class="nb">echo</span> <span class="nt">-n</span> |&amp; <span class="nb">sort</span> <span class="nt">-k</span> 3n,3
<span class="o">[</span>inst-e5-ol95-nps4:20378] Rank 0 bound to package[0][core:0]
<span class="o">[</span>inst-e5-ol95-nps4:20378] Rank 1 bound to package[0][core:1]
<span class="o">[</span>inst-e5-ol95-nps4:20378] Rank 2 bound to package[0][core:2]
<span class="o">[</span>inst-e5-ol95-nps4:20378] Rank 3 bound to package[0][core:3]
<span class="o">[</span>inst-e5-ol95-nps4:20378] Rank 4 bound to package[0][core:8]
<span class="o">[</span>inst-e5-ol95-nps4:20378] Rank 5 bound to package[0][core:9]
<span class="o">[</span>inst-e5-ol95-nps4:20378] Rank 6 bound to package[0][core:10]
<span class="o">[</span>inst-e5-ol95-nps4:20378] Rank 7 bound to package[0][core:11]
<span class="o">[</span>inst-e5-ol95-nps4:20378] Rank 8 bound to package[0][core:16]
<span class="o">[</span>inst-e5-ol95-nps4:20378] Rank 9 bound to package[0][core:17]
<span class="o">[</span>inst-e5-ol95-nps4:20378] Rank 10 bound to package[0][core:18]
<span class="o">[</span>inst-e5-ol95-nps4:20378] Rank 11 bound to package[0][core:19]
<span class="o">[</span>inst-e5-ol95-nps4:20378] Rank 12 bound to package[0][core:24]
<span class="o">[</span>inst-e5-ol95-nps4:20378] Rank 13 bound to package[0][core:25]
<span class="o">[</span>inst-e5-ol95-nps4:20378] Rank 14 bound to package[0][core:26]
<span class="o">[</span>inst-e5-ol95-nps4:20378] Rank 15 bound to package[0][core:27]
<span class="o">[</span>inst-e5-ol95-nps4:20378] Rank 16 bound to package[0][core:32]
<span class="o">[</span>inst-e5-ol95-nps4:20378] Rank 17 bound to package[0][core:33]
<span class="o">[</span>inst-e5-ol95-nps4:20378] Rank 18 bound to package[0][core:34]
<span class="o">[</span>inst-e5-ol95-nps4:20378] Rank 19 bound to package[0][core:35]
<span class="o">[</span>inst-e5-ol95-nps4:20378] Rank 20 bound to package[0][core:40]
<span class="o">[</span>inst-e5-ol95-nps4:20378] Rank 21 bound to package[0][core:41]
<span class="o">[</span>inst-e5-ol95-nps4:20378] Rank 22 bound to package[0][core:42]
<span class="o">[</span>inst-e5-ol95-nps4:20378] Rank 23 bound to package[0][core:43]
<span class="o">[</span>inst-e5-ol95-nps4:20378] Rank 24 bound to package[0][core:48]
<span class="o">[</span>inst-e5-ol95-nps4:20378] Rank 25 bound to package[0][core:49]
<span class="o">[</span>inst-e5-ol95-nps4:20378] Rank 26 bound to package[0][core:50]
<span class="o">[</span>inst-e5-ol95-nps4:20378] Rank 27 bound to package[0][core:51]
<span class="o">[</span>inst-e5-ol95-nps4:20378] Rank 28 bound to package[0][core:56]
<span class="o">[</span>inst-e5-ol95-nps4:20378] Rank 29 bound to package[0][core:57]
<span class="o">[</span>inst-e5-ol95-nps4:20378] Rank 30 bound to package[0][core:58]
<span class="o">[</span>inst-e5-ol95-nps4:20378] Rank 31 bound to package[0][core:59]
<span class="o">[</span>inst-e5-ol95-nps4:20378] Rank 32 bound to package[0][core:64]
<span class="o">[</span>inst-e5-ol95-nps4:20378] Rank 33 bound to package[0][core:65]
<span class="o">[</span>inst-e5-ol95-nps4:20378] Rank 34 bound to package[0][core:66]
<span class="o">[</span>inst-e5-ol95-nps4:20378] Rank 35 bound to package[0][core:67]
<span class="o">[</span>inst-e5-ol95-nps4:20378] Rank 36 bound to package[0][core:72]
<span class="o">[</span>inst-e5-ol95-nps4:20378] Rank 37 bound to package[0][core:73]
<span class="o">[</span>inst-e5-ol95-nps4:20378] Rank 38 bound to package[0][core:74]
<span class="o">[</span>inst-e5-ol95-nps4:20378] Rank 39 bound to package[0][core:75]
<span class="o">[</span>inst-e5-ol95-nps4:20378] Rank 40 bound to package[0][core:80]
<span class="o">[</span>inst-e5-ol95-nps4:20378] Rank 41 bound to package[0][core:81]
<span class="o">[</span>inst-e5-ol95-nps4:20378] Rank 42 bound to package[0][core:82]
<span class="o">[</span>inst-e5-ol95-nps4:20378] Rank 43 bound to package[0][core:83]
<span class="o">[</span>inst-e5-ol95-nps4:20378] Rank 44 bound to package[0][core:88]
<span class="o">[</span>inst-e5-ol95-nps4:20378] Rank 45 bound to package[0][core:89]
<span class="o">[</span>inst-e5-ol95-nps4:20378] Rank 46 bound to package[0][core:90]
<span class="o">[</span>inst-e5-ol95-nps4:20378] Rank 47 bound to package[0][core:91]
<span class="o">[</span>inst-e5-ol95-nps4:20378] Rank 48 bound to package[1][core:96]
<span class="o">[</span>inst-e5-ol95-nps4:20378] Rank 49 bound to package[1][core:97]
<span class="o">[</span>inst-e5-ol95-nps4:20378] Rank 50 bound to package[1][core:98]
<span class="o">[</span>inst-e5-ol95-nps4:20378] Rank 51 bound to package[1][core:99]
<span class="o">[</span>inst-e5-ol95-nps4:20378] Rank 52 bound to package[1][core:104]
<span class="o">[</span>inst-e5-ol95-nps4:20378] Rank 53 bound to package[1][core:105]
<span class="o">[</span>inst-e5-ol95-nps4:20378] Rank 54 bound to package[1][core:106]
<span class="o">[</span>inst-e5-ol95-nps4:20378] Rank 55 bound to package[1][core:107]
<span class="o">[</span>inst-e5-ol95-nps4:20378] Rank 56 bound to package[1][core:112]
<span class="o">[</span>inst-e5-ol95-nps4:20378] Rank 57 bound to package[1][core:113]
<span class="o">[</span>inst-e5-ol95-nps4:20378] Rank 58 bound to package[1][core:114]
<span class="o">[</span>inst-e5-ol95-nps4:20378] Rank 59 bound to package[1][core:115]
<span class="o">[</span>inst-e5-ol95-nps4:20378] Rank 60 bound to package[1][core:120]
<span class="o">[</span>inst-e5-ol95-nps4:20378] Rank 61 bound to package[1][core:121]
<span class="o">[</span>inst-e5-ol95-nps4:20378] Rank 62 bound to package[1][core:122]
<span class="o">[</span>inst-e5-ol95-nps4:20378] Rank 63 bound to package[1][core:123]
<span class="o">[</span>inst-e5-ol95-nps4:20378] Rank 64 bound to package[1][core:128]
<span class="o">[</span>inst-e5-ol95-nps4:20378] Rank 65 bound to package[1][core:129]
<span class="o">[</span>inst-e5-ol95-nps4:20378] Rank 66 bound to package[1][core:130]
<span class="o">[</span>inst-e5-ol95-nps4:20378] Rank 67 bound to package[1][core:131]
<span class="o">[</span>inst-e5-ol95-nps4:20378] Rank 68 bound to package[1][core:136]
<span class="o">[</span>inst-e5-ol95-nps4:20378] Rank 69 bound to package[1][core:137]
<span class="o">[</span>inst-e5-ol95-nps4:20378] Rank 70 bound to package[1][core:138]
<span class="o">[</span>inst-e5-ol95-nps4:20378] Rank 71 bound to package[1][core:139]
<span class="o">[</span>inst-e5-ol95-nps4:20378] Rank 72 bound to package[1][core:144]
<span class="o">[</span>inst-e5-ol95-nps4:20378] Rank 73 bound to package[1][core:145]
<span class="o">[</span>inst-e5-ol95-nps4:20378] Rank 74 bound to package[1][core:146]
<span class="o">[</span>inst-e5-ol95-nps4:20378] Rank 75 bound to package[1][core:147]
<span class="o">[</span>inst-e5-ol95-nps4:20378] Rank 76 bound to package[1][core:152]
<span class="o">[</span>inst-e5-ol95-nps4:20378] Rank 77 bound to package[1][core:153]
<span class="o">[</span>inst-e5-ol95-nps4:20378] Rank 78 bound to package[1][core:154]
<span class="o">[</span>inst-e5-ol95-nps4:20378] Rank 79 bound to package[1][core:155]
<span class="o">[</span>inst-e5-ol95-nps4:20378] Rank 80 bound to package[1][core:160]
<span class="o">[</span>inst-e5-ol95-nps4:20378] Rank 81 bound to package[1][core:161]
<span class="o">[</span>inst-e5-ol95-nps4:20378] Rank 82 bound to package[1][core:162]
<span class="o">[</span>inst-e5-ol95-nps4:20378] Rank 83 bound to package[1][core:163]
<span class="o">[</span>inst-e5-ol95-nps4:20378] Rank 84 bound to package[1][core:168]
<span class="o">[</span>inst-e5-ol95-nps4:20378] Rank 85 bound to package[1][core:169]
<span class="o">[</span>inst-e5-ol95-nps4:20378] Rank 86 bound to package[1][core:170]
<span class="o">[</span>inst-e5-ol95-nps4:20378] Rank 87 bound to package[1][core:171]
<span class="o">[</span>inst-e5-ol95-nps4:20378] Rank 88 bound to package[1][core:176]
<span class="o">[</span>inst-e5-ol95-nps4:20378] Rank 89 bound to package[1][core:177]
<span class="o">[</span>inst-e5-ol95-nps4:20378] Rank 90 bound to package[1][core:178]
<span class="o">[</span>inst-e5-ol95-nps4:20378] Rank 91 bound to package[1][core:179]
<span class="o">[</span>inst-e5-ol95-nps4:20378] Rank 92 bound to package[1][core:184]
<span class="o">[</span>inst-e5-ol95-nps4:20378] Rank 93 bound to package[1][core:185]
<span class="o">[</span>inst-e5-ol95-nps4:20378] Rank 94 bound to package[1][core:186]
<span class="o">[</span>inst-e5-ol95-nps4:20378] Rank 95 bound to package[1][core:187]
<span class="err">$</span>
</code></pre></div></div>

<p>[No.17]</p>

<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>mpirun <span class="nt">-n</span> 96 <span class="nt">--bind-to</span> core <span class="nt">--map-by</span> ppr:4:l3cache <span class="nt">--rank-by</span> span <span class="nt">--report-bindings</span> <span class="nb">echo</span> <span class="nt">-n</span> |&amp; <span class="nb">sort</span> <span class="nt">-k</span> 3n,3
<span class="o">[</span>inst-e5-ol95-nps4:20496] Rank 0 bound to package[0][core:0]
<span class="o">[</span>inst-e5-ol95-nps4:20496] Rank 1 bound to package[0][core:8]
<span class="o">[</span>inst-e5-ol95-nps4:20496] Rank 2 bound to package[0][core:16]
<span class="o">[</span>inst-e5-ol95-nps4:20496] Rank 3 bound to package[0][core:24]
<span class="o">[</span>inst-e5-ol95-nps4:20496] Rank 4 bound to package[0][core:32]
<span class="o">[</span>inst-e5-ol95-nps4:20496] Rank 5 bound to package[0][core:40]
<span class="o">[</span>inst-e5-ol95-nps4:20496] Rank 6 bound to package[0][core:48]
<span class="o">[</span>inst-e5-ol95-nps4:20496] Rank 7 bound to package[0][core:56]
<span class="o">[</span>inst-e5-ol95-nps4:20496] Rank 8 bound to package[0][core:64]
<span class="o">[</span>inst-e5-ol95-nps4:20496] Rank 9 bound to package[0][core:72]
<span class="o">[</span>inst-e5-ol95-nps4:20496] Rank 10 bound to package[0][core:80]
<span class="o">[</span>inst-e5-ol95-nps4:20496] Rank 11 bound to package[0][core:88]
<span class="o">[</span>inst-e5-ol95-nps4:20496] Rank 12 bound to package[1][core:96]
<span class="o">[</span>inst-e5-ol95-nps4:20496] Rank 13 bound to package[1][core:104]
<span class="o">[</span>inst-e5-ol95-nps4:20496] Rank 14 bound to package[1][core:112]
<span class="o">[</span>inst-e5-ol95-nps4:20496] Rank 15 bound to package[1][core:120]
<span class="o">[</span>inst-e5-ol95-nps4:20496] Rank 16 bound to package[1][core:128]
<span class="o">[</span>inst-e5-ol95-nps4:20496] Rank 17 bound to package[1][core:136]
<span class="o">[</span>inst-e5-ol95-nps4:20496] Rank 18 bound to package[1][core:144]
<span class="o">[</span>inst-e5-ol95-nps4:20496] Rank 19 bound to package[1][core:152]
<span class="o">[</span>inst-e5-ol95-nps4:20496] Rank 20 bound to package[1][core:160]
<span class="o">[</span>inst-e5-ol95-nps4:20496] Rank 21 bound to package[1][core:168]
<span class="o">[</span>inst-e5-ol95-nps4:20496] Rank 22 bound to package[1][core:176]
<span class="o">[</span>inst-e5-ol95-nps4:20496] Rank 23 bound to package[1][core:184]
<span class="o">[</span>inst-e5-ol95-nps4:20496] Rank 24 bound to package[0][core:1]
<span class="o">[</span>inst-e5-ol95-nps4:20496] Rank 25 bound to package[0][core:9]
<span class="o">[</span>inst-e5-ol95-nps4:20496] Rank 26 bound to package[0][core:17]
<span class="o">[</span>inst-e5-ol95-nps4:20496] Rank 27 bound to package[0][core:25]
<span class="o">[</span>inst-e5-ol95-nps4:20496] Rank 28 bound to package[0][core:33]
<span class="o">[</span>inst-e5-ol95-nps4:20496] Rank 29 bound to package[0][core:41]
<span class="o">[</span>inst-e5-ol95-nps4:20496] Rank 30 bound to package[0][core:49]
<span class="o">[</span>inst-e5-ol95-nps4:20496] Rank 31 bound to package[0][core:57]
<span class="o">[</span>inst-e5-ol95-nps4:20496] Rank 32 bound to package[0][core:65]
<span class="o">[</span>inst-e5-ol95-nps4:20496] Rank 33 bound to package[0][core:73]
<span class="o">[</span>inst-e5-ol95-nps4:20496] Rank 34 bound to package[0][core:81]
<span class="o">[</span>inst-e5-ol95-nps4:20496] Rank 35 bound to package[0][core:89]
<span class="o">[</span>inst-e5-ol95-nps4:20496] Rank 36 bound to package[1][core:97]
<span class="o">[</span>inst-e5-ol95-nps4:20496] Rank 37 bound to package[1][core:105]
<span class="o">[</span>inst-e5-ol95-nps4:20496] Rank 38 bound to package[1][core:113]
<span class="o">[</span>inst-e5-ol95-nps4:20496] Rank 39 bound to package[1][core:121]
<span class="o">[</span>inst-e5-ol95-nps4:20496] Rank 40 bound to package[1][core:129]
<span class="o">[</span>inst-e5-ol95-nps4:20496] Rank 41 bound to package[1][core:137]
<span class="o">[</span>inst-e5-ol95-nps4:20496] Rank 42 bound to package[1][core:145]
<span class="o">[</span>inst-e5-ol95-nps4:20496] Rank 43 bound to package[1][core:153]
<span class="o">[</span>inst-e5-ol95-nps4:20496] Rank 44 bound to package[1][core:161]
<span class="o">[</span>inst-e5-ol95-nps4:20496] Rank 45 bound to package[1][core:169]
<span class="o">[</span>inst-e5-ol95-nps4:20496] Rank 46 bound to package[1][core:177]
<span class="o">[</span>inst-e5-ol95-nps4:20496] Rank 47 bound to package[1][core:185]
<span class="o">[</span>inst-e5-ol95-nps4:20496] Rank 48 bound to package[0][core:2]
<span class="o">[</span>inst-e5-ol95-nps4:20496] Rank 49 bound to package[0][core:10]
<span class="o">[</span>inst-e5-ol95-nps4:20496] Rank 50 bound to package[0][core:18]
<span class="o">[</span>inst-e5-ol95-nps4:20496] Rank 51 bound to package[0][core:26]
<span class="o">[</span>inst-e5-ol95-nps4:20496] Rank 52 bound to package[0][core:34]
<span class="o">[</span>inst-e5-ol95-nps4:20496] Rank 53 bound to package[0][core:42]
<span class="o">[</span>inst-e5-ol95-nps4:20496] Rank 54 bound to package[0][core:50]
<span class="o">[</span>inst-e5-ol95-nps4:20496] Rank 55 bound to package[0][core:58]
<span class="o">[</span>inst-e5-ol95-nps4:20496] Rank 56 bound to package[0][core:66]
<span class="o">[</span>inst-e5-ol95-nps4:20496] Rank 57 bound to package[0][core:74]
<span class="o">[</span>inst-e5-ol95-nps4:20496] Rank 58 bound to package[0][core:82]
<span class="o">[</span>inst-e5-ol95-nps4:20496] Rank 59 bound to package[0][core:90]
<span class="o">[</span>inst-e5-ol95-nps4:20496] Rank 60 bound to package[1][core:98]
<span class="o">[</span>inst-e5-ol95-nps4:20496] Rank 61 bound to package[1][core:106]
<span class="o">[</span>inst-e5-ol95-nps4:20496] Rank 62 bound to package[1][core:114]
<span class="o">[</span>inst-e5-ol95-nps4:20496] Rank 63 bound to package[1][core:122]
<span class="o">[</span>inst-e5-ol95-nps4:20496] Rank 64 bound to package[1][core:130]
<span class="o">[</span>inst-e5-ol95-nps4:20496] Rank 65 bound to package[1][core:138]
<span class="o">[</span>inst-e5-ol95-nps4:20496] Rank 66 bound to package[1][core:146]
<span class="o">[</span>inst-e5-ol95-nps4:20496] Rank 67 bound to package[1][core:154]
<span class="o">[</span>inst-e5-ol95-nps4:20496] Rank 68 bound to package[1][core:162]
<span class="o">[</span>inst-e5-ol95-nps4:20496] Rank 69 bound to package[1][core:170]
<span class="o">[</span>inst-e5-ol95-nps4:20496] Rank 70 bound to package[1][core:178]
<span class="o">[</span>inst-e5-ol95-nps4:20496] Rank 71 bound to package[1][core:186]
<span class="o">[</span>inst-e5-ol95-nps4:20496] Rank 72 bound to package[0][core:3]
<span class="o">[</span>inst-e5-ol95-nps4:20496] Rank 73 bound to package[0][core:11]
<span class="o">[</span>inst-e5-ol95-nps4:20496] Rank 74 bound to package[0][core:19]
<span class="o">[</span>inst-e5-ol95-nps4:20496] Rank 75 bound to package[0][core:27]
<span class="o">[</span>inst-e5-ol95-nps4:20496] Rank 76 bound to package[0][core:35]
<span class="o">[</span>inst-e5-ol95-nps4:20496] Rank 77 bound to package[0][core:43]
<span class="o">[</span>inst-e5-ol95-nps4:20496] Rank 78 bound to package[0][core:51]
<span class="o">[</span>inst-e5-ol95-nps4:20496] Rank 79 bound to package[0][core:59]
<span class="o">[</span>inst-e5-ol95-nps4:20496] Rank 80 bound to package[0][core:67]
<span class="o">[</span>inst-e5-ol95-nps4:20496] Rank 81 bound to package[0][core:75]
<span class="o">[</span>inst-e5-ol95-nps4:20496] Rank 82 bound to package[0][core:83]
<span class="o">[</span>inst-e5-ol95-nps4:20496] Rank 83 bound to package[0][core:91]
<span class="o">[</span>inst-e5-ol95-nps4:20496] Rank 84 bound to package[1][core:99]
<span class="o">[</span>inst-e5-ol95-nps4:20496] Rank 85 bound to package[1][core:107]
<span class="o">[</span>inst-e5-ol95-nps4:20496] Rank 86 bound to package[1][core:115]
<span class="o">[</span>inst-e5-ol95-nps4:20496] Rank 87 bound to package[1][core:123]
<span class="o">[</span>inst-e5-ol95-nps4:20496] Rank 88 bound to package[1][core:131]
<span class="o">[</span>inst-e5-ol95-nps4:20496] Rank 89 bound to package[1][core:139]
<span class="o">[</span>inst-e5-ol95-nps4:20496] Rank 90 bound to package[1][core:147]
<span class="o">[</span>inst-e5-ol95-nps4:20496] Rank 91 bound to package[1][core:155]
<span class="o">[</span>inst-e5-ol95-nps4:20496] Rank 92 bound to package[1][core:163]
<span class="o">[</span>inst-e5-ol95-nps4:20496] Rank 93 bound to package[1][core:171]
<span class="o">[</span>inst-e5-ol95-nps4:20496] Rank 94 bound to package[1][core:179]
<span class="o">[</span>inst-e5-ol95-nps4:20496] Rank 95 bound to package[1][core:187]
<span class="err">$</span>
</code></pre></div></div>

<p>[No.18]</p>

<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>mpirun <span class="nt">-n</span> 192 <span class="nt">--bind-to</span> core <span class="nt">--report-bindings</span> <span class="nb">echo</span> <span class="nt">-n</span> |&amp; <span class="nb">sort</span> <span class="nt">-k</span> 3n,3
<span class="o">[</span>inst-e5-ol95-nps4:21440] Rank 0 bound to package[0][core:0]
<span class="o">[</span>inst-e5-ol95-nps4:21440] Rank 1 bound to package[0][core:1]
<span class="o">[</span>inst-e5-ol95-nps4:21440] Rank 2 bound to package[0][core:2]
<span class="o">[</span>inst-e5-ol95-nps4:21440] Rank 3 bound to package[0][core:3]
<span class="o">[</span>inst-e5-ol95-nps4:21440] Rank 4 bound to package[0][core:4]
<span class="o">[</span>inst-e5-ol95-nps4:21440] Rank 5 bound to package[0][core:5]
<span class="o">[</span>inst-e5-ol95-nps4:21440] Rank 6 bound to package[0][core:6]
<span class="o">[</span>inst-e5-ol95-nps4:21440] Rank 7 bound to package[0][core:7]
<span class="o">[</span>inst-e5-ol95-nps4:21440] Rank 8 bound to package[0][core:8]
<span class="o">[</span>inst-e5-ol95-nps4:21440] Rank 9 bound to package[0][core:9]
<span class="o">[</span>inst-e5-ol95-nps4:21440] Rank 10 bound to package[0][core:10]
<span class="o">[</span>inst-e5-ol95-nps4:21440] Rank 11 bound to package[0][core:11]
<span class="o">[</span>inst-e5-ol95-nps4:21440] Rank 12 bound to package[0][core:12]
<span class="o">[</span>inst-e5-ol95-nps4:21440] Rank 13 bound to package[0][core:13]
<span class="o">[</span>inst-e5-ol95-nps4:21440] Rank 14 bound to package[0][core:14]
<span class="o">[</span>inst-e5-ol95-nps4:21440] Rank 15 bound to package[0][core:15]
<span class="o">[</span>inst-e5-ol95-nps4:21440] Rank 16 bound to package[0][core:16]
<span class="o">[</span>inst-e5-ol95-nps4:21440] Rank 17 bound to package[0][core:17]
<span class="o">[</span>inst-e5-ol95-nps4:21440] Rank 18 bound to package[0][core:18]
<span class="o">[</span>inst-e5-ol95-nps4:21440] Rank 19 bound to package[0][core:19]
<span class="o">[</span>inst-e5-ol95-nps4:21440] Rank 20 bound to package[0][core:20]
<span class="o">[</span>inst-e5-ol95-nps4:21440] Rank 21 bound to package[0][core:21]
<span class="o">[</span>inst-e5-ol95-nps4:21440] Rank 22 bound to package[0][core:22]
<span class="o">[</span>inst-e5-ol95-nps4:21440] Rank 23 bound to package[0][core:23]
<span class="o">[</span>inst-e5-ol95-nps4:21440] Rank 24 bound to package[0][core:24]
<span class="o">[</span>inst-e5-ol95-nps4:21440] Rank 25 bound to package[0][core:25]
<span class="o">[</span>inst-e5-ol95-nps4:21440] Rank 26 bound to package[0][core:26]
<span class="o">[</span>inst-e5-ol95-nps4:21440] Rank 27 bound to package[0][core:27]
<span class="o">[</span>inst-e5-ol95-nps4:21440] Rank 28 bound to package[0][core:28]
<span class="o">[</span>inst-e5-ol95-nps4:21440] Rank 29 bound to package[0][core:29]
<span class="o">[</span>inst-e5-ol95-nps4:21440] Rank 30 bound to package[0][core:30]
<span class="o">[</span>inst-e5-ol95-nps4:21440] Rank 31 bound to package[0][core:31]
<span class="o">[</span>inst-e5-ol95-nps4:21440] Rank 32 bound to package[0][core:32]
<span class="o">[</span>inst-e5-ol95-nps4:21440] Rank 33 bound to package[0][core:33]
<span class="o">[</span>inst-e5-ol95-nps4:21440] Rank 34 bound to package[0][core:34]
<span class="o">[</span>inst-e5-ol95-nps4:21440] Rank 35 bound to package[0][core:35]
<span class="o">[</span>inst-e5-ol95-nps4:21440] Rank 36 bound to package[0][core:36]
<span class="o">[</span>inst-e5-ol95-nps4:21440] Rank 37 bound to package[0][core:37]
<span class="o">[</span>inst-e5-ol95-nps4:21440] Rank 38 bound to package[0][core:38]
<span class="o">[</span>inst-e5-ol95-nps4:21440] Rank 39 bound to package[0][core:39]
<span class="o">[</span>inst-e5-ol95-nps4:21440] Rank 40 bound to package[0][core:40]
<span class="o">[</span>inst-e5-ol95-nps4:21440] Rank 41 bound to package[0][core:41]
<span class="o">[</span>inst-e5-ol95-nps4:21440] Rank 42 bound to package[0][core:42]
<span class="o">[</span>inst-e5-ol95-nps4:21440] Rank 43 bound to package[0][core:43]
<span class="o">[</span>inst-e5-ol95-nps4:21440] Rank 44 bound to package[0][core:44]
<span class="o">[</span>inst-e5-ol95-nps4:21440] Rank 45 bound to package[0][core:45]
<span class="o">[</span>inst-e5-ol95-nps4:21440] Rank 46 bound to package[0][core:46]
<span class="o">[</span>inst-e5-ol95-nps4:21440] Rank 47 bound to package[0][core:47]
<span class="o">[</span>inst-e5-ol95-nps4:21440] Rank 48 bound to package[0][core:48]
<span class="o">[</span>inst-e5-ol95-nps4:21440] Rank 49 bound to package[0][core:49]
<span class="o">[</span>inst-e5-ol95-nps4:21440] Rank 50 bound to package[0][core:50]
<span class="o">[</span>inst-e5-ol95-nps4:21440] Rank 51 bound to package[0][core:51]
<span class="o">[</span>inst-e5-ol95-nps4:21440] Rank 52 bound to package[0][core:52]
<span class="o">[</span>inst-e5-ol95-nps4:21440] Rank 53 bound to package[0][core:53]
<span class="o">[</span>inst-e5-ol95-nps4:21440] Rank 54 bound to package[0][core:54]
<span class="o">[</span>inst-e5-ol95-nps4:21440] Rank 55 bound to package[0][core:55]
<span class="o">[</span>inst-e5-ol95-nps4:21440] Rank 56 bound to package[0][core:56]
<span class="o">[</span>inst-e5-ol95-nps4:21440] Rank 57 bound to package[0][core:57]
<span class="o">[</span>inst-e5-ol95-nps4:21440] Rank 58 bound to package[0][core:58]
<span class="o">[</span>inst-e5-ol95-nps4:21440] Rank 59 bound to package[0][core:59]
<span class="o">[</span>inst-e5-ol95-nps4:21440] Rank 60 bound to package[0][core:60]
<span class="o">[</span>inst-e5-ol95-nps4:21440] Rank 61 bound to package[0][core:61]
<span class="o">[</span>inst-e5-ol95-nps4:21440] Rank 62 bound to package[0][core:62]
<span class="o">[</span>inst-e5-ol95-nps4:21440] Rank 63 bound to package[0][core:63]
<span class="o">[</span>inst-e5-ol95-nps4:21440] Rank 64 bound to package[0][core:64]
<span class="o">[</span>inst-e5-ol95-nps4:21440] Rank 65 bound to package[0][core:65]
<span class="o">[</span>inst-e5-ol95-nps4:21440] Rank 66 bound to package[0][core:66]
<span class="o">[</span>inst-e5-ol95-nps4:21440] Rank 67 bound to package[0][core:67]
<span class="o">[</span>inst-e5-ol95-nps4:21440] Rank 68 bound to package[0][core:68]
<span class="o">[</span>inst-e5-ol95-nps4:21440] Rank 69 bound to package[0][core:69]
<span class="o">[</span>inst-e5-ol95-nps4:21440] Rank 70 bound to package[0][core:70]
<span class="o">[</span>inst-e5-ol95-nps4:21440] Rank 71 bound to package[0][core:71]
<span class="o">[</span>inst-e5-ol95-nps4:21440] Rank 72 bound to package[0][core:72]
<span class="o">[</span>inst-e5-ol95-nps4:21440] Rank 73 bound to package[0][core:73]
<span class="o">[</span>inst-e5-ol95-nps4:21440] Rank 74 bound to package[0][core:74]
<span class="o">[</span>inst-e5-ol95-nps4:21440] Rank 75 bound to package[0][core:75]
<span class="o">[</span>inst-e5-ol95-nps4:21440] Rank 76 bound to package[0][core:76]
<span class="o">[</span>inst-e5-ol95-nps4:21440] Rank 77 bound to package[0][core:77]
<span class="o">[</span>inst-e5-ol95-nps4:21440] Rank 78 bound to package[0][core:78]
<span class="o">[</span>inst-e5-ol95-nps4:21440] Rank 79 bound to package[0][core:79]
<span class="o">[</span>inst-e5-ol95-nps4:21440] Rank 80 bound to package[0][core:80]
<span class="o">[</span>inst-e5-ol95-nps4:21440] Rank 81 bound to package[0][core:81]
<span class="o">[</span>inst-e5-ol95-nps4:21440] Rank 82 bound to package[0][core:82]
<span class="o">[</span>inst-e5-ol95-nps4:21440] Rank 83 bound to package[0][core:83]
<span class="o">[</span>inst-e5-ol95-nps4:21440] Rank 84 bound to package[0][core:84]
<span class="o">[</span>inst-e5-ol95-nps4:21440] Rank 85 bound to package[0][core:85]
<span class="o">[</span>inst-e5-ol95-nps4:21440] Rank 86 bound to package[0][core:86]
<span class="o">[</span>inst-e5-ol95-nps4:21440] Rank 87 bound to package[0][core:87]
<span class="o">[</span>inst-e5-ol95-nps4:21440] Rank 88 bound to package[0][core:88]
<span class="o">[</span>inst-e5-ol95-nps4:21440] Rank 89 bound to package[0][core:89]
<span class="o">[</span>inst-e5-ol95-nps4:21440] Rank 90 bound to package[0][core:90]
<span class="o">[</span>inst-e5-ol95-nps4:21440] Rank 91 bound to package[0][core:91]
<span class="o">[</span>inst-e5-ol95-nps4:21440] Rank 92 bound to package[0][core:92]
<span class="o">[</span>inst-e5-ol95-nps4:21440] Rank 93 bound to package[0][core:93]
<span class="o">[</span>inst-e5-ol95-nps4:21440] Rank 94 bound to package[0][core:94]
<span class="o">[</span>inst-e5-ol95-nps4:21440] Rank 95 bound to package[0][core:95]
<span class="o">[</span>inst-e5-ol95-nps4:21440] Rank 96 bound to package[1][core:96]
<span class="o">[</span>inst-e5-ol95-nps4:21440] Rank 97 bound to package[1][core:97]
<span class="o">[</span>inst-e5-ol95-nps4:21440] Rank 98 bound to package[1][core:98]
<span class="o">[</span>inst-e5-ol95-nps4:21440] Rank 99 bound to package[1][core:99]
<span class="o">[</span>inst-e5-ol95-nps4:21440] Rank 100 bound to package[1][core:100]
<span class="o">[</span>inst-e5-ol95-nps4:21440] Rank 101 bound to package[1][core:101]
<span class="o">[</span>inst-e5-ol95-nps4:21440] Rank 102 bound to package[1][core:102]
<span class="o">[</span>inst-e5-ol95-nps4:21440] Rank 103 bound to package[1][core:103]
<span class="o">[</span>inst-e5-ol95-nps4:21440] Rank 104 bound to package[1][core:104]
<span class="o">[</span>inst-e5-ol95-nps4:21440] Rank 105 bound to package[1][core:105]
<span class="o">[</span>inst-e5-ol95-nps4:21440] Rank 106 bound to package[1][core:106]
<span class="o">[</span>inst-e5-ol95-nps4:21440] Rank 107 bound to package[1][core:107]
<span class="o">[</span>inst-e5-ol95-nps4:21440] Rank 108 bound to package[1][core:108]
<span class="o">[</span>inst-e5-ol95-nps4:21440] Rank 109 bound to package[1][core:109]
<span class="o">[</span>inst-e5-ol95-nps4:21440] Rank 110 bound to package[1][core:110]
<span class="o">[</span>inst-e5-ol95-nps4:21440] Rank 111 bound to package[1][core:111]
<span class="o">[</span>inst-e5-ol95-nps4:21440] Rank 112 bound to package[1][core:112]
<span class="o">[</span>inst-e5-ol95-nps4:21440] Rank 113 bound to package[1][core:113]
<span class="o">[</span>inst-e5-ol95-nps4:21440] Rank 114 bound to package[1][core:114]
<span class="o">[</span>inst-e5-ol95-nps4:21440] Rank 115 bound to package[1][core:115]
<span class="o">[</span>inst-e5-ol95-nps4:21440] Rank 116 bound to package[1][core:116]
<span class="o">[</span>inst-e5-ol95-nps4:21440] Rank 117 bound to package[1][core:117]
<span class="o">[</span>inst-e5-ol95-nps4:21440] Rank 118 bound to package[1][core:118]
<span class="o">[</span>inst-e5-ol95-nps4:21440] Rank 119 bound to package[1][core:119]
<span class="o">[</span>inst-e5-ol95-nps4:21440] Rank 120 bound to package[1][core:120]
<span class="o">[</span>inst-e5-ol95-nps4:21440] Rank 121 bound to package[1][core:121]
<span class="o">[</span>inst-e5-ol95-nps4:21440] Rank 122 bound to package[1][core:122]
<span class="o">[</span>inst-e5-ol95-nps4:21440] Rank 123 bound to package[1][core:123]
<span class="o">[</span>inst-e5-ol95-nps4:21440] Rank 124 bound to package[1][core:124]
<span class="o">[</span>inst-e5-ol95-nps4:21440] Rank 125 bound to package[1][core:125]
<span class="o">[</span>inst-e5-ol95-nps4:21440] Rank 126 bound to package[1][core:126]
<span class="o">[</span>inst-e5-ol95-nps4:21440] Rank 127 bound to package[1][core:127]
<span class="o">[</span>inst-e5-ol95-nps4:21440] Rank 128 bound to package[1][core:128]
<span class="o">[</span>inst-e5-ol95-nps4:21440] Rank 129 bound to package[1][core:129]
<span class="o">[</span>inst-e5-ol95-nps4:21440] Rank 130 bound to package[1][core:130]
<span class="o">[</span>inst-e5-ol95-nps4:21440] Rank 131 bound to package[1][core:131]
<span class="o">[</span>inst-e5-ol95-nps4:21440] Rank 132 bound to package[1][core:132]
<span class="o">[</span>inst-e5-ol95-nps4:21440] Rank 133 bound to package[1][core:133]
<span class="o">[</span>inst-e5-ol95-nps4:21440] Rank 134 bound to package[1][core:134]
<span class="o">[</span>inst-e5-ol95-nps4:21440] Rank 135 bound to package[1][core:135]
<span class="o">[</span>inst-e5-ol95-nps4:21440] Rank 136 bound to package[1][core:136]
<span class="o">[</span>inst-e5-ol95-nps4:21440] Rank 137 bound to package[1][core:137]
<span class="o">[</span>inst-e5-ol95-nps4:21440] Rank 138 bound to package[1][core:138]
<span class="o">[</span>inst-e5-ol95-nps4:21440] Rank 139 bound to package[1][core:139]
<span class="o">[</span>inst-e5-ol95-nps4:21440] Rank 140 bound to package[1][core:140]
<span class="o">[</span>inst-e5-ol95-nps4:21440] Rank 141 bound to package[1][core:141]
<span class="o">[</span>inst-e5-ol95-nps4:21440] Rank 142 bound to package[1][core:142]
<span class="o">[</span>inst-e5-ol95-nps4:21440] Rank 143 bound to package[1][core:143]
<span class="o">[</span>inst-e5-ol95-nps4:21440] Rank 144 bound to package[1][core:144]
<span class="o">[</span>inst-e5-ol95-nps4:21440] Rank 145 bound to package[1][core:145]
<span class="o">[</span>inst-e5-ol95-nps4:21440] Rank 146 bound to package[1][core:146]
<span class="o">[</span>inst-e5-ol95-nps4:21440] Rank 147 bound to package[1][core:147]
<span class="o">[</span>inst-e5-ol95-nps4:21440] Rank 148 bound to package[1][core:148]
<span class="o">[</span>inst-e5-ol95-nps4:21440] Rank 149 bound to package[1][core:149]
<span class="o">[</span>inst-e5-ol95-nps4:21440] Rank 150 bound to package[1][core:150]
<span class="o">[</span>inst-e5-ol95-nps4:21440] Rank 151 bound to package[1][core:151]
<span class="o">[</span>inst-e5-ol95-nps4:21440] Rank 152 bound to package[1][core:152]
<span class="o">[</span>inst-e5-ol95-nps4:21440] Rank 153 bound to package[1][core:153]
<span class="o">[</span>inst-e5-ol95-nps4:21440] Rank 154 bound to package[1][core:154]
<span class="o">[</span>inst-e5-ol95-nps4:21440] Rank 155 bound to package[1][core:155]
<span class="o">[</span>inst-e5-ol95-nps4:21440] Rank 156 bound to package[1][core:156]
<span class="o">[</span>inst-e5-ol95-nps4:21440] Rank 157 bound to package[1][core:157]
<span class="o">[</span>inst-e5-ol95-nps4:21440] Rank 158 bound to package[1][core:158]
<span class="o">[</span>inst-e5-ol95-nps4:21440] Rank 159 bound to package[1][core:159]
<span class="o">[</span>inst-e5-ol95-nps4:21440] Rank 160 bound to package[1][core:160]
<span class="o">[</span>inst-e5-ol95-nps4:21440] Rank 161 bound to package[1][core:161]
<span class="o">[</span>inst-e5-ol95-nps4:21440] Rank 162 bound to package[1][core:162]
<span class="o">[</span>inst-e5-ol95-nps4:21440] Rank 163 bound to package[1][core:163]
<span class="o">[</span>inst-e5-ol95-nps4:21440] Rank 164 bound to package[1][core:164]
<span class="o">[</span>inst-e5-ol95-nps4:21440] Rank 165 bound to package[1][core:165]
<span class="o">[</span>inst-e5-ol95-nps4:21440] Rank 166 bound to package[1][core:166]
<span class="o">[</span>inst-e5-ol95-nps4:21440] Rank 167 bound to package[1][core:167]
<span class="o">[</span>inst-e5-ol95-nps4:21440] Rank 168 bound to package[1][core:168]
<span class="o">[</span>inst-e5-ol95-nps4:21440] Rank 169 bound to package[1][core:169]
<span class="o">[</span>inst-e5-ol95-nps4:21440] Rank 170 bound to package[1][core:170]
<span class="o">[</span>inst-e5-ol95-nps4:21440] Rank 171 bound to package[1][core:171]
<span class="o">[</span>inst-e5-ol95-nps4:21440] Rank 172 bound to package[1][core:172]
<span class="o">[</span>inst-e5-ol95-nps4:21440] Rank 173 bound to package[1][core:173]
<span class="o">[</span>inst-e5-ol95-nps4:21440] Rank 174 bound to package[1][core:174]
<span class="o">[</span>inst-e5-ol95-nps4:21440] Rank 175 bound to package[1][core:175]
<span class="o">[</span>inst-e5-ol95-nps4:21440] Rank 176 bound to package[1][core:176]
<span class="o">[</span>inst-e5-ol95-nps4:21440] Rank 177 bound to package[1][core:177]
<span class="o">[</span>inst-e5-ol95-nps4:21440] Rank 178 bound to package[1][core:178]
<span class="o">[</span>inst-e5-ol95-nps4:21440] Rank 179 bound to package[1][core:179]
<span class="o">[</span>inst-e5-ol95-nps4:21440] Rank 180 bound to package[1][core:180]
<span class="o">[</span>inst-e5-ol95-nps4:21440] Rank 181 bound to package[1][core:181]
<span class="o">[</span>inst-e5-ol95-nps4:21440] Rank 182 bound to package[1][core:182]
<span class="o">[</span>inst-e5-ol95-nps4:21440] Rank 183 bound to package[1][core:183]
<span class="o">[</span>inst-e5-ol95-nps4:21440] Rank 184 bound to package[1][core:184]
<span class="o">[</span>inst-e5-ol95-nps4:21440] Rank 185 bound to package[1][core:185]
<span class="o">[</span>inst-e5-ol95-nps4:21440] Rank 186 bound to package[1][core:186]
<span class="o">[</span>inst-e5-ol95-nps4:21440] Rank 187 bound to package[1][core:187]
<span class="o">[</span>inst-e5-ol95-nps4:21440] Rank 188 bound to package[1][core:188]
<span class="o">[</span>inst-e5-ol95-nps4:21440] Rank 189 bound to package[1][core:189]
<span class="o">[</span>inst-e5-ol95-nps4:21440] Rank 190 bound to package[1][core:190]
<span class="o">[</span>inst-e5-ol95-nps4:21440] Rank 191 bound to package[1][core:191]
<span class="err">$</span>
</code></pre></div></div>

<p>[No.19]</p>

<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>mpirun <span class="nt">-n</span> 192 <span class="nt">--bind-to</span> core <span class="nt">--map-by</span> ppr:8:l3cache <span class="nt">--rank-by</span> span <span class="nt">--report-bindings</span> <span class="nb">echo</span> <span class="nt">-n</span> |&amp; <span class="nb">sort</span> <span class="nt">-k</span> 3n,3
<span class="o">[</span>inst-e5-ol95-nps4:21653] Rank 0 bound to package[0][core:0]
<span class="o">[</span>inst-e5-ol95-nps4:21653] Rank 1 bound to package[0][core:8]
<span class="o">[</span>inst-e5-ol95-nps4:21653] Rank 2 bound to package[0][core:16]
<span class="o">[</span>inst-e5-ol95-nps4:21653] Rank 3 bound to package[0][core:24]
<span class="o">[</span>inst-e5-ol95-nps4:21653] Rank 4 bound to package[0][core:32]
<span class="o">[</span>inst-e5-ol95-nps4:21653] Rank 5 bound to package[0][core:40]
<span class="o">[</span>inst-e5-ol95-nps4:21653] Rank 6 bound to package[0][core:48]
<span class="o">[</span>inst-e5-ol95-nps4:21653] Rank 7 bound to package[0][core:56]
<span class="o">[</span>inst-e5-ol95-nps4:21653] Rank 8 bound to package[0][core:64]
<span class="o">[</span>inst-e5-ol95-nps4:21653] Rank 9 bound to package[0][core:72]
<span class="o">[</span>inst-e5-ol95-nps4:21653] Rank 10 bound to package[0][core:80]
<span class="o">[</span>inst-e5-ol95-nps4:21653] Rank 11 bound to package[0][core:88]
<span class="o">[</span>inst-e5-ol95-nps4:21653] Rank 12 bound to package[1][core:96]
<span class="o">[</span>inst-e5-ol95-nps4:21653] Rank 13 bound to package[1][core:104]
<span class="o">[</span>inst-e5-ol95-nps4:21653] Rank 14 bound to package[1][core:112]
<span class="o">[</span>inst-e5-ol95-nps4:21653] Rank 15 bound to package[1][core:120]
<span class="o">[</span>inst-e5-ol95-nps4:21653] Rank 16 bound to package[1][core:128]
<span class="o">[</span>inst-e5-ol95-nps4:21653] Rank 17 bound to package[1][core:136]
<span class="o">[</span>inst-e5-ol95-nps4:21653] Rank 18 bound to package[1][core:144]
<span class="o">[</span>inst-e5-ol95-nps4:21653] Rank 19 bound to package[1][core:152]
<span class="o">[</span>inst-e5-ol95-nps4:21653] Rank 20 bound to package[1][core:160]
<span class="o">[</span>inst-e5-ol95-nps4:21653] Rank 21 bound to package[1][core:168]
<span class="o">[</span>inst-e5-ol95-nps4:21653] Rank 22 bound to package[1][core:176]
<span class="o">[</span>inst-e5-ol95-nps4:21653] Rank 23 bound to package[1][core:184]
<span class="o">[</span>inst-e5-ol95-nps4:21653] Rank 24 bound to package[0][core:1]
<span class="o">[</span>inst-e5-ol95-nps4:21653] Rank 25 bound to package[0][core:9]
<span class="o">[</span>inst-e5-ol95-nps4:21653] Rank 26 bound to package[0][core:17]
<span class="o">[</span>inst-e5-ol95-nps4:21653] Rank 27 bound to package[0][core:25]
<span class="o">[</span>inst-e5-ol95-nps4:21653] Rank 28 bound to package[0][core:33]
<span class="o">[</span>inst-e5-ol95-nps4:21653] Rank 29 bound to package[0][core:41]
<span class="o">[</span>inst-e5-ol95-nps4:21653] Rank 30 bound to package[0][core:49]
<span class="o">[</span>inst-e5-ol95-nps4:21653] Rank 31 bound to package[0][core:57]
<span class="o">[</span>inst-e5-ol95-nps4:21653] Rank 32 bound to package[0][core:65]
<span class="o">[</span>inst-e5-ol95-nps4:21653] Rank 33 bound to package[0][core:73]
<span class="o">[</span>inst-e5-ol95-nps4:21653] Rank 34 bound to package[0][core:81]
<span class="o">[</span>inst-e5-ol95-nps4:21653] Rank 35 bound to package[0][core:89]
<span class="o">[</span>inst-e5-ol95-nps4:21653] Rank 36 bound to package[1][core:97]
<span class="o">[</span>inst-e5-ol95-nps4:21653] Rank 37 bound to package[1][core:105]
<span class="o">[</span>inst-e5-ol95-nps4:21653] Rank 38 bound to package[1][core:113]
<span class="o">[</span>inst-e5-ol95-nps4:21653] Rank 39 bound to package[1][core:121]
<span class="o">[</span>inst-e5-ol95-nps4:21653] Rank 40 bound to package[1][core:129]
<span class="o">[</span>inst-e5-ol95-nps4:21653] Rank 41 bound to package[1][core:137]
<span class="o">[</span>inst-e5-ol95-nps4:21653] Rank 42 bound to package[1][core:145]
<span class="o">[</span>inst-e5-ol95-nps4:21653] Rank 43 bound to package[1][core:153]
<span class="o">[</span>inst-e5-ol95-nps4:21653] Rank 44 bound to package[1][core:161]
<span class="o">[</span>inst-e5-ol95-nps4:21653] Rank 45 bound to package[1][core:169]
<span class="o">[</span>inst-e5-ol95-nps4:21653] Rank 46 bound to package[1][core:177]
<span class="o">[</span>inst-e5-ol95-nps4:21653] Rank 47 bound to package[1][core:185]
<span class="o">[</span>inst-e5-ol95-nps4:21653] Rank 48 bound to package[0][core:2]
<span class="o">[</span>inst-e5-ol95-nps4:21653] Rank 49 bound to package[0][core:10]
<span class="o">[</span>inst-e5-ol95-nps4:21653] Rank 50 bound to package[0][core:18]
<span class="o">[</span>inst-e5-ol95-nps4:21653] Rank 51 bound to package[0][core:26]
<span class="o">[</span>inst-e5-ol95-nps4:21653] Rank 52 bound to package[0][core:34]
<span class="o">[</span>inst-e5-ol95-nps4:21653] Rank 53 bound to package[0][core:42]
<span class="o">[</span>inst-e5-ol95-nps4:21653] Rank 54 bound to package[0][core:50]
<span class="o">[</span>inst-e5-ol95-nps4:21653] Rank 55 bound to package[0][core:58]
<span class="o">[</span>inst-e5-ol95-nps4:21653] Rank 56 bound to package[0][core:66]
<span class="o">[</span>inst-e5-ol95-nps4:21653] Rank 57 bound to package[0][core:74]
<span class="o">[</span>inst-e5-ol95-nps4:21653] Rank 58 bound to package[0][core:82]
<span class="o">[</span>inst-e5-ol95-nps4:21653] Rank 59 bound to package[0][core:90]
<span class="o">[</span>inst-e5-ol95-nps4:21653] Rank 60 bound to package[1][core:98]
<span class="o">[</span>inst-e5-ol95-nps4:21653] Rank 61 bound to package[1][core:106]
<span class="o">[</span>inst-e5-ol95-nps4:21653] Rank 62 bound to package[1][core:114]
<span class="o">[</span>inst-e5-ol95-nps4:21653] Rank 63 bound to package[1][core:122]
<span class="o">[</span>inst-e5-ol95-nps4:21653] Rank 64 bound to package[1][core:130]
<span class="o">[</span>inst-e5-ol95-nps4:21653] Rank 65 bound to package[1][core:138]
<span class="o">[</span>inst-e5-ol95-nps4:21653] Rank 66 bound to package[1][core:146]
<span class="o">[</span>inst-e5-ol95-nps4:21653] Rank 67 bound to package[1][core:154]
<span class="o">[</span>inst-e5-ol95-nps4:21653] Rank 68 bound to package[1][core:162]
<span class="o">[</span>inst-e5-ol95-nps4:21653] Rank 69 bound to package[1][core:170]
<span class="o">[</span>inst-e5-ol95-nps4:21653] Rank 70 bound to package[1][core:178]
<span class="o">[</span>inst-e5-ol95-nps4:21653] Rank 71 bound to package[1][core:186]
<span class="o">[</span>inst-e5-ol95-nps4:21653] Rank 72 bound to package[0][core:3]
<span class="o">[</span>inst-e5-ol95-nps4:21653] Rank 73 bound to package[0][core:11]
<span class="o">[</span>inst-e5-ol95-nps4:21653] Rank 74 bound to package[0][core:19]
<span class="o">[</span>inst-e5-ol95-nps4:21653] Rank 75 bound to package[0][core:27]
<span class="o">[</span>inst-e5-ol95-nps4:21653] Rank 76 bound to package[0][core:35]
<span class="o">[</span>inst-e5-ol95-nps4:21653] Rank 77 bound to package[0][core:43]
<span class="o">[</span>inst-e5-ol95-nps4:21653] Rank 78 bound to package[0][core:51]
<span class="o">[</span>inst-e5-ol95-nps4:21653] Rank 79 bound to package[0][core:59]
<span class="o">[</span>inst-e5-ol95-nps4:21653] Rank 80 bound to package[0][core:67]
<span class="o">[</span>inst-e5-ol95-nps4:21653] Rank 81 bound to package[0][core:75]
<span class="o">[</span>inst-e5-ol95-nps4:21653] Rank 82 bound to package[0][core:83]
<span class="o">[</span>inst-e5-ol95-nps4:21653] Rank 83 bound to package[0][core:91]
<span class="o">[</span>inst-e5-ol95-nps4:21653] Rank 84 bound to package[1][core:99]
<span class="o">[</span>inst-e5-ol95-nps4:21653] Rank 85 bound to package[1][core:107]
<span class="o">[</span>inst-e5-ol95-nps4:21653] Rank 86 bound to package[1][core:115]
<span class="o">[</span>inst-e5-ol95-nps4:21653] Rank 87 bound to package[1][core:123]
<span class="o">[</span>inst-e5-ol95-nps4:21653] Rank 88 bound to package[1][core:131]
<span class="o">[</span>inst-e5-ol95-nps4:21653] Rank 89 bound to package[1][core:139]
<span class="o">[</span>inst-e5-ol95-nps4:21653] Rank 90 bound to package[1][core:147]
<span class="o">[</span>inst-e5-ol95-nps4:21653] Rank 91 bound to package[1][core:155]
<span class="o">[</span>inst-e5-ol95-nps4:21653] Rank 92 bound to package[1][core:163]
<span class="o">[</span>inst-e5-ol95-nps4:21653] Rank 93 bound to package[1][core:171]
<span class="o">[</span>inst-e5-ol95-nps4:21653] Rank 94 bound to package[1][core:179]
<span class="o">[</span>inst-e5-ol95-nps4:21653] Rank 95 bound to package[1][core:187]
<span class="o">[</span>inst-e5-ol95-nps4:21653] Rank 96 bound to package[0][core:4]
<span class="o">[</span>inst-e5-ol95-nps4:21653] Rank 97 bound to package[0][core:12]
<span class="o">[</span>inst-e5-ol95-nps4:21653] Rank 98 bound to package[0][core:20]
<span class="o">[</span>inst-e5-ol95-nps4:21653] Rank 99 bound to package[0][core:28]
<span class="o">[</span>inst-e5-ol95-nps4:21653] Rank 100 bound to package[0][core:36]
<span class="o">[</span>inst-e5-ol95-nps4:21653] Rank 101 bound to package[0][core:44]
<span class="o">[</span>inst-e5-ol95-nps4:21653] Rank 102 bound to package[0][core:52]
<span class="o">[</span>inst-e5-ol95-nps4:21653] Rank 103 bound to package[0][core:60]
<span class="o">[</span>inst-e5-ol95-nps4:21653] Rank 104 bound to package[0][core:68]
<span class="o">[</span>inst-e5-ol95-nps4:21653] Rank 105 bound to package[0][core:76]
<span class="o">[</span>inst-e5-ol95-nps4:21653] Rank 106 bound to package[0][core:84]
<span class="o">[</span>inst-e5-ol95-nps4:21653] Rank 107 bound to package[0][core:92]
<span class="o">[</span>inst-e5-ol95-nps4:21653] Rank 108 bound to package[1][core:100]
<span class="o">[</span>inst-e5-ol95-nps4:21653] Rank 109 bound to package[1][core:108]
<span class="o">[</span>inst-e5-ol95-nps4:21653] Rank 110 bound to package[1][core:116]
<span class="o">[</span>inst-e5-ol95-nps4:21653] Rank 111 bound to package[1][core:124]
<span class="o">[</span>inst-e5-ol95-nps4:21653] Rank 112 bound to package[1][core:132]
<span class="o">[</span>inst-e5-ol95-nps4:21653] Rank 113 bound to package[1][core:140]
<span class="o">[</span>inst-e5-ol95-nps4:21653] Rank 114 bound to package[1][core:148]
<span class="o">[</span>inst-e5-ol95-nps4:21653] Rank 115 bound to package[1][core:156]
<span class="o">[</span>inst-e5-ol95-nps4:21653] Rank 116 bound to package[1][core:164]
<span class="o">[</span>inst-e5-ol95-nps4:21653] Rank 117 bound to package[1][core:172]
<span class="o">[</span>inst-e5-ol95-nps4:21653] Rank 118 bound to package[1][core:180]
<span class="o">[</span>inst-e5-ol95-nps4:21653] Rank 119 bound to package[1][core:188]
<span class="o">[</span>inst-e5-ol95-nps4:21653] Rank 120 bound to package[0][core:5]
<span class="o">[</span>inst-e5-ol95-nps4:21653] Rank 121 bound to package[0][core:13]
<span class="o">[</span>inst-e5-ol95-nps4:21653] Rank 122 bound to package[0][core:21]
<span class="o">[</span>inst-e5-ol95-nps4:21653] Rank 123 bound to package[0][core:29]
<span class="o">[</span>inst-e5-ol95-nps4:21653] Rank 124 bound to package[0][core:37]
<span class="o">[</span>inst-e5-ol95-nps4:21653] Rank 125 bound to package[0][core:45]
<span class="o">[</span>inst-e5-ol95-nps4:21653] Rank 126 bound to package[0][core:53]
<span class="o">[</span>inst-e5-ol95-nps4:21653] Rank 127 bound to package[0][core:61]
<span class="o">[</span>inst-e5-ol95-nps4:21653] Rank 128 bound to package[0][core:69]
<span class="o">[</span>inst-e5-ol95-nps4:21653] Rank 129 bound to package[0][core:77]
<span class="o">[</span>inst-e5-ol95-nps4:21653] Rank 130 bound to package[0][core:85]
<span class="o">[</span>inst-e5-ol95-nps4:21653] Rank 131 bound to package[0][core:93]
<span class="o">[</span>inst-e5-ol95-nps4:21653] Rank 132 bound to package[1][core:101]
<span class="o">[</span>inst-e5-ol95-nps4:21653] Rank 133 bound to package[1][core:109]
<span class="o">[</span>inst-e5-ol95-nps4:21653] Rank 134 bound to package[1][core:117]
<span class="o">[</span>inst-e5-ol95-nps4:21653] Rank 135 bound to package[1][core:125]
<span class="o">[</span>inst-e5-ol95-nps4:21653] Rank 136 bound to package[1][core:133]
<span class="o">[</span>inst-e5-ol95-nps4:21653] Rank 137 bound to package[1][core:141]
<span class="o">[</span>inst-e5-ol95-nps4:21653] Rank 138 bound to package[1][core:149]
<span class="o">[</span>inst-e5-ol95-nps4:21653] Rank 139 bound to package[1][core:157]
<span class="o">[</span>inst-e5-ol95-nps4:21653] Rank 140 bound to package[1][core:165]
<span class="o">[</span>inst-e5-ol95-nps4:21653] Rank 141 bound to package[1][core:173]
<span class="o">[</span>inst-e5-ol95-nps4:21653] Rank 142 bound to package[1][core:181]
<span class="o">[</span>inst-e5-ol95-nps4:21653] Rank 143 bound to package[1][core:189]
<span class="o">[</span>inst-e5-ol95-nps4:21653] Rank 144 bound to package[0][core:6]
<span class="o">[</span>inst-e5-ol95-nps4:21653] Rank 145 bound to package[0][core:14]
<span class="o">[</span>inst-e5-ol95-nps4:21653] Rank 146 bound to package[0][core:22]
<span class="o">[</span>inst-e5-ol95-nps4:21653] Rank 147 bound to package[0][core:30]
<span class="o">[</span>inst-e5-ol95-nps4:21653] Rank 148 bound to package[0][core:38]
<span class="o">[</span>inst-e5-ol95-nps4:21653] Rank 149 bound to package[0][core:46]
<span class="o">[</span>inst-e5-ol95-nps4:21653] Rank 150 bound to package[0][core:54]
<span class="o">[</span>inst-e5-ol95-nps4:21653] Rank 151 bound to package[0][core:62]
<span class="o">[</span>inst-e5-ol95-nps4:21653] Rank 152 bound to package[0][core:70]
<span class="o">[</span>inst-e5-ol95-nps4:21653] Rank 153 bound to package[0][core:78]
<span class="o">[</span>inst-e5-ol95-nps4:21653] Rank 154 bound to package[0][core:86]
<span class="o">[</span>inst-e5-ol95-nps4:21653] Rank 155 bound to package[0][core:94]
<span class="o">[</span>inst-e5-ol95-nps4:21653] Rank 156 bound to package[1][core:102]
<span class="o">[</span>inst-e5-ol95-nps4:21653] Rank 157 bound to package[1][core:110]
<span class="o">[</span>inst-e5-ol95-nps4:21653] Rank 158 bound to package[1][core:118]
<span class="o">[</span>inst-e5-ol95-nps4:21653] Rank 159 bound to package[1][core:126]
<span class="o">[</span>inst-e5-ol95-nps4:21653] Rank 160 bound to package[1][core:134]
<span class="o">[</span>inst-e5-ol95-nps4:21653] Rank 161 bound to package[1][core:142]
<span class="o">[</span>inst-e5-ol95-nps4:21653] Rank 162 bound to package[1][core:150]
<span class="o">[</span>inst-e5-ol95-nps4:21653] Rank 163 bound to package[1][core:158]
<span class="o">[</span>inst-e5-ol95-nps4:21653] Rank 164 bound to package[1][core:166]
<span class="o">[</span>inst-e5-ol95-nps4:21653] Rank 165 bound to package[1][core:174]
<span class="o">[</span>inst-e5-ol95-nps4:21653] Rank 166 bound to package[1][core:182]
<span class="o">[</span>inst-e5-ol95-nps4:21653] Rank 167 bound to package[1][core:190]
<span class="o">[</span>inst-e5-ol95-nps4:21653] Rank 168 bound to package[0][core:7]
<span class="o">[</span>inst-e5-ol95-nps4:21653] Rank 169 bound to package[0][core:15]
<span class="o">[</span>inst-e5-ol95-nps4:21653] Rank 170 bound to package[0][core:23]
<span class="o">[</span>inst-e5-ol95-nps4:21653] Rank 171 bound to package[0][core:31]
<span class="o">[</span>inst-e5-ol95-nps4:21653] Rank 172 bound to package[0][core:39]
<span class="o">[</span>inst-e5-ol95-nps4:21653] Rank 173 bound to package[0][core:47]
<span class="o">[</span>inst-e5-ol95-nps4:21653] Rank 174 bound to package[0][core:55]
<span class="o">[</span>inst-e5-ol95-nps4:21653] Rank 175 bound to package[0][core:63]
<span class="o">[</span>inst-e5-ol95-nps4:21653] Rank 176 bound to package[0][core:71]
<span class="o">[</span>inst-e5-ol95-nps4:21653] Rank 177 bound to package[0][core:79]
<span class="o">[</span>inst-e5-ol95-nps4:21653] Rank 178 bound to package[0][core:87]
<span class="o">[</span>inst-e5-ol95-nps4:21653] Rank 179 bound to package[0][core:95]
<span class="o">[</span>inst-e5-ol95-nps4:21653] Rank 180 bound to package[1][core:103]
<span class="o">[</span>inst-e5-ol95-nps4:21653] Rank 181 bound to package[1][core:111]
<span class="o">[</span>inst-e5-ol95-nps4:21653] Rank 182 bound to package[1][core:119]
<span class="o">[</span>inst-e5-ol95-nps4:21653] Rank 183 bound to package[1][core:127]
<span class="o">[</span>inst-e5-ol95-nps4:21653] Rank 184 bound to package[1][core:135]
<span class="o">[</span>inst-e5-ol95-nps4:21653] Rank 185 bound to package[1][core:143]
<span class="o">[</span>inst-e5-ol95-nps4:21653] Rank 186 bound to package[1][core:151]
<span class="o">[</span>inst-e5-ol95-nps4:21653] Rank 187 bound to package[1][core:159]
<span class="o">[</span>inst-e5-ol95-nps4:21653] Rank 188 bound to package[1][core:167]
<span class="o">[</span>inst-e5-ol95-nps4:21653] Rank 189 bound to package[1][core:175]
<span class="o">[</span>inst-e5-ol95-nps4:21653] Rank 190 bound to package[1][core:183]
<span class="o">[</span>inst-e5-ol95-nps4:21653] Rank 191 bound to package[1][core:191]
<span class="err">$</span>
</code></pre></div></div>

<p>[No.20]</p>

<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>mpirun <span class="nt">-n</span> 8 <span class="nt">--bind-to</span> core <span class="nt">--map-by</span> ppr:1:numa:PE<span class="o">=</span>24 <span class="nt">-x</span> <span class="nv">OMP_NUM_THREAD</span><span class="o">=</span>24 <span class="nt">-x</span> <span class="nv">OMP_PROC_BIND</span><span class="o">=</span>TRUE bash <span class="nt">-c</span> <span class="s1">'sleep $OMPI_COMM_WORLD_RANK; echo "Rank $OMPI_COMM_WORLD_RANK Node `echo $((OMPI_COMM_WORLD_RANK / OMPI_COMM_WORLD_LOCAL_SIZE))`"; ./show_thread_bind | sort -k 2n,2'</span>
Rank 0 Node 0
Thread  0 Core  0
Thread  1 Core  1
Thread  2 Core  2
Thread  3 Core  3
Thread  4 Core  4
Thread  5 Core  5
Thread  6 Core  6
Thread  7 Core  7
Thread  8 Core  8
Thread  9 Core  9
Thread 10 Core 10
Thread 11 Core 11
Thread 12 Core 12
Thread 13 Core 13
Thread 14 Core 14
Thread 15 Core 15
Thread 16 Core 16
Thread 17 Core 17
Thread 18 Core 18
Thread 19 Core 19
Thread 20 Core 20
Thread 21 Core 21
Thread 22 Core 22
Thread 23 Core 23
Rank 1 Node 0
Thread  0 Core 24
Thread  1 Core 25
Thread  2 Core 26
Thread  3 Core 27
Thread  4 Core 28
Thread  5 Core 29
Thread  6 Core 30
Thread  7 Core 31
Thread  8 Core 32
Thread  9 Core 33
Thread 10 Core 34
Thread 11 Core 35
Thread 12 Core 36
Thread 13 Core 37
Thread 14 Core 38
Thread 15 Core 39
Thread 16 Core 40
Thread 17 Core 41
Thread 18 Core 42
Thread 19 Core 43
Thread 20 Core 44
Thread 21 Core 45
Thread 22 Core 46
Thread 23 Core 47
Rank 2 Node 0
Thread  0 Core 48
Thread  1 Core 49
Thread  2 Core 50
Thread  3 Core 51
Thread  4 Core 52
Thread  5 Core 53
Thread  6 Core 54
Thread  7 Core 55
Thread  8 Core 56
Thread  9 Core 57
Thread 10 Core 58
Thread 11 Core 59
Thread 12 Core 60
Thread 13 Core 61
Thread 14 Core 62
Thread 15 Core 63
Thread 16 Core 64
Thread 17 Core 65
Thread 18 Core 66
Thread 19 Core 67
Thread 20 Core 68
Thread 21 Core 69
Thread 22 Core 70
Thread 23 Core 71
Rank 3 Node 0
Thread  0 Core 72
Thread  1 Core 73
Thread  2 Core 74
Thread  3 Core 75
Thread  4 Core 76
Thread  5 Core 77
Thread  6 Core 78
Thread  7 Core 79
Thread  8 Core 80
Thread  9 Core 81
Thread 10 Core 82
Thread 11 Core 83
Thread 12 Core 84
Thread 13 Core 85
Thread 14 Core 86
Thread 15 Core 87
Thread 16 Core 88
Thread 17 Core 89
Thread 18 Core 90
Thread 19 Core 91
Thread 20 Core 92
Thread 21 Core 93
Thread 22 Core 94
Thread 23 Core 95
Rank 4 Node 0
Thread  0 Core 96
Thread  1 Core 97
Thread  2 Core 98
Thread  3 Core 99
Thread  4 Core 100
Thread  5 Core 101
Thread  6 Core 102
Thread  7 Core 103
Thread  8 Core 104
Thread  9 Core 105
Thread 10 Core 106
Thread 11 Core 107
Thread 12 Core 108
Thread 13 Core 109
Thread 14 Core 110
Thread 15 Core 111
Thread 16 Core 112
Thread 17 Core 113
Thread 18 Core 114
Thread 19 Core 115
Thread 20 Core 116
Thread 21 Core 117
Thread 22 Core 118
Thread 23 Core 119
Rank 5 Node 0
Thread  0 Core 120
Thread  1 Core 121
Thread  2 Core 122
Thread  3 Core 123
Thread  4 Core 124
Thread  5 Core 125
Thread  6 Core 126
Thread  7 Core 127
Thread  8 Core 128
Thread  9 Core 129
Thread 10 Core 130
Thread 11 Core 131
Thread 12 Core 132
Thread 13 Core 133
Thread 14 Core 134
Thread 15 Core 135
Thread 16 Core 136
Thread 17 Core 137
Thread 18 Core 138
Thread 19 Core 139
Thread 20 Core 140
Thread 21 Core 141
Thread 22 Core 142
Thread 23 Core 143
Rank 6 Node 0
Thread  0 Core 144
Thread  1 Core 145
Thread  2 Core 146
Thread  3 Core 147
Thread  4 Core 148
Thread  5 Core 149
Thread  6 Core 150
Thread  7 Core 151
Thread  8 Core 152
Thread  9 Core 153
Thread 10 Core 154
Thread 11 Core 155
Thread 12 Core 156
Thread 13 Core 157
Thread 14 Core 158
Thread 15 Core 159
Thread 16 Core 160
Thread 17 Core 161
Thread 18 Core 162
Thread 19 Core 163
Thread 20 Core 164
Thread 21 Core 165
Thread 22 Core 166
Thread 23 Core 167
Rank 7 Node 0
Thread  0 Core 168
Thread  1 Core 169
Thread  2 Core 170
Thread  3 Core 171
Thread  4 Core 172
Thread  5 Core 173
Thread  6 Core 174
Thread  7 Core 175
Thread  8 Core 176
Thread  9 Core 177
Thread 10 Core 178
Thread 11 Core 179
Thread 12 Core 180
Thread 13 Core 181
Thread 14 Core 182
Thread 15 Core 183
Thread 16 Core 184
Thread 17 Core 185
Thread 18 Core 186
Thread 19 Core 187
Thread 20 Core 188
Thread 21 Core 189
Thread 22 Core 190
Thread 23 Core 191
<span class="err">$</span>
</code></pre></div></div>

<p>[No.21]</p>

<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>mpirun <span class="nt">-n</span> 24 <span class="nt">--bind-to</span> core <span class="nt">--map-by</span> ppr:1:l3cache:PE<span class="o">=</span>8 <span class="nt">-x</span> <span class="nv">OMP_NUM_THREAD</span><span class="o">=</span>8 <span class="nt">-x</span> <span class="nv">OMP_PROC_BIND</span><span class="o">=</span>TRUE bash <span class="nt">-c</span> <span class="s1">'sleep $OMPI_COMM_WORLD_RANK; echo "Rank $OMPI_COMM_WORLD_RANK Node `echo $((OMPI_COMM_WORLD_RANK / OMPI_COMM_WORLD_LOCAL_SIZE))`"; ./show_thread_bind | sort -k 2n,2'</span>
Rank 0 Node 0
Thread  0 Core   0
Thread  1 Core   1
Thread  2 Core   2
Thread  3 Core   3
Thread  4 Core   4
Thread  5 Core   5
Thread  6 Core   6
Thread  7 Core   7
Rank 1 Node 0
Thread  0 Core   8
Thread  1 Core   9
Thread  2 Core  10
Thread  3 Core  11
Thread  4 Core  12
Thread  5 Core  13
Thread  6 Core  14
Thread  7 Core  15
Rank 2 Node 0
Thread  0 Core  16
Thread  1 Core  17
Thread  2 Core  18
Thread  3 Core  19
Thread  4 Core  20
Thread  5 Core  21
Thread  6 Core  22
Thread  7 Core  23
Rank 3 Node 0
Thread  0 Core  24
Thread  1 Core  25
Thread  2 Core  26
Thread  3 Core  27
Thread  4 Core  28
Thread  5 Core  29
Thread  6 Core  30
Thread  7 Core  31
Rank 4 Node 0
Thread  0 Core  32
Thread  1 Core  33
Thread  2 Core  34
Thread  3 Core  35
Thread  4 Core  36
Thread  5 Core  37
Thread  6 Core  38
Thread  7 Core  39
Rank 5 Node 0
Thread  0 Core  40
Thread  1 Core  41
Thread  2 Core  42
Thread  3 Core  43
Thread  4 Core  44
Thread  5 Core  45
Thread  6 Core  46
Thread  7 Core  47
Rank 6 Node 0
Thread  0 Core  48
Thread  1 Core  49
Thread  2 Core  50
Thread  3 Core  51
Thread  4 Core  52
Thread  5 Core  53
Thread  6 Core  54
Thread  7 Core  55
Rank 7 Node 0
Thread  0 Core  56
Thread  1 Core  57
Thread  2 Core  58
Thread  3 Core  59
Thread  4 Core  60
Thread  5 Core  61
Thread  6 Core  62
Thread  7 Core  63
Rank 8 Node 0
Thread  0 Core  64
Thread  1 Core  65
Thread  2 Core  66
Thread  3 Core  67
Thread  4 Core  68
Thread  5 Core  69
Thread  6 Core  70
Thread  7 Core  71
Rank 9 Node 0
Thread  0 Core  72
Thread  1 Core  73
Thread  2 Core  74
Thread  3 Core  75
Thread  4 Core  76
Thread  5 Core  77
Thread  6 Core  78
Thread  7 Core  79
Rank 10 Node 0
Thread  0 Core  80
Thread  1 Core  81
Thread  2 Core  82
Thread  3 Core  83
Thread  4 Core  84
Thread  5 Core  85
Thread  6 Core  86
Thread  7 Core  87
Rank 11 Node 0
Thread  0 Core  88
Thread  1 Core  89
Thread  2 Core  90
Thread  3 Core  91
Thread  4 Core  92
Thread  5 Core  93
Thread  6 Core  94
Thread  7 Core  95
Rank 12 Node 0
Thread  0 Core  96
Thread  1 Core  97
Thread  2 Core  98
Thread  3 Core  99
Thread  4 Core 100
Thread  5 Core 101
Thread  6 Core 102
Thread  7 Core 103
Rank 13 Node 0
Thread  0 Core 104
Thread  1 Core 105
Thread  2 Core 106
Thread  3 Core 107
Thread  4 Core 108
Thread  5 Core 109
Thread  6 Core 110
Thread  7 Core 111
Rank 14 Node 0
Thread  0 Core 112
Thread  1 Core 113
Thread  2 Core 114
Thread  3 Core 115
Thread  4 Core 116
Thread  5 Core 117
Thread  6 Core 118
Thread  7 Core 119
Rank 15 Node 0
Thread  0 Core 120
Thread  1 Core 121
Thread  2 Core 122
Thread  3 Core 123
Thread  4 Core 124
Thread  5 Core 125
Thread  6 Core 126
Thread  7 Core 127
Rank 16 Node 0
Thread  0 Core 128
Thread  1 Core 129
Thread  2 Core 130
Thread  3 Core 131
Thread  4 Core 132
Thread  5 Core 133
Thread  6 Core 134
Thread  7 Core 135
Rank 17 Node 0
Thread  0 Core 136
Thread  1 Core 137
Thread  2 Core 138
Thread  3 Core 139
Thread  4 Core 140
Thread  5 Core 141
Thread  6 Core 142
Thread  7 Core 143
Rank 18 Node 0
Thread  0 Core 144
Thread  1 Core 145
Thread  2 Core 146
Thread  3 Core 147
Thread  4 Core 148
Thread  5 Core 149
Thread  6 Core 150
Thread  7 Core 151
Rank 19 Node 0
Thread  0 Core 152
Thread  1 Core 153
Thread  2 Core 154
Thread  3 Core 155
Thread  4 Core 156
Thread  5 Core 157
Thread  6 Core 158
Thread  7 Core 159
Rank 20 Node 0
Thread  0 Core 160
Thread  1 Core 161
Thread  2 Core 162
Thread  3 Core 163
Thread  4 Core 164
Thread  5 Core 165
Thread  6 Core 166
Thread  7 Core 167
Rank 21 Node 0
Thread  0 Core 168
Thread  1 Core 169
Thread  2 Core 170
Thread  3 Core 171
Thread  4 Core 172
Thread  5 Core 173
Thread  6 Core 174
Thread  7 Core 175
Rank 22 Node 0
Thread  0 Core 176
Thread  1 Core 177
Thread  2 Core 178
Thread  3 Core 179
Thread  4 Core 180
Thread  5 Core 181
Thread  6 Core 182
Thread  7 Core 183
Rank 23 Node 0
Thread  0 Core 184
Thread  1 Core 185
Thread  2 Core 186
Thread  3 Core 187
Thread  4 Core 188
Thread  5 Core 189
Thread  6 Core 190
Thread  7 Core 191
<span class="err">$</span>
</code></pre></div></div>

<h3 id="3-1-2-slurm">3-1-2. Slurm</h3>

<p>[No.1]</p>

<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>srun <span class="nt">-p</span> e5 <span class="nt">-n</span> 1 <span class="nt">--cpu-bind</span><span class="o">=</span>cores bash <span class="nt">-c</span> <span class="s1">'echo -n "Rank $SLURM_PROCID Node $SLURM_NODEID Core "; taskset -cp $$ | cut -d" " -f6'</span> | <span class="nb">sort</span> <span class="nt">-k</span> 2n,2
Rank 0 Node 0 Core 0
<span class="err">$</span>
</code></pre></div></div>

<p>[No.2]</p>

<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>srun <span class="nt">-p</span> e5 <span class="nt">-n</span> 2 <span class="nt">--cpu-bind</span><span class="o">=</span>cores bash <span class="nt">-c</span> <span class="s1">'echo -n "Rank $SLURM_PROCID Node $SLURM_NODEID Core "; taskset -cp $$ | cut -d" " -f6'</span> | <span class="nb">sort</span> <span class="nt">-k</span> 2n,2
Rank 0 Node 0 Core 0
Rank 1 Node 0 Core 96
<span class="err">$</span>
</code></pre></div></div>

<p>[No.3]</p>

<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>srun <span class="nt">-p</span> e5 <span class="nt">-n</span> 24 <span class="nt">--cpu-bind</span><span class="o">=</span>map_ldom:<span class="sb">`</span><span class="k">for </span>i <span class="k">in</span> <span class="se">\`</span><span class="nb">echo </span>0 2 3 1 12 14 15 13<span class="se">\`</span><span class="p">;</span> <span class="k">do </span><span class="nb">seq</span> <span class="nt">-s</span>, <span class="nv">$i</span> 4 <span class="k">$((</span>i+8<span class="k">))</span> | <span class="nb">tr</span> <span class="s1">'\n'</span> <span class="s1">','</span><span class="p">;</span> <span class="k">done</span> | <span class="nb">sed</span> <span class="s1">'s/,$//g'</span><span class="sb">`</span> bash <span class="nt">-c</span> <span class="s1">'echo -n "Rank $SLURM_PROCID Node $SLURM_NODEID Core "; taskset -cp $$ | cut -d" " -f6'</span> | <span class="nb">sort</span> <span class="nt">-k</span> 2n,2
Rank 0 Node 0 Core 0-7
Rank 1 Node 0 Core 8-15
Rank 2 Node 0 Core 16-23
Rank 3 Node 0 Core 24-31
Rank 4 Node 0 Core 32-39
Rank 5 Node 0 Core 40-47
Rank 6 Node 0 Core 48-55
Rank 7 Node 0 Core 56-63
Rank 8 Node 0 Core 64-71
Rank 9 Node 0 Core 72-79
Rank 10 Node 0 Core 80-87
Rank 11 Node 0 Core 88-95
Rank 12 Node 0 Core 96-103
Rank 13 Node 0 Core 104-111
Rank 14 Node 0 Core 112-119
Rank 15 Node 0 Core 120-127
Rank 16 Node 0 Core 128-135
Rank 17 Node 0 Core 136-143
Rank 18 Node 0 Core 144-151
Rank 19 Node 0 Core 152-159
Rank 20 Node 0 Core 160-167
Rank 21 Node 0 Core 168-175
Rank 22 Node 0 Core 176-183
Rank 23 Node 0 Core 184-191
<span class="err">$</span>
</code></pre></div></div>

<p>[No.4]</p>

<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>srun <span class="nt">-p</span> e5 <span class="nt">-n</span> 48 <span class="nt">--cpu-bind</span><span class="o">=</span>map_ldom:<span class="sb">`</span><span class="k">for </span>i <span class="k">in</span> <span class="se">\`</span><span class="nb">echo </span>0 2 3 1 12 14 15 13<span class="se">\`</span><span class="p">;</span> <span class="k">do for </span>j <span class="k">in</span> <span class="se">\`</span><span class="nb">seq</span> <span class="nv">$i</span> 4 <span class="k">$((</span>i+8<span class="k">))</span><span class="se">\`</span><span class="p">;</span> <span class="k">do for </span>k <span class="k">in</span> <span class="se">\`</span><span class="nb">seq </span>0 1<span class="se">\`</span><span class="p">;</span> <span class="k">do </span><span class="nb">echo</span> <span class="nt">-n</span> <span class="nv">$j</span><span class="s2">","</span><span class="p">;</span> <span class="k">done</span><span class="p">;</span> <span class="k">done</span><span class="p">;</span> <span class="k">done</span> | <span class="nb">sed</span> <span class="s1">'s/,$//g'</span><span class="sb">`</span> bash <span class="nt">-c</span> <span class="s1">'echo -n "Rank $SLURM_PROCID Node $SLURM_NODEID Core "; taskset -cp $$ | cut -d" " -f6'</span> | <span class="nb">sort</span> <span class="nt">-k</span> 2n,2
Rank 0 Node 0 Core 0-7
Rank 1 Node 0 Core 0-7
Rank 2 Node 0 Core 8-15
Rank 3 Node 0 Core 8-15
Rank 4 Node 0 Core 16-23
Rank 5 Node 0 Core 16-23
Rank 6 Node 0 Core 24-31
Rank 7 Node 0 Core 24-31
Rank 8 Node 0 Core 32-39
Rank 9 Node 0 Core 32-39
Rank 10 Node 0 Core 40-47
Rank 11 Node 0 Core 40-47
Rank 12 Node 0 Core 48-55
Rank 13 Node 0 Core 48-55
Rank 14 Node 0 Core 56-63
Rank 15 Node 0 Core 56-63
Rank 16 Node 0 Core 64-71
Rank 17 Node 0 Core 64-71
Rank 18 Node 0 Core 72-79
Rank 19 Node 0 Core 72-79
Rank 20 Node 0 Core 80-87
Rank 21 Node 0 Core 80-87
Rank 22 Node 0 Core 88-95
Rank 23 Node 0 Core 88-95
Rank 24 Node 0 Core 96-103
Rank 25 Node 0 Core 96-103
Rank 26 Node 0 Core 104-111
Rank 27 Node 0 Core 104-111
Rank 28 Node 0 Core 112-119
Rank 29 Node 0 Core 112-119
Rank 30 Node 0 Core 120-127
Rank 31 Node 0 Core 120-127
Rank 32 Node 0 Core 128-135
Rank 33 Node 0 Core 128-135
Rank 34 Node 0 Core 136-143
Rank 35 Node 0 Core 136-143
Rank 36 Node 0 Core 144-151
Rank 37 Node 0 Core 144-151
Rank 38 Node 0 Core 152-159
Rank 39 Node 0 Core 152-159
Rank 40 Node 0 Core 160-167
Rank 41 Node 0 Core 160-167
Rank 42 Node 0 Core 168-175
Rank 43 Node 0 Core 168-175
Rank 44 Node 0 Core 176-183
Rank 45 Node 0 Core 176-183
Rank 46 Node 0 Core 184-191
Rank 47 Node 0 Core 184-191
<span class="err">$</span>
</code></pre></div></div>

<p>[No.5]</p>

<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>srun <span class="nt">-p</span> e5 <span class="nt">-n</span> 48 <span class="nt">--cpu-bind</span><span class="o">=</span>map_ldom:<span class="sb">`</span><span class="k">for </span>i <span class="k">in</span> <span class="se">\`</span><span class="nb">seq </span>0 1<span class="se">\`</span><span class="p">;</span> <span class="k">do for </span>j <span class="k">in</span> <span class="se">\`</span><span class="nb">echo </span>0 2 3 1 12 14 15 13<span class="se">\`</span><span class="p">;</span> <span class="k">do for </span>k <span class="k">in</span> <span class="se">\`</span><span class="nb">seq</span> <span class="nv">$j</span> 4 <span class="k">$((</span>j+8<span class="k">))</span><span class="se">\`</span><span class="p">;</span> <span class="k">do </span><span class="nb">echo</span> <span class="nt">-n</span> <span class="nv">$k</span><span class="s2">","</span><span class="p">;</span> <span class="k">done</span><span class="p">;</span> <span class="k">done</span><span class="p">;</span> <span class="k">done</span> | <span class="nb">sed</span> <span class="s1">'s/,$//g'</span><span class="sb">`</span> bash <span class="nt">-c</span> <span class="s1">'echo -n "Rank $SLURM_PROCID Node $SLURM_NODEID Core "; taskset -cp $$ | cut -d" " -f6'</span> | <span class="nb">sort</span> <span class="nt">-k</span> 2n,2
Rank 0 Node 0 Core 0-7
Rank 1 Node 0 Core 8-15
Rank 2 Node 0 Core 16-23
Rank 3 Node 0 Core 24-31
Rank 4 Node 0 Core 32-39
Rank 5 Node 0 Core 40-47
Rank 6 Node 0 Core 48-55
Rank 7 Node 0 Core 56-63
Rank 8 Node 0 Core 64-71
Rank 9 Node 0 Core 72-79
Rank 10 Node 0 Core 80-87
Rank 11 Node 0 Core 88-95
Rank 12 Node 0 Core 96-103
Rank 13 Node 0 Core 104-111
Rank 14 Node 0 Core 112-119
Rank 15 Node 0 Core 120-127
Rank 16 Node 0 Core 128-135
Rank 17 Node 0 Core 136-143
Rank 18 Node 0 Core 144-151
Rank 19 Node 0 Core 152-159
Rank 20 Node 0 Core 160-167
Rank 21 Node 0 Core 168-175
Rank 22 Node 0 Core 176-183
Rank 23 Node 0 Core 184-191
Rank 24 Node 0 Core 0-7
Rank 25 Node 0 Core 8-15
Rank 26 Node 0 Core 16-23
Rank 27 Node 0 Core 24-31
Rank 28 Node 0 Core 32-39
Rank 29 Node 0 Core 40-47
Rank 30 Node 0 Core 48-55
Rank 31 Node 0 Core 56-63
Rank 32 Node 0 Core 64-71
Rank 33 Node 0 Core 72-79
Rank 34 Node 0 Core 80-87
Rank 35 Node 0 Core 88-95
Rank 36 Node 0 Core 96-103
Rank 37 Node 0 Core 104-111
Rank 38 Node 0 Core 112-119
Rank 39 Node 0 Core 120-127
Rank 40 Node 0 Core 128-135
Rank 41 Node 0 Core 136-143
Rank 42 Node 0 Core 144-151
Rank 43 Node 0 Core 152-159
Rank 44 Node 0 Core 160-167
Rank 45 Node 0 Core 168-175
Rank 46 Node 0 Core 176-183
Rank 47 Node 0 Core 184-191
<span class="err">$</span>
</code></pre></div></div>

<p>[No.6]</p>

<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>srun <span class="nt">-p</span> e5 <span class="nt">-n</span> 96 <span class="nt">--cpu-bind</span><span class="o">=</span>map_ldom:<span class="sb">`</span><span class="k">for </span>i <span class="k">in</span> <span class="se">\`</span><span class="nb">echo </span>0 2 3 1 12 14 15 13<span class="se">\`</span><span class="p">;</span> <span class="k">do for </span>j <span class="k">in</span> <span class="se">\`</span><span class="nb">seq</span> <span class="nv">$i</span> 4 <span class="k">$((</span>i+8<span class="k">))</span><span class="se">\`</span><span class="p">;</span> <span class="k">do for </span>k <span class="k">in</span> <span class="se">\`</span><span class="nb">seq </span>0 3<span class="se">\`</span><span class="p">;</span> <span class="k">do </span><span class="nb">echo</span> <span class="nt">-n</span> <span class="nv">$j</span><span class="s2">","</span><span class="p">;</span> <span class="k">done</span><span class="p">;</span> <span class="k">done</span><span class="p">;</span> <span class="k">done</span> | <span class="nb">sed</span> <span class="s1">'s/,$//g'</span><span class="sb">`</span> bash <span class="nt">-c</span> <span class="s1">'echo -n "Rank $SLURM_PROCID Node $SLURM_NODEID Core "; taskset -cp $$ | cut -d" " -f6'</span> | <span class="nb">sort</span> <span class="nt">-k</span> 2n,2
Rank 0 Node 0 Core 0-7
Rank 1 Node 0 Core 0-7
Rank 2 Node 0 Core 0-7
Rank 3 Node 0 Core 0-7
Rank 4 Node 0 Core 8-15
Rank 5 Node 0 Core 8-15
Rank 6 Node 0 Core 8-15
Rank 7 Node 0 Core 8-15
Rank 8 Node 0 Core 16-23
Rank 9 Node 0 Core 16-23
Rank 10 Node 0 Core 16-23
Rank 11 Node 0 Core 16-23
Rank 12 Node 0 Core 24-31
Rank 13 Node 0 Core 24-31
Rank 14 Node 0 Core 24-31
Rank 15 Node 0 Core 24-31
Rank 16 Node 0 Core 32-39
Rank 17 Node 0 Core 32-39
Rank 18 Node 0 Core 32-39
Rank 19 Node 0 Core 32-39
Rank 20 Node 0 Core 40-47
Rank 21 Node 0 Core 40-47
Rank 22 Node 0 Core 40-47
Rank 23 Node 0 Core 40-47
Rank 24 Node 0 Core 48-55
Rank 25 Node 0 Core 48-55
Rank 26 Node 0 Core 48-55
Rank 27 Node 0 Core 48-55
Rank 28 Node 0 Core 56-63
Rank 29 Node 0 Core 56-63
Rank 30 Node 0 Core 56-63
Rank 31 Node 0 Core 56-63
Rank 32 Node 0 Core 64-71
Rank 33 Node 0 Core 64-71
Rank 34 Node 0 Core 64-71
Rank 35 Node 0 Core 64-71
Rank 36 Node 0 Core 72-79
Rank 37 Node 0 Core 72-79
Rank 38 Node 0 Core 72-79
Rank 39 Node 0 Core 72-79
Rank 40 Node 0 Core 80-87
Rank 41 Node 0 Core 80-87
Rank 42 Node 0 Core 80-87
Rank 43 Node 0 Core 80-87
Rank 44 Node 0 Core 88-95
Rank 45 Node 0 Core 88-95
Rank 46 Node 0 Core 88-95
Rank 47 Node 0 Core 88-95
Rank 48 Node 0 Core 96-103
Rank 49 Node 0 Core 96-103
Rank 50 Node 0 Core 96-103
Rank 51 Node 0 Core 96-103
Rank 52 Node 0 Core 104-111
Rank 53 Node 0 Core 104-111
Rank 54 Node 0 Core 104-111
Rank 55 Node 0 Core 104-111
Rank 56 Node 0 Core 112-119
Rank 57 Node 0 Core 112-119
Rank 58 Node 0 Core 112-119
Rank 59 Node 0 Core 112-119
Rank 60 Node 0 Core 120-127
Rank 61 Node 0 Core 120-127
Rank 62 Node 0 Core 120-127
Rank 63 Node 0 Core 120-127
Rank 64 Node 0 Core 128-135
Rank 65 Node 0 Core 128-135
Rank 66 Node 0 Core 128-135
Rank 67 Node 0 Core 128-135
Rank 68 Node 0 Core 136-143
Rank 69 Node 0 Core 136-143
Rank 70 Node 0 Core 136-143
Rank 71 Node 0 Core 136-143
Rank 72 Node 0 Core 144-151
Rank 73 Node 0 Core 144-151
Rank 74 Node 0 Core 144-151
Rank 75 Node 0 Core 144-151
Rank 76 Node 0 Core 152-159
Rank 77 Node 0 Core 152-159
Rank 78 Node 0 Core 152-159
Rank 79 Node 0 Core 152-159
Rank 80 Node 0 Core 160-167
Rank 81 Node 0 Core 160-167
Rank 82 Node 0 Core 160-167
Rank 83 Node 0 Core 160-167
Rank 84 Node 0 Core 168-175
Rank 85 Node 0 Core 168-175
Rank 86 Node 0 Core 168-175
Rank 87 Node 0 Core 168-175
Rank 88 Node 0 Core 176-183
Rank 89 Node 0 Core 176-183
Rank 90 Node 0 Core 176-183
Rank 91 Node 0 Core 176-183
Rank 92 Node 0 Core 184-191
Rank 93 Node 0 Core 184-191
Rank 94 Node 0 Core 184-191
Rank 95 Node 0 Core 184-191
<span class="err">$</span>
</code></pre></div></div>

<p>[No.7]</p>

<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>srun <span class="nt">-p</span> e5 <span class="nt">-n</span> 96 <span class="nt">--cpu-bind</span><span class="o">=</span>map_ldom:<span class="sb">`</span><span class="k">for </span>i <span class="k">in</span> <span class="se">\`</span><span class="nb">seq </span>0 3<span class="se">\`</span><span class="p">;</span> <span class="k">do for </span>j <span class="k">in</span> <span class="se">\`</span><span class="nb">echo </span>0 2 3 1 12 14 15 13<span class="se">\`</span><span class="p">;</span> <span class="k">do for </span>k <span class="k">in</span> <span class="se">\`</span><span class="nb">seq</span> <span class="nv">$j</span> 4 <span class="k">$((</span>j+8<span class="k">))</span><span class="se">\`</span><span class="p">;</span> <span class="k">do </span><span class="nb">echo</span> <span class="nt">-n</span> <span class="nv">$k</span><span class="s2">","</span><span class="p">;</span> <span class="k">done</span><span class="p">;</span> <span class="k">done</span><span class="p">;</span> <span class="k">done</span> | <span class="nb">sed</span> <span class="s1">'s/,$//g'</span><span class="sb">`</span> bash <span class="nt">-c</span> <span class="s1">'echo -n "Rank $SLURM_PROCID Node $SLURM_NODEID Core "; taskset -cp $$ | cut -d" " -f6'</span> | <span class="nb">sort</span> <span class="nt">-k</span> 2n,2
Rank 0 Node 0 Core 0-7
Rank 1 Node 0 Core 8-15
Rank 2 Node 0 Core 16-23
Rank 3 Node 0 Core 24-31
Rank 4 Node 0 Core 32-39
Rank 5 Node 0 Core 40-47
Rank 6 Node 0 Core 48-55
Rank 7 Node 0 Core 56-63
Rank 8 Node 0 Core 64-71
Rank 9 Node 0 Core 72-79
Rank 10 Node 0 Core 80-87
Rank 11 Node 0 Core 88-95
Rank 12 Node 0 Core 96-103
Rank 13 Node 0 Core 104-111
Rank 14 Node 0 Core 112-119
Rank 15 Node 0 Core 120-127
Rank 16 Node 0 Core 128-135
Rank 17 Node 0 Core 136-143
Rank 18 Node 0 Core 144-151
Rank 19 Node 0 Core 152-159
Rank 20 Node 0 Core 160-167
Rank 21 Node 0 Core 168-175
Rank 22 Node 0 Core 176-183
Rank 23 Node 0 Core 184-191
Rank 24 Node 0 Core 0-7
Rank 25 Node 0 Core 8-15
Rank 26 Node 0 Core 16-23
Rank 27 Node 0 Core 24-31
Rank 28 Node 0 Core 32-39
Rank 29 Node 0 Core 40-47
Rank 30 Node 0 Core 48-55
Rank 31 Node 0 Core 56-63
Rank 32 Node 0 Core 64-71
Rank 33 Node 0 Core 72-79
Rank 34 Node 0 Core 80-87
Rank 35 Node 0 Core 88-95
Rank 36 Node 0 Core 96-103
Rank 37 Node 0 Core 104-111
Rank 38 Node 0 Core 112-119
Rank 39 Node 0 Core 120-127
Rank 40 Node 0 Core 128-135
Rank 41 Node 0 Core 136-143
Rank 42 Node 0 Core 144-151
Rank 43 Node 0 Core 152-159
Rank 44 Node 0 Core 160-167
Rank 45 Node 0 Core 168-175
Rank 46 Node 0 Core 176-183
Rank 47 Node 0 Core 184-191
Rank 48 Node 0 Core 0-7
Rank 49 Node 0 Core 8-15
Rank 50 Node 0 Core 16-23
Rank 51 Node 0 Core 24-31
Rank 52 Node 0 Core 32-39
Rank 53 Node 0 Core 40-47
Rank 54 Node 0 Core 48-55
Rank 55 Node 0 Core 56-63
Rank 56 Node 0 Core 64-71
Rank 57 Node 0 Core 72-79
Rank 58 Node 0 Core 80-87
Rank 59 Node 0 Core 88-95
Rank 60 Node 0 Core 96-103
Rank 61 Node 0 Core 104-111
Rank 62 Node 0 Core 112-119
Rank 63 Node 0 Core 120-127
Rank 64 Node 0 Core 128-135
Rank 65 Node 0 Core 136-143
Rank 66 Node 0 Core 144-151
Rank 67 Node 0 Core 152-159
Rank 68 Node 0 Core 160-167
Rank 69 Node 0 Core 168-175
Rank 70 Node 0 Core 176-183
Rank 71 Node 0 Core 184-191
Rank 72 Node 0 Core 0-7
Rank 73 Node 0 Core 8-15
Rank 74 Node 0 Core 16-23
Rank 75 Node 0 Core 24-31
Rank 76 Node 0 Core 32-39
Rank 77 Node 0 Core 40-47
Rank 78 Node 0 Core 48-55
Rank 79 Node 0 Core 56-63
Rank 80 Node 0 Core 64-71
Rank 81 Node 0 Core 72-79
Rank 82 Node 0 Core 80-87
Rank 83 Node 0 Core 88-95
Rank 84 Node 0 Core 96-103
Rank 85 Node 0 Core 104-111
Rank 86 Node 0 Core 112-119
Rank 87 Node 0 Core 120-127
Rank 88 Node 0 Core 128-135
Rank 89 Node 0 Core 136-143
Rank 90 Node 0 Core 144-151
Rank 91 Node 0 Core 152-159
Rank 92 Node 0 Core 160-167
Rank 93 Node 0 Core 168-175
Rank 94 Node 0 Core 176-183
Rank 95 Node 0 Core 184-191
<span class="err">$</span>
</code></pre></div></div>

<p>[No.8]</p>

<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>srun <span class="nt">-p</span> e5 <span class="nt">-n</span> 192 <span class="nt">--cpu-bind</span><span class="o">=</span>map_cpu:<span class="sb">`</span><span class="nb">seq</span> <span class="nt">-s</span>, 0 191 | <span class="nb">tr</span> <span class="nt">-d</span> <span class="s1">'\n'</span><span class="sb">`</span> bash <span class="nt">-c</span> <span class="s1">'echo -n "Rank $SLURM_PROCID Node $SLURM_NODEID Core "; taskset -cp $$ | cut -d" " -f6'</span> | <span class="nb">sort</span> <span class="nt">-k</span> 2n,2
Rank 0 Node 0 Core 0
Rank 1 Node 0 Core 1
Rank 2 Node 0 Core 2
Rank 3 Node 0 Core 3
Rank 4 Node 0 Core 4
Rank 5 Node 0 Core 5
Rank 6 Node 0 Core 6
Rank 7 Node 0 Core 7
Rank 8 Node 0 Core 8
Rank 9 Node 0 Core 9
Rank 10 Node 0 Core 10
Rank 11 Node 0 Core 11
Rank 12 Node 0 Core 12
Rank 13 Node 0 Core 13
Rank 14 Node 0 Core 14
Rank 15 Node 0 Core 15
Rank 16 Node 0 Core 16
Rank 17 Node 0 Core 17
Rank 18 Node 0 Core 18
Rank 19 Node 0 Core 19
Rank 20 Node 0 Core 20
Rank 21 Node 0 Core 21
Rank 22 Node 0 Core 22
Rank 23 Node 0 Core 23
Rank 24 Node 0 Core 24
Rank 25 Node 0 Core 25
Rank 26 Node 0 Core 26
Rank 27 Node 0 Core 27
Rank 28 Node 0 Core 28
Rank 29 Node 0 Core 29
Rank 30 Node 0 Core 30
Rank 31 Node 0 Core 31
Rank 32 Node 0 Core 32
Rank 33 Node 0 Core 33
Rank 34 Node 0 Core 34
Rank 35 Node 0 Core 35
Rank 36 Node 0 Core 36
Rank 37 Node 0 Core 37
Rank 38 Node 0 Core 38
Rank 39 Node 0 Core 39
Rank 40 Node 0 Core 40
Rank 41 Node 0 Core 41
Rank 42 Node 0 Core 42
Rank 43 Node 0 Core 43
Rank 44 Node 0 Core 44
Rank 45 Node 0 Core 45
Rank 46 Node 0 Core 46
Rank 47 Node 0 Core 47
Rank 48 Node 0 Core 48
Rank 49 Node 0 Core 49
Rank 50 Node 0 Core 50
Rank 51 Node 0 Core 51
Rank 52 Node 0 Core 52
Rank 53 Node 0 Core 53
Rank 54 Node 0 Core 54
Rank 55 Node 0 Core 55
Rank 56 Node 0 Core 56
Rank 57 Node 0 Core 57
Rank 58 Node 0 Core 58
Rank 59 Node 0 Core 59
Rank 60 Node 0 Core 60
Rank 61 Node 0 Core 61
Rank 62 Node 0 Core 62
Rank 63 Node 0 Core 63
Rank 64 Node 0 Core 64
Rank 65 Node 0 Core 65
Rank 66 Node 0 Core 66
Rank 67 Node 0 Core 67
Rank 68 Node 0 Core 68
Rank 69 Node 0 Core 69
Rank 70 Node 0 Core 70
Rank 71 Node 0 Core 71
Rank 72 Node 0 Core 72
Rank 73 Node 0 Core 73
Rank 74 Node 0 Core 74
Rank 75 Node 0 Core 75
Rank 76 Node 0 Core 76
Rank 77 Node 0 Core 77
Rank 78 Node 0 Core 78
Rank 79 Node 0 Core 79
Rank 80 Node 0 Core 80
Rank 81 Node 0 Core 81
Rank 82 Node 0 Core 82
Rank 83 Node 0 Core 83
Rank 84 Node 0 Core 84
Rank 85 Node 0 Core 85
Rank 86 Node 0 Core 86
Rank 87 Node 0 Core 87
Rank 88 Node 0 Core 88
Rank 89 Node 0 Core 89
Rank 90 Node 0 Core 90
Rank 91 Node 0 Core 91
Rank 92 Node 0 Core 92
Rank 93 Node 0 Core 93
Rank 94 Node 0 Core 94
Rank 95 Node 0 Core 95
Rank 96 Node 0 Core 96
Rank 97 Node 0 Core 97
Rank 98 Node 0 Core 98
Rank 99 Node 0 Core 99
Rank 100 Node 0 Core 100
Rank 101 Node 0 Core 101
Rank 102 Node 0 Core 102
Rank 103 Node 0 Core 103
Rank 104 Node 0 Core 104
Rank 105 Node 0 Core 105
Rank 106 Node 0 Core 106
Rank 107 Node 0 Core 107
Rank 108 Node 0 Core 108
Rank 109 Node 0 Core 109
Rank 110 Node 0 Core 110
Rank 111 Node 0 Core 111
Rank 112 Node 0 Core 112
Rank 113 Node 0 Core 113
Rank 114 Node 0 Core 114
Rank 115 Node 0 Core 115
Rank 116 Node 0 Core 116
Rank 117 Node 0 Core 117
Rank 118 Node 0 Core 118
Rank 119 Node 0 Core 119
Rank 120 Node 0 Core 120
Rank 121 Node 0 Core 121
Rank 122 Node 0 Core 122
Rank 123 Node 0 Core 123
Rank 124 Node 0 Core 124
Rank 125 Node 0 Core 125
Rank 126 Node 0 Core 126
Rank 127 Node 0 Core 127
Rank 128 Node 0 Core 128
Rank 129 Node 0 Core 129
Rank 130 Node 0 Core 130
Rank 131 Node 0 Core 131
Rank 132 Node 0 Core 132
Rank 133 Node 0 Core 133
Rank 134 Node 0 Core 134
Rank 135 Node 0 Core 135
Rank 136 Node 0 Core 136
Rank 137 Node 0 Core 137
Rank 138 Node 0 Core 138
Rank 139 Node 0 Core 139
Rank 140 Node 0 Core 140
Rank 141 Node 0 Core 141
Rank 142 Node 0 Core 142
Rank 143 Node 0 Core 143
Rank 144 Node 0 Core 144
Rank 145 Node 0 Core 145
Rank 146 Node 0 Core 146
Rank 147 Node 0 Core 147
Rank 148 Node 0 Core 148
Rank 149 Node 0 Core 149
Rank 150 Node 0 Core 150
Rank 151 Node 0 Core 151
Rank 152 Node 0 Core 152
Rank 153 Node 0 Core 153
Rank 154 Node 0 Core 154
Rank 155 Node 0 Core 155
Rank 156 Node 0 Core 156
Rank 157 Node 0 Core 157
Rank 158 Node 0 Core 158
Rank 159 Node 0 Core 159
Rank 160 Node 0 Core 160
Rank 161 Node 0 Core 161
Rank 162 Node 0 Core 162
Rank 163 Node 0 Core 163
Rank 164 Node 0 Core 164
Rank 165 Node 0 Core 165
Rank 166 Node 0 Core 166
Rank 167 Node 0 Core 167
Rank 168 Node 0 Core 168
Rank 169 Node 0 Core 169
Rank 170 Node 0 Core 170
Rank 171 Node 0 Core 171
Rank 172 Node 0 Core 172
Rank 173 Node 0 Core 173
Rank 174 Node 0 Core 174
Rank 175 Node 0 Core 175
Rank 176 Node 0 Core 176
Rank 177 Node 0 Core 177
Rank 178 Node 0 Core 178
Rank 179 Node 0 Core 179
Rank 180 Node 0 Core 180
Rank 181 Node 0 Core 181
Rank 182 Node 0 Core 182
Rank 183 Node 0 Core 183
Rank 184 Node 0 Core 184
Rank 185 Node 0 Core 185
Rank 186 Node 0 Core 186
Rank 187 Node 0 Core 187
Rank 188 Node 0 Core 188
Rank 189 Node 0 Core 189
Rank 190 Node 0 Core 190
Rank 191 Node 0 Core 191
<span class="err">$</span>
</code></pre></div></div>

<p>[No.9]</p>

<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>srun <span class="nt">-p</span> e5 <span class="nt">-n</span> 192 <span class="nt">--cpu-bind</span><span class="o">=</span>map_ldom:<span class="sb">`</span><span class="k">for </span>i <span class="k">in</span> <span class="se">\`</span><span class="nb">seq </span>0 7<span class="se">\`</span><span class="p">;</span> <span class="k">do for </span>j <span class="k">in</span> <span class="se">\`</span><span class="nb">echo </span>0 2 3 1 12 14 15 13<span class="se">\`</span><span class="p">;</span> <span class="k">do for </span>k <span class="k">in</span> <span class="se">\`</span><span class="nb">seq</span> <span class="nv">$j</span> 4 <span class="k">$((</span>j+8<span class="k">))</span><span class="se">\`</span><span class="p">;</span> <span class="k">do </span><span class="nb">echo</span> <span class="nt">-n</span> <span class="nv">$k</span><span class="s2">","</span><span class="p">;</span> <span class="k">done</span><span class="p">;</span> <span class="k">done</span><span class="p">;</span> <span class="k">done</span> | <span class="nb">sed</span> <span class="s1">'s/,$//g'</span><span class="sb">`</span> bash <span class="nt">-c</span> <span class="s1">'echo -n "Rank $SLURM_PROCID Node $SLURM_NODEID Core "; taskset -cp $$ | cut -d" " -f6'</span> | <span class="nb">sort</span> <span class="nt">-k</span> 2n,2
Rank 0 Node 0 Core 0-7
Rank 1 Node 0 Core 8-15
Rank 2 Node 0 Core 16-23
Rank 3 Node 0 Core 24-31
Rank 4 Node 0 Core 32-39
Rank 5 Node 0 Core 40-47
Rank 6 Node 0 Core 48-55
Rank 7 Node 0 Core 56-63
Rank 8 Node 0 Core 64-71
Rank 9 Node 0 Core 72-79
Rank 10 Node 0 Core 80-87
Rank 11 Node 0 Core 88-95
Rank 12 Node 0 Core 96-103
Rank 13 Node 0 Core 104-111
Rank 14 Node 0 Core 112-119
Rank 15 Node 0 Core 120-127
Rank 16 Node 0 Core 128-135
Rank 17 Node 0 Core 136-143
Rank 18 Node 0 Core 144-151
Rank 19 Node 0 Core 152-159
Rank 20 Node 0 Core 160-167
Rank 21 Node 0 Core 168-175
Rank 22 Node 0 Core 176-183
Rank 23 Node 0 Core 184-191
Rank 24 Node 0 Core 0-7
Rank 25 Node 0 Core 8-15
Rank 26 Node 0 Core 16-23
Rank 27 Node 0 Core 24-31
Rank 28 Node 0 Core 32-39
Rank 29 Node 0 Core 40-47
Rank 30 Node 0 Core 48-55
Rank 31 Node 0 Core 56-63
Rank 32 Node 0 Core 64-71
Rank 33 Node 0 Core 72-79
Rank 34 Node 0 Core 80-87
Rank 35 Node 0 Core 88-95
Rank 36 Node 0 Core 96-103
Rank 37 Node 0 Core 104-111
Rank 38 Node 0 Core 112-119
Rank 39 Node 0 Core 120-127
Rank 40 Node 0 Core 128-135
Rank 41 Node 0 Core 136-143
Rank 42 Node 0 Core 144-151
Rank 43 Node 0 Core 152-159
Rank 44 Node 0 Core 160-167
Rank 45 Node 0 Core 168-175
Rank 46 Node 0 Core 176-183
Rank 47 Node 0 Core 184-191
Rank 48 Node 0 Core 0-7
Rank 49 Node 0 Core 8-15
Rank 50 Node 0 Core 16-23
Rank 51 Node 0 Core 24-31
Rank 52 Node 0 Core 32-39
Rank 53 Node 0 Core 40-47
Rank 54 Node 0 Core 48-55
Rank 55 Node 0 Core 56-63
Rank 56 Node 0 Core 64-71
Rank 57 Node 0 Core 72-79
Rank 58 Node 0 Core 80-87
Rank 59 Node 0 Core 88-95
Rank 60 Node 0 Core 96-103
Rank 61 Node 0 Core 104-111
Rank 62 Node 0 Core 112-119
Rank 63 Node 0 Core 120-127
Rank 64 Node 0 Core 128-135
Rank 65 Node 0 Core 136-143
Rank 66 Node 0 Core 144-151
Rank 67 Node 0 Core 152-159
Rank 68 Node 0 Core 160-167
Rank 69 Node 0 Core 168-175
Rank 70 Node 0 Core 176-183
Rank 71 Node 0 Core 184-191
Rank 72 Node 0 Core 0-7
Rank 73 Node 0 Core 8-15
Rank 74 Node 0 Core 16-23
Rank 75 Node 0 Core 24-31
Rank 76 Node 0 Core 32-39
Rank 77 Node 0 Core 40-47
Rank 78 Node 0 Core 48-55
Rank 79 Node 0 Core 56-63
Rank 80 Node 0 Core 64-71
Rank 81 Node 0 Core 72-79
Rank 82 Node 0 Core 80-87
Rank 83 Node 0 Core 88-95
Rank 84 Node 0 Core 96-103
Rank 85 Node 0 Core 104-111
Rank 86 Node 0 Core 112-119
Rank 87 Node 0 Core 120-127
Rank 88 Node 0 Core 128-135
Rank 89 Node 0 Core 136-143
Rank 90 Node 0 Core 144-151
Rank 91 Node 0 Core 152-159
Rank 92 Node 0 Core 160-167
Rank 93 Node 0 Core 168-175
Rank 94 Node 0 Core 176-183
Rank 95 Node 0 Core 184-191
Rank 96 Node 0 Core 0-7
Rank 97 Node 0 Core 8-15
Rank 98 Node 0 Core 16-23
Rank 99 Node 0 Core 24-31
Rank 100 Node 0 Core 32-39
Rank 101 Node 0 Core 40-47
Rank 102 Node 0 Core 48-55
Rank 103 Node 0 Core 56-63
Rank 104 Node 0 Core 64-71
Rank 105 Node 0 Core 72-79
Rank 106 Node 0 Core 80-87
Rank 107 Node 0 Core 88-95
Rank 108 Node 0 Core 96-103
Rank 109 Node 0 Core 104-111
Rank 110 Node 0 Core 112-119
Rank 111 Node 0 Core 120-127
Rank 112 Node 0 Core 128-135
Rank 113 Node 0 Core 136-143
Rank 114 Node 0 Core 144-151
Rank 115 Node 0 Core 152-159
Rank 116 Node 0 Core 160-167
Rank 117 Node 0 Core 168-175
Rank 118 Node 0 Core 176-183
Rank 119 Node 0 Core 184-191
Rank 120 Node 0 Core 0-7
Rank 121 Node 0 Core 8-15
Rank 122 Node 0 Core 16-23
Rank 123 Node 0 Core 24-31
Rank 124 Node 0 Core 32-39
Rank 125 Node 0 Core 40-47
Rank 126 Node 0 Core 48-55
Rank 127 Node 0 Core 56-63
Rank 128 Node 0 Core 64-71
Rank 129 Node 0 Core 72-79
Rank 130 Node 0 Core 80-87
Rank 131 Node 0 Core 88-95
Rank 132 Node 0 Core 96-103
Rank 133 Node 0 Core 104-111
Rank 134 Node 0 Core 112-119
Rank 135 Node 0 Core 120-127
Rank 136 Node 0 Core 128-135
Rank 137 Node 0 Core 136-143
Rank 138 Node 0 Core 144-151
Rank 139 Node 0 Core 152-159
Rank 140 Node 0 Core 160-167
Rank 141 Node 0 Core 168-175
Rank 142 Node 0 Core 176-183
Rank 143 Node 0 Core 184-191
Rank 144 Node 0 Core 0-7
Rank 145 Node 0 Core 8-15
Rank 146 Node 0 Core 16-23
Rank 147 Node 0 Core 24-31
Rank 148 Node 0 Core 32-39
Rank 149 Node 0 Core 40-47
Rank 150 Node 0 Core 48-55
Rank 151 Node 0 Core 56-63
Rank 152 Node 0 Core 64-71
Rank 153 Node 0 Core 72-79
Rank 154 Node 0 Core 80-87
Rank 155 Node 0 Core 88-95
Rank 156 Node 0 Core 96-103
Rank 157 Node 0 Core 104-111
Rank 158 Node 0 Core 112-119
Rank 159 Node 0 Core 120-127
Rank 160 Node 0 Core 128-135
Rank 161 Node 0 Core 136-143
Rank 162 Node 0 Core 144-151
Rank 163 Node 0 Core 152-159
Rank 164 Node 0 Core 160-167
Rank 165 Node 0 Core 168-175
Rank 166 Node 0 Core 176-183
Rank 167 Node 0 Core 184-191
Rank 168 Node 0 Core 0-7
Rank 169 Node 0 Core 8-15
Rank 170 Node 0 Core 16-23
Rank 171 Node 0 Core 24-31
Rank 172 Node 0 Core 32-39
Rank 173 Node 0 Core 40-47
Rank 174 Node 0 Core 48-55
Rank 175 Node 0 Core 56-63
Rank 176 Node 0 Core 64-71
Rank 177 Node 0 Core 72-79
Rank 178 Node 0 Core 80-87
Rank 179 Node 0 Core 88-95
Rank 180 Node 0 Core 96-103
Rank 181 Node 0 Core 104-111
Rank 182 Node 0 Core 112-119
Rank 183 Node 0 Core 120-127
Rank 184 Node 0 Core 128-135
Rank 185 Node 0 Core 136-143
Rank 186 Node 0 Core 144-151
Rank 187 Node 0 Core 152-159
Rank 188 Node 0 Core 160-167
Rank 189 Node 0 Core 168-175
Rank 190 Node 0 Core 176-183
Rank 191 Node 0 Core 184-191
<span class="err">$</span>
</code></pre></div></div>

<p>[No.10]</p>

<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ OMP_NUM_THREADS</span><span class="o">=</span>96 <span class="nv">OMP_PROC_BIND</span><span class="o">=</span>TRUE srun <span class="nt">-p</span> e5 <span class="nt">-n</span> 2 <span class="nt">-c</span> 96 <span class="nt">--cpu-bind</span><span class="o">=</span>socket bash <span class="nt">-c</span> <span class="s1">'sleep $SLURM_PROCID; echo "Rank $SLURM_PROCID Node $SLURM_NODEID"; ./show_thread_bind | sort -k 2n,2'</span>
Rank 0 Node 0
Thread  0 Core   0
Thread  1 Core   1
Thread  2 Core   2
Thread  3 Core   3
Thread  4 Core   4
Thread  5 Core   5
Thread  6 Core   6
Thread  7 Core   7
Thread  8 Core   8
Thread  9 Core   9
Thread 10 Core  10
Thread 11 Core  11
Thread 12 Core  12
Thread 13 Core  13
Thread 14 Core  14
Thread 15 Core  15
Thread 16 Core  16
Thread 17 Core  17
Thread 18 Core  18
Thread 19 Core  19
Thread 20 Core  20
Thread 21 Core  21
Thread 22 Core  22
Thread 23 Core  23
Thread 24 Core  24
Thread 25 Core  25
Thread 26 Core  26
Thread 27 Core  27
Thread 28 Core  28
Thread 29 Core  29
Thread 30 Core  30
Thread 31 Core  31
Thread 32 Core  32
Thread 33 Core  33
Thread 34 Core  34
Thread 35 Core  35
Thread 36 Core  36
Thread 37 Core  37
Thread 38 Core  38
Thread 39 Core  39
Thread 40 Core  40
Thread 41 Core  41
Thread 42 Core  42
Thread 43 Core  43
Thread 44 Core  44
Thread 45 Core  45
Thread 46 Core  46
Thread 47 Core  47
Thread 48 Core  48
Thread 49 Core  49
Thread 50 Core  50
Thread 51 Core  51
Thread 52 Core  52
Thread 53 Core  53
Thread 54 Core  54
Thread 55 Core  55
Thread 56 Core  56
Thread 57 Core  57
Thread 58 Core  58
Thread 59 Core  59
Thread 60 Core  60
Thread 61 Core  61
Thread 62 Core  62
Thread 63 Core  63
Thread 64 Core  64
Thread 65 Core  65
Thread 66 Core  66
Thread 67 Core  67
Thread 68 Core  68
Thread 69 Core  69
Thread 70 Core  70
Thread 71 Core  71
Thread 72 Core  72
Thread 73 Core  73
Thread 74 Core  74
Thread 75 Core  75
Thread 76 Core  76
Thread 77 Core  77
Thread 78 Core  78
Thread 79 Core  79
Thread 80 Core  80
Thread 81 Core  81
Thread 82 Core  82
Thread 83 Core  83
Thread 84 Core  84
Thread 85 Core  85
Thread 86 Core  86
Thread 87 Core  87
Thread 88 Core  88
Thread 89 Core  89
Thread 90 Core  90
Thread 91 Core  91
Thread 92 Core  92
Thread 93 Core  93
Thread 94 Core  94
Thread 95 Core  95
Rank 1 Node 0
Thread  0 Core  96
Thread  1 Core  97
Thread  2 Core  98
Thread  3 Core  99
Thread  4 Core 100
Thread  5 Core 101
Thread  6 Core 102
Thread  7 Core 103
Thread  8 Core 104
Thread  9 Core 105
Thread 10 Core 106
Thread 11 Core 107
Thread 12 Core 108
Thread 13 Core 109
Thread 14 Core 110
Thread 15 Core 111
Thread 16 Core 112
Thread 17 Core 113
Thread 18 Core 114
Thread 19 Core 115
Thread 20 Core 116
Thread 21 Core 117
Thread 22 Core 118
Thread 23 Core 119
Thread 24 Core 120
Thread 25 Core 121
Thread 26 Core 122
Thread 27 Core 123
Thread 28 Core 124
Thread 29 Core 125
Thread 30 Core 126
Thread 31 Core 127
Thread 32 Core 128
Thread 33 Core 129
Thread 34 Core 130
Thread 35 Core 131
Thread 36 Core 132
Thread 37 Core 133
Thread 38 Core 134
Thread 39 Core 135
Thread 40 Core 136
Thread 41 Core 137
Thread 42 Core 138
Thread 43 Core 139
Thread 44 Core 140
Thread 45 Core 141
Thread 46 Core 142
Thread 47 Core 143
Thread 48 Core 144
Thread 49 Core 145
Thread 50 Core 146
Thread 51 Core 147
Thread 52 Core 148
Thread 53 Core 149
Thread 54 Core 150
Thread 55 Core 151
Thread 56 Core 152
Thread 57 Core 153
Thread 58 Core 154
Thread 59 Core 155
Thread 60 Core 156
Thread 61 Core 157
Thread 62 Core 158
Thread 63 Core 159
Thread 64 Core 160
Thread 65 Core 161
Thread 66 Core 162
Thread 67 Core 163
Thread 68 Core 164
Thread 69 Core 165
Thread 70 Core 166
Thread 71 Core 167
Thread 72 Core 168
Thread 73 Core 169
Thread 74 Core 170
Thread 75 Core 171
Thread 76 Core 172
Thread 77 Core 173
Thread 78 Core 174
Thread 79 Core 175
Thread 80 Core 176
Thread 81 Core 177
Thread 82 Core 178
Thread 83 Core 179
Thread 84 Core 180
Thread 85 Core 181
Thread 86 Core 182
Thread 87 Core 183
Thread 88 Core 184
Thread 89 Core 185
Thread 90 Core 186
Thread 91 Core 187
Thread 92 Core 188
Thread 93 Core 189
Thread 94 Core 190
Thread 95 Core 191
<span class="err">$</span>
</code></pre></div></div>

<p>[No.11]</p>

<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ OMP_NUM_THREADS</span><span class="o">=</span>8 <span class="nv">OMP_PROC_BIND</span><span class="o">=</span>TRUE srun <span class="nt">-p</span> e5 <span class="nt">-n</span> 24 <span class="nt">-c</span> 8 <span class="nt">--cpu-bind</span><span class="o">=</span>map_ldom:<span class="sb">`</span><span class="k">for </span>i <span class="k">in</span> <span class="se">\`</span><span class="nb">echo </span>0 2 3 1 12 14 15 13<span class="se">\`</span><span class="p">;</span> <span class="k">do </span><span class="nb">seq</span> <span class="nt">-s</span>, <span class="nv">$i</span> 4 <span class="k">$((</span>i+8<span class="k">))</span> | <span class="nb">tr</span> <span class="s1">'\n'</span> <span class="s1">','</span><span class="p">;</span> <span class="k">done</span> | <span class="nb">sed</span> <span class="s1">'s/,$//g'</span><span class="sb">`</span> bash <span class="nt">-c</span> <span class="s1">'sleep $SLURM_PROCID; echo "Rank $SLURM_PROCID Node $SLURM_NODEID"; ./show_thread_bind | sort -k 2n,2'</span>
Rank 0 Node 0
Thread  0 Core   0
Thread  1 Core   1
Thread  2 Core   2
Thread  3 Core   3
Thread  4 Core   4
Thread  5 Core   5
Thread  6 Core   6
Thread  7 Core   7
Rank 1 Node 0
Thread  0 Core   8
Thread  1 Core   9
Thread  2 Core  10
Thread  3 Core  11
Thread  4 Core  12
Thread  5 Core  13
Thread  6 Core  14
Thread  7 Core  15
Rank 2 Node 0
Thread  0 Core  16
Thread  1 Core  17
Thread  2 Core  18
Thread  3 Core  19
Thread  4 Core  20
Thread  5 Core  21
Thread  6 Core  22
Thread  7 Core  23
Rank 3 Node 0
Thread  0 Core  24
Thread  1 Core  25
Thread  2 Core  26
Thread  3 Core  27
Thread  4 Core  28
Thread  5 Core  29
Thread  6 Core  30
Thread  7 Core  31
Rank 4 Node 0
Thread  0 Core  32
Thread  1 Core  33
Thread  2 Core  34
Thread  3 Core  35
Thread  4 Core  36
Thread  5 Core  37
Thread  6 Core  38
Thread  7 Core  39
Rank 5 Node 0
Thread  0 Core  40
Thread  1 Core  41
Thread  2 Core  42
Thread  3 Core  43
Thread  4 Core  44
Thread  5 Core  45
Thread  6 Core  46
Thread  7 Core  47
Rank 6 Node 0
Thread  0 Core  48
Thread  1 Core  49
Thread  2 Core  50
Thread  3 Core  51
Thread  4 Core  52
Thread  5 Core  53
Thread  6 Core  54
Thread  7 Core  55
Rank 7 Node 0
Thread  0 Core  56
Thread  1 Core  57
Thread  2 Core  58
Thread  3 Core  59
Thread  4 Core  60
Thread  5 Core  61
Thread  6 Core  62
Thread  7 Core  63
Rank 8 Node 0
Thread  0 Core  64
Thread  1 Core  65
Thread  2 Core  66
Thread  3 Core  67
Thread  4 Core  68
Thread  5 Core  69
Thread  6 Core  70
Thread  7 Core  71
Rank 9 Node 0
Thread  0 Core  72
Thread  1 Core  73
Thread  2 Core  74
Thread  3 Core  75
Thread  4 Core  76
Thread  5 Core  77
Thread  6 Core  78
Thread  7 Core  79
Rank 10 Node 0
Thread  0 Core  80
Thread  1 Core  81
Thread  2 Core  82
Thread  3 Core  83
Thread  4 Core  84
Thread  5 Core  85
Thread  6 Core  86
Thread  7 Core  87
Rank 11 Node 0
Thread  0 Core  88
Thread  1 Core  89
Thread  2 Core  90
Thread  3 Core  91
Thread  4 Core  92
Thread  5 Core  93
Thread  6 Core  94
Thread  7 Core  95
Rank 12 Node 0
Thread  0 Core  96
Thread  1 Core  97
Thread  2 Core  98
Thread  3 Core  99
Thread  4 Core 100
Thread  5 Core 101
Thread  6 Core 102
Thread  7 Core 103
Rank 13 Node 0
Thread  0 Core 104
Thread  1 Core 105
Thread  2 Core 106
Thread  3 Core 107
Thread  4 Core 108
Thread  5 Core 109
Thread  6 Core 110
Thread  7 Core 111
Rank 14 Node 0
Thread  0 Core 112
Thread  1 Core 113
Thread  2 Core 114
Thread  3 Core 115
Thread  4 Core 116
Thread  5 Core 117
Thread  6 Core 118
Thread  7 Core 119
Rank 15 Node 0
Thread  0 Core 120
Thread  1 Core 121
Thread  2 Core 122
Thread  3 Core 123
Thread  4 Core 124
Thread  5 Core 125
Thread  6 Core 126
Thread  7 Core 127
Rank 16 Node 0
Thread  0 Core 128
Thread  1 Core 129
Thread  2 Core 130
Thread  3 Core 131
Thread  4 Core 132
Thread  5 Core 133
Thread  6 Core 134
Thread  7 Core 135
Rank 17 Node 0
Thread  0 Core 136
Thread  1 Core 137
Thread  2 Core 138
Thread  3 Core 139
Thread  4 Core 140
Thread  5 Core 141
Thread  6 Core 142
Thread  7 Core 143
Rank 18 Node 0
Thread  0 Core 144
Thread  1 Core 145
Thread  2 Core 146
Thread  3 Core 147
Thread  4 Core 148
Thread  5 Core 149
Thread  6 Core 150
Thread  7 Core 151
Rank 19 Node 0
Thread  0 Core 152
Thread  1 Core 153
Thread  2 Core 154
Thread  3 Core 155
Thread  4 Core 156
Thread  5 Core 157
Thread  6 Core 158
Thread  7 Core 159
Rank 20 Node 0
Thread  0 Core 160
Thread  1 Core 161
Thread  2 Core 162
Thread  3 Core 163
Thread  4 Core 164
Thread  5 Core 165
Thread  6 Core 166
Thread  7 Core 167
Rank 21 Node 0
Thread  0 Core 168
Thread  1 Core 169
Thread  2 Core 170
Thread  3 Core 171
Thread  4 Core 172
Thread  5 Core 173
Thread  6 Core 174
Thread  7 Core 175
Rank 22 Node 0
Thread  0 Core 176
Thread  1 Core 177
Thread  2 Core 178
Thread  3 Core 179
Thread  4 Core 180
Thread  5 Core 181
Thread  6 Core 182
Thread  7 Core 183
Rank 23 Node 0
Thread  0 Core 184
Thread  1 Core 185
Thread  2 Core 186
Thread  3 Core 187
Thread  4 Core 188
Thread  5 Core 189
Thread  6 Core 190
Thread  7 Core 191
<span class="err">$</span>
</code></pre></div></div>

<p>[No.12]</p>

<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>srun <span class="nt">-p</span> e5 <span class="nt">-n</span> 8 <span class="nt">--cpu-bind</span><span class="o">=</span>map_cpu:<span class="sb">`</span><span class="nb">seq</span> <span class="nt">-s</span>, 0 24 191 | <span class="nb">tr</span> <span class="nt">-d</span> <span class="s1">'\n'</span><span class="sb">`</span> bash <span class="nt">-c</span> <span class="s1">'echo -n "Rank $SLURM_PROCID Node $SLURM_NODEID Core "; taskset -cp $$ | cut -d" " -f6'</span> | <span class="nb">sort</span> <span class="nt">-k</span> 2n,2
Rank 0 Node 0 Core 0
Rank 1 Node 0 Core 24
Rank 2 Node 0 Core 48
Rank 3 Node 0 Core 72
Rank 4 Node 0 Core 96
Rank 5 Node 0 Core 120
Rank 6 Node 0 Core 144
Rank 7 Node 0 Core 168
<span class="err">$</span>
</code></pre></div></div>

<p>[No.13]</p>

<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>srun <span class="nt">-p</span> e5 <span class="nt">-n</span> 24 <span class="nt">--cpu-bind</span><span class="o">=</span>map_ldom:<span class="sb">`</span><span class="k">for </span>i <span class="k">in</span> <span class="se">\`</span><span class="nb">echo </span>0 2 3 1 12 14 15 13<span class="se">\`</span><span class="p">;</span> <span class="k">do </span><span class="nb">seq</span> <span class="nt">-s</span>, <span class="nv">$i</span> 4 <span class="k">$((</span>i+8<span class="k">))</span> | <span class="nb">tr</span> <span class="s1">'\n'</span> <span class="s1">','</span><span class="p">;</span> <span class="k">done</span> | <span class="nb">sed</span> <span class="s1">'s/,$//g'</span><span class="sb">`</span> bash <span class="nt">-c</span> <span class="s1">'echo -n "Rank $SLURM_PROCID Node $SLURM_NODEID Core "; taskset -cp $$ | cut -d" " -f6'</span> | <span class="nb">sort</span> <span class="nt">-k</span> 2n,2
Rank 0 Node 0 Core 0-7
Rank 1 Node 0 Core 8-15
Rank 2 Node 0 Core 16-23
Rank 3 Node 0 Core 24-31
Rank 4 Node 0 Core 32-39
Rank 5 Node 0 Core 40-47
Rank 6 Node 0 Core 48-55
Rank 7 Node 0 Core 56-63
Rank 8 Node 0 Core 64-71
Rank 9 Node 0 Core 72-79
Rank 10 Node 0 Core 80-87
Rank 11 Node 0 Core 88-95
Rank 12 Node 0 Core 96-103
Rank 13 Node 0 Core 104-111
Rank 14 Node 0 Core 112-119
Rank 15 Node 0 Core 120-127
Rank 16 Node 0 Core 128-135
Rank 17 Node 0 Core 136-143
Rank 18 Node 0 Core 144-151
Rank 19 Node 0 Core 152-159
Rank 20 Node 0 Core 160-167
Rank 21 Node 0 Core 168-175
Rank 22 Node 0 Core 176-183
Rank 23 Node 0 Core 184-191
<span class="err">$</span>
</code></pre></div></div>

<p>[No.14]</p>

<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>srun <span class="nt">-p</span> e5 <span class="nt">-n</span> 48 <span class="nt">--cpu-bind</span><span class="o">=</span>map_ldom:<span class="sb">`</span><span class="k">for </span>i <span class="k">in</span> <span class="se">\`</span><span class="nb">echo </span>0 2 3 1 12 14 15 13<span class="se">\`</span><span class="p">;</span> <span class="k">do for </span>j <span class="k">in</span> <span class="se">\`</span><span class="nb">seq</span> <span class="nv">$i</span> 4 <span class="k">$((</span>i+8<span class="k">))</span><span class="se">\`</span><span class="p">;</span> <span class="k">do for </span>k <span class="k">in</span> <span class="se">\`</span><span class="nb">seq </span>0 1<span class="se">\`</span><span class="p">;</span> <span class="k">do </span><span class="nb">echo</span> <span class="nt">-n</span> <span class="nv">$j</span><span class="s2">","</span><span class="p">;</span> <span class="k">done</span><span class="p">;</span> <span class="k">done</span><span class="p">;</span> <span class="k">done</span> | <span class="nb">sed</span> <span class="s1">'s/,$//g'</span><span class="sb">`</span> bash <span class="nt">-c</span> <span class="s1">'echo -n "Rank $SLURM_PROCID Node $SLURM_NODEID Core "; taskset -cp $$ | cut -d" " -f6'</span> | <span class="nb">sort</span> <span class="nt">-k</span> 2n,2
Rank 0 Node 0 Core 0-7
Rank 1 Node 0 Core 0-7
Rank 2 Node 0 Core 8-15
Rank 3 Node 0 Core 8-15
Rank 4 Node 0 Core 16-23
Rank 5 Node 0 Core 16-23
Rank 6 Node 0 Core 24-31
Rank 7 Node 0 Core 24-31
Rank 8 Node 0 Core 32-39
Rank 9 Node 0 Core 32-39
Rank 10 Node 0 Core 40-47
Rank 11 Node 0 Core 40-47
Rank 12 Node 0 Core 48-55
Rank 13 Node 0 Core 48-55
Rank 14 Node 0 Core 56-63
Rank 15 Node 0 Core 56-63
Rank 16 Node 0 Core 64-71
Rank 17 Node 0 Core 64-71
Rank 18 Node 0 Core 72-79
Rank 19 Node 0 Core 72-79
Rank 20 Node 0 Core 80-87
Rank 21 Node 0 Core 80-87
Rank 22 Node 0 Core 88-95
Rank 23 Node 0 Core 88-95
Rank 24 Node 0 Core 96-103
Rank 25 Node 0 Core 96-103
Rank 26 Node 0 Core 104-111
Rank 27 Node 0 Core 104-111
Rank 28 Node 0 Core 112-119
Rank 29 Node 0 Core 112-119
Rank 30 Node 0 Core 120-127
Rank 31 Node 0 Core 120-127
Rank 32 Node 0 Core 128-135
Rank 33 Node 0 Core 128-135
Rank 34 Node 0 Core 136-143
Rank 35 Node 0 Core 136-143
Rank 36 Node 0 Core 144-151
Rank 37 Node 0 Core 144-151
Rank 38 Node 0 Core 152-159
Rank 39 Node 0 Core 152-159
Rank 40 Node 0 Core 160-167
Rank 41 Node 0 Core 160-167
Rank 42 Node 0 Core 168-175
Rank 43 Node 0 Core 168-175
Rank 44 Node 0 Core 176-183
Rank 45 Node 0 Core 176-183
Rank 46 Node 0 Core 184-191
Rank 47 Node 0 Core 184-191
<span class="err">$</span>
</code></pre></div></div>

<p>[No.15]</p>

<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>srun <span class="nt">-p</span> e5 <span class="nt">-n</span> 48 <span class="nt">--cpu-bind</span><span class="o">=</span>map_ldom:<span class="sb">`</span><span class="k">for </span>i <span class="k">in</span> <span class="se">\`</span><span class="nb">seq </span>0 1<span class="se">\`</span><span class="p">;</span> <span class="k">do for </span>j <span class="k">in</span> <span class="se">\`</span><span class="nb">echo </span>0 2 3 1 12 14 15 13<span class="se">\`</span><span class="p">;</span> <span class="k">do for </span>k <span class="k">in</span> <span class="se">\`</span><span class="nb">seq</span> <span class="nv">$j</span> 4 <span class="k">$((</span>j+8<span class="k">))</span><span class="se">\`</span><span class="p">;</span> <span class="k">do </span><span class="nb">echo</span> <span class="nt">-n</span> <span class="nv">$k</span><span class="s2">","</span><span class="p">;</span> <span class="k">done</span><span class="p">;</span> <span class="k">done</span><span class="p">;</span> <span class="k">done</span> | <span class="nb">sed</span> <span class="s1">'s/,$//g'</span><span class="sb">`</span> bash <span class="nt">-c</span> <span class="s1">'echo -n "Rank $SLURM_PROCID Node $SLURM_NODEID Core "; taskset -cp $$ | cut -d" " -f6'</span> | <span class="nb">sort</span> <span class="nt">-k</span> 2n,2
Rank 0 Node 0 Core 0-7
Rank 1 Node 0 Core 8-15
Rank 2 Node 0 Core 16-23
Rank 3 Node 0 Core 24-31
Rank 4 Node 0 Core 32-39
Rank 5 Node 0 Core 40-47
Rank 6 Node 0 Core 48-55
Rank 7 Node 0 Core 56-63
Rank 8 Node 0 Core 64-71
Rank 9 Node 0 Core 72-79
Rank 10 Node 0 Core 80-87
Rank 11 Node 0 Core 88-95
Rank 12 Node 0 Core 96-103
Rank 13 Node 0 Core 104-111
Rank 14 Node 0 Core 112-119
Rank 15 Node 0 Core 120-127
Rank 16 Node 0 Core 128-135
Rank 17 Node 0 Core 136-143
Rank 18 Node 0 Core 144-151
Rank 19 Node 0 Core 152-159
Rank 20 Node 0 Core 160-167
Rank 21 Node 0 Core 168-175
Rank 22 Node 0 Core 176-183
Rank 23 Node 0 Core 184-191
Rank 24 Node 0 Core 0-7
Rank 25 Node 0 Core 8-15
Rank 26 Node 0 Core 16-23
Rank 27 Node 0 Core 24-31
Rank 28 Node 0 Core 32-39
Rank 29 Node 0 Core 40-47
Rank 30 Node 0 Core 48-55
Rank 31 Node 0 Core 56-63
Rank 32 Node 0 Core 64-71
Rank 33 Node 0 Core 72-79
Rank 34 Node 0 Core 80-87
Rank 35 Node 0 Core 88-95
Rank 36 Node 0 Core 96-103
Rank 37 Node 0 Core 104-111
Rank 38 Node 0 Core 112-119
Rank 39 Node 0 Core 120-127
Rank 40 Node 0 Core 128-135
Rank 41 Node 0 Core 136-143
Rank 42 Node 0 Core 144-151
Rank 43 Node 0 Core 152-159
Rank 44 Node 0 Core 160-167
Rank 45 Node 0 Core 168-175
Rank 46 Node 0 Core 176-183
Rank 47 Node 0 Core 184-191
<span class="err">$</span>
</code></pre></div></div>

<p>[No.16]</p>

<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>srun <span class="nt">-p</span> e5 <span class="nt">-n</span> 96 <span class="nt">--cpu-bind</span><span class="o">=</span>map_ldom:<span class="sb">`</span><span class="k">for </span>i <span class="k">in</span> <span class="se">\`</span><span class="nb">echo </span>0 2 3 1 12 14 15 13<span class="se">\`</span><span class="p">;</span> <span class="k">do for </span>j <span class="k">in</span> <span class="se">\`</span><span class="nb">seq</span> <span class="nv">$i</span> 4 <span class="k">$((</span>i+8<span class="k">))</span><span class="se">\`</span><span class="p">;</span> <span class="k">do for </span>k <span class="k">in</span> <span class="se">\`</span><span class="nb">seq </span>0 3<span class="se">\`</span><span class="p">;</span> <span class="k">do </span><span class="nb">echo</span> <span class="nt">-n</span> <span class="nv">$j</span><span class="s2">","</span><span class="p">;</span> <span class="k">done</span><span class="p">;</span> <span class="k">done</span><span class="p">;</span> <span class="k">done</span> | <span class="nb">sed</span> <span class="s1">'s/,$//g'</span><span class="sb">`</span> bash <span class="nt">-c</span> <span class="s1">'echo -n "Rank $SLURM_PROCID Node $SLURM_NODEID Core "; taskset -cp $$ | cut -d" " -f6'</span> | <span class="nb">sort</span> <span class="nt">-k</span> 2n,2
Rank 0 Node 0 Core 0-7
Rank 1 Node 0 Core 0-7
Rank 2 Node 0 Core 0-7
Rank 3 Node 0 Core 0-7
Rank 4 Node 0 Core 8-15
Rank 5 Node 0 Core 8-15
Rank 6 Node 0 Core 8-15
Rank 7 Node 0 Core 8-15
Rank 8 Node 0 Core 16-23
Rank 9 Node 0 Core 16-23
Rank 10 Node 0 Core 16-23
Rank 11 Node 0 Core 16-23
Rank 12 Node 0 Core 24-31
Rank 13 Node 0 Core 24-31
Rank 14 Node 0 Core 24-31
Rank 15 Node 0 Core 24-31
Rank 16 Node 0 Core 32-39
Rank 17 Node 0 Core 32-39
Rank 18 Node 0 Core 32-39
Rank 19 Node 0 Core 32-39
Rank 20 Node 0 Core 40-47
Rank 21 Node 0 Core 40-47
Rank 22 Node 0 Core 40-47
Rank 23 Node 0 Core 40-47
Rank 24 Node 0 Core 48-55
Rank 25 Node 0 Core 48-55
Rank 26 Node 0 Core 48-55
Rank 27 Node 0 Core 48-55
Rank 28 Node 0 Core 56-63
Rank 29 Node 0 Core 56-63
Rank 30 Node 0 Core 56-63
Rank 31 Node 0 Core 56-63
Rank 32 Node 0 Core 64-71
Rank 33 Node 0 Core 64-71
Rank 34 Node 0 Core 64-71
Rank 35 Node 0 Core 64-71
Rank 36 Node 0 Core 72-79
Rank 37 Node 0 Core 72-79
Rank 38 Node 0 Core 72-79
Rank 39 Node 0 Core 72-79
Rank 40 Node 0 Core 80-87
Rank 41 Node 0 Core 80-87
Rank 42 Node 0 Core 80-87
Rank 43 Node 0 Core 80-87
Rank 44 Node 0 Core 88-95
Rank 45 Node 0 Core 88-95
Rank 46 Node 0 Core 88-95
Rank 47 Node 0 Core 88-95
Rank 48 Node 0 Core 96-103
Rank 49 Node 0 Core 96-103
Rank 50 Node 0 Core 96-103
Rank 51 Node 0 Core 96-103
Rank 52 Node 0 Core 104-111
Rank 53 Node 0 Core 104-111
Rank 54 Node 0 Core 104-111
Rank 55 Node 0 Core 104-111
Rank 56 Node 0 Core 112-119
Rank 57 Node 0 Core 112-119
Rank 58 Node 0 Core 112-119
Rank 59 Node 0 Core 112-119
Rank 60 Node 0 Core 120-127
Rank 61 Node 0 Core 120-127
Rank 62 Node 0 Core 120-127
Rank 63 Node 0 Core 120-127
Rank 64 Node 0 Core 128-135
Rank 65 Node 0 Core 128-135
Rank 66 Node 0 Core 128-135
Rank 67 Node 0 Core 128-135
Rank 68 Node 0 Core 136-143
Rank 69 Node 0 Core 136-143
Rank 70 Node 0 Core 136-143
Rank 71 Node 0 Core 136-143
Rank 72 Node 0 Core 144-151
Rank 73 Node 0 Core 144-151
Rank 74 Node 0 Core 144-151
Rank 75 Node 0 Core 144-151
Rank 76 Node 0 Core 152-159
Rank 77 Node 0 Core 152-159
Rank 78 Node 0 Core 152-159
Rank 79 Node 0 Core 152-159
Rank 80 Node 0 Core 160-167
Rank 81 Node 0 Core 160-167
Rank 82 Node 0 Core 160-167
Rank 83 Node 0 Core 160-167
Rank 84 Node 0 Core 168-175
Rank 85 Node 0 Core 168-175
Rank 86 Node 0 Core 168-175
Rank 87 Node 0 Core 168-175
Rank 88 Node 0 Core 176-183
Rank 89 Node 0 Core 176-183
Rank 90 Node 0 Core 176-183
Rank 91 Node 0 Core 176-183
Rank 92 Node 0 Core 184-191
Rank 93 Node 0 Core 184-191
Rank 94 Node 0 Core 184-191
Rank 95 Node 0 Core 184-191
<span class="err">$</span>
</code></pre></div></div>

<p>[No.17]</p>

<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>srun <span class="nt">-p</span> e5 <span class="nt">-n</span> 96 <span class="nt">--cpu-bind</span><span class="o">=</span>map_ldom:<span class="sb">`</span><span class="k">for </span>i <span class="k">in</span> <span class="se">\`</span><span class="nb">seq </span>0 3<span class="se">\`</span><span class="p">;</span> <span class="k">do for </span>j <span class="k">in</span> <span class="se">\`</span><span class="nb">echo </span>0 2 3 1 12 14 15 13<span class="se">\`</span><span class="p">;</span> <span class="k">do for </span>k <span class="k">in</span> <span class="se">\`</span><span class="nb">seq</span> <span class="nv">$j</span> 4 <span class="k">$((</span>j+8<span class="k">))</span><span class="se">\`</span><span class="p">;</span> <span class="k">do </span><span class="nb">echo</span> <span class="nt">-n</span> <span class="nv">$k</span><span class="s2">","</span><span class="p">;</span> <span class="k">done</span><span class="p">;</span> <span class="k">done</span><span class="p">;</span> <span class="k">done</span> | <span class="nb">sed</span> <span class="s1">'s/,$//g'</span><span class="sb">`</span> bash <span class="nt">-c</span> <span class="s1">'echo -n "Rank $SLURM_PROCID Node $SLURM_NODEID Core "; taskset -cp $$ | cut -d" " -f6'</span> | <span class="nb">sort</span> <span class="nt">-k</span> 2n,2
Rank 0 Node 0 Core 0-7
Rank 1 Node 0 Core 8-15
Rank 2 Node 0 Core 16-23
Rank 3 Node 0 Core 24-31
Rank 4 Node 0 Core 32-39
Rank 5 Node 0 Core 40-47
Rank 6 Node 0 Core 48-55
Rank 7 Node 0 Core 56-63
Rank 8 Node 0 Core 64-71
Rank 9 Node 0 Core 72-79
Rank 10 Node 0 Core 80-87
Rank 11 Node 0 Core 88-95
Rank 12 Node 0 Core 96-103
Rank 13 Node 0 Core 104-111
Rank 14 Node 0 Core 112-119
Rank 15 Node 0 Core 120-127
Rank 16 Node 0 Core 128-135
Rank 17 Node 0 Core 136-143
Rank 18 Node 0 Core 144-151
Rank 19 Node 0 Core 152-159
Rank 20 Node 0 Core 160-167
Rank 21 Node 0 Core 168-175
Rank 22 Node 0 Core 176-183
Rank 23 Node 0 Core 184-191
Rank 24 Node 0 Core 0-7
Rank 25 Node 0 Core 8-15
Rank 26 Node 0 Core 16-23
Rank 27 Node 0 Core 24-31
Rank 28 Node 0 Core 32-39
Rank 29 Node 0 Core 40-47
Rank 30 Node 0 Core 48-55
Rank 31 Node 0 Core 56-63
Rank 32 Node 0 Core 64-71
Rank 33 Node 0 Core 72-79
Rank 34 Node 0 Core 80-87
Rank 35 Node 0 Core 88-95
Rank 36 Node 0 Core 96-103
Rank 37 Node 0 Core 104-111
Rank 38 Node 0 Core 112-119
Rank 39 Node 0 Core 120-127
Rank 40 Node 0 Core 128-135
Rank 41 Node 0 Core 136-143
Rank 42 Node 0 Core 144-151
Rank 43 Node 0 Core 152-159
Rank 44 Node 0 Core 160-167
Rank 45 Node 0 Core 168-175
Rank 46 Node 0 Core 176-183
Rank 47 Node 0 Core 184-191
Rank 48 Node 0 Core 0-7
Rank 49 Node 0 Core 8-15
Rank 50 Node 0 Core 16-23
Rank 51 Node 0 Core 24-31
Rank 52 Node 0 Core 32-39
Rank 53 Node 0 Core 40-47
Rank 54 Node 0 Core 48-55
Rank 55 Node 0 Core 56-63
Rank 56 Node 0 Core 64-71
Rank 57 Node 0 Core 72-79
Rank 58 Node 0 Core 80-87
Rank 59 Node 0 Core 88-95
Rank 60 Node 0 Core 96-103
Rank 61 Node 0 Core 104-111
Rank 62 Node 0 Core 112-119
Rank 63 Node 0 Core 120-127
Rank 64 Node 0 Core 128-135
Rank 65 Node 0 Core 136-143
Rank 66 Node 0 Core 144-151
Rank 67 Node 0 Core 152-159
Rank 68 Node 0 Core 160-167
Rank 69 Node 0 Core 168-175
Rank 70 Node 0 Core 176-183
Rank 71 Node 0 Core 184-191
Rank 72 Node 0 Core 0-7
Rank 73 Node 0 Core 8-15
Rank 74 Node 0 Core 16-23
Rank 75 Node 0 Core 24-31
Rank 76 Node 0 Core 32-39
Rank 77 Node 0 Core 40-47
Rank 78 Node 0 Core 48-55
Rank 79 Node 0 Core 56-63
Rank 80 Node 0 Core 64-71
Rank 81 Node 0 Core 72-79
Rank 82 Node 0 Core 80-87
Rank 83 Node 0 Core 88-95
Rank 84 Node 0 Core 96-103
Rank 85 Node 0 Core 104-111
Rank 86 Node 0 Core 112-119
Rank 87 Node 0 Core 120-127
Rank 88 Node 0 Core 128-135
Rank 89 Node 0 Core 136-143
Rank 90 Node 0 Core 144-151
Rank 91 Node 0 Core 152-159
Rank 92 Node 0 Core 160-167
Rank 93 Node 0 Core 168-175
Rank 94 Node 0 Core 176-183
Rank 95 Node 0 Core 184-191
<span class="err">$</span>
</code></pre></div></div>

<p>[No.18]</p>

<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>srun <span class="nt">-p</span> e5 <span class="nt">-n</span> 192 <span class="nt">--cpu-bind</span><span class="o">=</span>map_cpu:<span class="sb">`</span><span class="nb">seq</span> <span class="nt">-s</span>, 0 191 | <span class="nb">tr</span> <span class="nt">-d</span> <span class="s1">'\n'</span><span class="sb">`</span> bash <span class="nt">-c</span> <span class="s1">'echo -n "Rank $SLURM_PROCID Node $SLURM_NODEID Core "; taskset -cp $$ | cut -d" " -f6'</span> | <span class="nb">sort</span> <span class="nt">-k</span> 2n,2
Rank 0 Node 0 Core 0
Rank 1 Node 0 Core 1
Rank 2 Node 0 Core 2
Rank 3 Node 0 Core 3
Rank 4 Node 0 Core 4
Rank 5 Node 0 Core 5
Rank 6 Node 0 Core 6
Rank 7 Node 0 Core 7
Rank 8 Node 0 Core 8
Rank 9 Node 0 Core 9
Rank 10 Node 0 Core 10
Rank 11 Node 0 Core 11
Rank 12 Node 0 Core 12
Rank 13 Node 0 Core 13
Rank 14 Node 0 Core 14
Rank 15 Node 0 Core 15
Rank 16 Node 0 Core 16
Rank 17 Node 0 Core 17
Rank 18 Node 0 Core 18
Rank 19 Node 0 Core 19
Rank 20 Node 0 Core 20
Rank 21 Node 0 Core 21
Rank 22 Node 0 Core 22
Rank 23 Node 0 Core 23
Rank 24 Node 0 Core 24
Rank 25 Node 0 Core 25
Rank 26 Node 0 Core 26
Rank 27 Node 0 Core 27
Rank 28 Node 0 Core 28
Rank 29 Node 0 Core 29
Rank 30 Node 0 Core 30
Rank 31 Node 0 Core 31
Rank 32 Node 0 Core 32
Rank 33 Node 0 Core 33
Rank 34 Node 0 Core 34
Rank 35 Node 0 Core 35
Rank 36 Node 0 Core 36
Rank 37 Node 0 Core 37
Rank 38 Node 0 Core 38
Rank 39 Node 0 Core 39
Rank 40 Node 0 Core 40
Rank 41 Node 0 Core 41
Rank 42 Node 0 Core 42
Rank 43 Node 0 Core 43
Rank 44 Node 0 Core 44
Rank 45 Node 0 Core 45
Rank 46 Node 0 Core 46
Rank 47 Node 0 Core 47
Rank 48 Node 0 Core 48
Rank 49 Node 0 Core 49
Rank 50 Node 0 Core 50
Rank 51 Node 0 Core 51
Rank 52 Node 0 Core 52
Rank 53 Node 0 Core 53
Rank 54 Node 0 Core 54
Rank 55 Node 0 Core 55
Rank 56 Node 0 Core 56
Rank 57 Node 0 Core 57
Rank 58 Node 0 Core 58
Rank 59 Node 0 Core 59
Rank 60 Node 0 Core 60
Rank 61 Node 0 Core 61
Rank 62 Node 0 Core 62
Rank 63 Node 0 Core 63
Rank 64 Node 0 Core 64
Rank 65 Node 0 Core 65
Rank 66 Node 0 Core 66
Rank 67 Node 0 Core 67
Rank 68 Node 0 Core 68
Rank 69 Node 0 Core 69
Rank 70 Node 0 Core 70
Rank 71 Node 0 Core 71
Rank 72 Node 0 Core 72
Rank 73 Node 0 Core 73
Rank 74 Node 0 Core 74
Rank 75 Node 0 Core 75
Rank 76 Node 0 Core 76
Rank 77 Node 0 Core 77
Rank 78 Node 0 Core 78
Rank 79 Node 0 Core 79
Rank 80 Node 0 Core 80
Rank 81 Node 0 Core 81
Rank 82 Node 0 Core 82
Rank 83 Node 0 Core 83
Rank 84 Node 0 Core 84
Rank 85 Node 0 Core 85
Rank 86 Node 0 Core 86
Rank 87 Node 0 Core 87
Rank 88 Node 0 Core 88
Rank 89 Node 0 Core 89
Rank 90 Node 0 Core 90
Rank 91 Node 0 Core 91
Rank 92 Node 0 Core 92
Rank 93 Node 0 Core 93
Rank 94 Node 0 Core 94
Rank 95 Node 0 Core 95
Rank 96 Node 0 Core 96
Rank 97 Node 0 Core 97
Rank 98 Node 0 Core 98
Rank 99 Node 0 Core 99
Rank 100 Node 0 Core 100
Rank 101 Node 0 Core 101
Rank 102 Node 0 Core 102
Rank 103 Node 0 Core 103
Rank 104 Node 0 Core 104
Rank 105 Node 0 Core 105
Rank 106 Node 0 Core 106
Rank 107 Node 0 Core 107
Rank 108 Node 0 Core 108
Rank 109 Node 0 Core 109
Rank 110 Node 0 Core 110
Rank 111 Node 0 Core 111
Rank 112 Node 0 Core 112
Rank 113 Node 0 Core 113
Rank 114 Node 0 Core 114
Rank 115 Node 0 Core 115
Rank 116 Node 0 Core 116
Rank 117 Node 0 Core 117
Rank 118 Node 0 Core 118
Rank 119 Node 0 Core 119
Rank 120 Node 0 Core 120
Rank 121 Node 0 Core 121
Rank 122 Node 0 Core 122
Rank 123 Node 0 Core 123
Rank 124 Node 0 Core 124
Rank 125 Node 0 Core 125
Rank 126 Node 0 Core 126
Rank 127 Node 0 Core 127
Rank 128 Node 0 Core 128
Rank 129 Node 0 Core 129
Rank 130 Node 0 Core 130
Rank 131 Node 0 Core 131
Rank 132 Node 0 Core 132
Rank 133 Node 0 Core 133
Rank 134 Node 0 Core 134
Rank 135 Node 0 Core 135
Rank 136 Node 0 Core 136
Rank 137 Node 0 Core 137
Rank 138 Node 0 Core 138
Rank 139 Node 0 Core 139
Rank 140 Node 0 Core 140
Rank 141 Node 0 Core 141
Rank 142 Node 0 Core 142
Rank 143 Node 0 Core 143
Rank 144 Node 0 Core 144
Rank 145 Node 0 Core 145
Rank 146 Node 0 Core 146
Rank 147 Node 0 Core 147
Rank 148 Node 0 Core 148
Rank 149 Node 0 Core 149
Rank 150 Node 0 Core 150
Rank 151 Node 0 Core 151
Rank 152 Node 0 Core 152
Rank 153 Node 0 Core 153
Rank 154 Node 0 Core 154
Rank 155 Node 0 Core 155
Rank 156 Node 0 Core 156
Rank 157 Node 0 Core 157
Rank 158 Node 0 Core 158
Rank 159 Node 0 Core 159
Rank 160 Node 0 Core 160
Rank 161 Node 0 Core 161
Rank 162 Node 0 Core 162
Rank 163 Node 0 Core 163
Rank 164 Node 0 Core 164
Rank 165 Node 0 Core 165
Rank 166 Node 0 Core 166
Rank 167 Node 0 Core 167
Rank 168 Node 0 Core 168
Rank 169 Node 0 Core 169
Rank 170 Node 0 Core 170
Rank 171 Node 0 Core 171
Rank 172 Node 0 Core 172
Rank 173 Node 0 Core 173
Rank 174 Node 0 Core 174
Rank 175 Node 0 Core 175
Rank 176 Node 0 Core 176
Rank 177 Node 0 Core 177
Rank 178 Node 0 Core 178
Rank 179 Node 0 Core 179
Rank 180 Node 0 Core 180
Rank 181 Node 0 Core 181
Rank 182 Node 0 Core 182
Rank 183 Node 0 Core 183
Rank 184 Node 0 Core 184
Rank 185 Node 0 Core 185
Rank 186 Node 0 Core 186
Rank 187 Node 0 Core 187
Rank 188 Node 0 Core 188
Rank 189 Node 0 Core 189
Rank 190 Node 0 Core 190
Rank 191 Node 0 Core 191
<span class="err">$</span>
</code></pre></div></div>

<p>[No.19]</p>

<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>srun <span class="nt">-p</span> e5 <span class="nt">-n</span> 192 <span class="nt">--cpu-bind</span><span class="o">=</span>map_ldom:<span class="sb">`</span><span class="k">for </span>i <span class="k">in</span> <span class="se">\`</span><span class="nb">seq </span>0 7<span class="se">\`</span><span class="p">;</span> <span class="k">do for </span>j <span class="k">in</span> <span class="se">\`</span><span class="nb">echo </span>0 2 3 1 12 14 15 13<span class="se">\`</span><span class="p">;</span> <span class="k">do for </span>k <span class="k">in</span> <span class="se">\`</span><span class="nb">seq</span> <span class="nv">$j</span> 4 <span class="k">$((</span>j+8<span class="k">))</span><span class="se">\`</span><span class="p">;</span> <span class="k">do </span><span class="nb">echo</span> <span class="nt">-n</span> <span class="nv">$k</span><span class="s2">","</span><span class="p">;</span> <span class="k">done</span><span class="p">;</span> <span class="k">done</span><span class="p">;</span> <span class="k">done</span> | <span class="nb">sed</span> <span class="s1">'s/,$//g'</span><span class="sb">`</span> bash <span class="nt">-c</span> <span class="s1">'echo -n "Rank $SLURM_PROCID Node $SLURM_NODEID Core "; taskset -cp $$ | cut -d" " -f6'</span> | <span class="nb">sort</span> <span class="nt">-k</span> 2n,2
Rank 0 Node 0 Core 0-7
Rank 1 Node 0 Core 8-15
Rank 2 Node 0 Core 16-23
Rank 3 Node 0 Core 24-31
Rank 4 Node 0 Core 32-39
Rank 5 Node 0 Core 40-47
Rank 6 Node 0 Core 48-55
Rank 7 Node 0 Core 56-63
Rank 8 Node 0 Core 64-71
Rank 9 Node 0 Core 72-79
Rank 10 Node 0 Core 80-87
Rank 11 Node 0 Core 88-95
Rank 12 Node 0 Core 96-103
Rank 13 Node 0 Core 104-111
Rank 14 Node 0 Core 112-119
Rank 15 Node 0 Core 120-127
Rank 16 Node 0 Core 128-135
Rank 17 Node 0 Core 136-143
Rank 18 Node 0 Core 144-151
Rank 19 Node 0 Core 152-159
Rank 20 Node 0 Core 160-167
Rank 21 Node 0 Core 168-175
Rank 22 Node 0 Core 176-183
Rank 23 Node 0 Core 184-191
Rank 24 Node 0 Core 0-7
Rank 25 Node 0 Core 8-15
Rank 26 Node 0 Core 16-23
Rank 27 Node 0 Core 24-31
Rank 28 Node 0 Core 32-39
Rank 29 Node 0 Core 40-47
Rank 30 Node 0 Core 48-55
Rank 31 Node 0 Core 56-63
Rank 32 Node 0 Core 64-71
Rank 33 Node 0 Core 72-79
Rank 34 Node 0 Core 80-87
Rank 35 Node 0 Core 88-95
Rank 36 Node 0 Core 96-103
Rank 37 Node 0 Core 104-111
Rank 38 Node 0 Core 112-119
Rank 39 Node 0 Core 120-127
Rank 40 Node 0 Core 128-135
Rank 41 Node 0 Core 136-143
Rank 42 Node 0 Core 144-151
Rank 43 Node 0 Core 152-159
Rank 44 Node 0 Core 160-167
Rank 45 Node 0 Core 168-175
Rank 46 Node 0 Core 176-183
Rank 47 Node 0 Core 184-191
Rank 48 Node 0 Core 0-7
Rank 49 Node 0 Core 8-15
Rank 50 Node 0 Core 16-23
Rank 51 Node 0 Core 24-31
Rank 52 Node 0 Core 32-39
Rank 53 Node 0 Core 40-47
Rank 54 Node 0 Core 48-55
Rank 55 Node 0 Core 56-63
Rank 56 Node 0 Core 64-71
Rank 57 Node 0 Core 72-79
Rank 58 Node 0 Core 80-87
Rank 59 Node 0 Core 88-95
Rank 60 Node 0 Core 96-103
Rank 61 Node 0 Core 104-111
Rank 62 Node 0 Core 112-119
Rank 63 Node 0 Core 120-127
Rank 64 Node 0 Core 128-135
Rank 65 Node 0 Core 136-143
Rank 66 Node 0 Core 144-151
Rank 67 Node 0 Core 152-159
Rank 68 Node 0 Core 160-167
Rank 69 Node 0 Core 168-175
Rank 70 Node 0 Core 176-183
Rank 71 Node 0 Core 184-191
Rank 72 Node 0 Core 0-7
Rank 73 Node 0 Core 8-15
Rank 74 Node 0 Core 16-23
Rank 75 Node 0 Core 24-31
Rank 76 Node 0 Core 32-39
Rank 77 Node 0 Core 40-47
Rank 78 Node 0 Core 48-55
Rank 79 Node 0 Core 56-63
Rank 80 Node 0 Core 64-71
Rank 81 Node 0 Core 72-79
Rank 82 Node 0 Core 80-87
Rank 83 Node 0 Core 88-95
Rank 84 Node 0 Core 96-103
Rank 85 Node 0 Core 104-111
Rank 86 Node 0 Core 112-119
Rank 87 Node 0 Core 120-127
Rank 88 Node 0 Core 128-135
Rank 89 Node 0 Core 136-143
Rank 90 Node 0 Core 144-151
Rank 91 Node 0 Core 152-159
Rank 92 Node 0 Core 160-167
Rank 93 Node 0 Core 168-175
Rank 94 Node 0 Core 176-183
Rank 95 Node 0 Core 184-191
Rank 96 Node 0 Core 0-7
Rank 97 Node 0 Core 8-15
Rank 98 Node 0 Core 16-23
Rank 99 Node 0 Core 24-31
Rank 100 Node 0 Core 32-39
Rank 101 Node 0 Core 40-47
Rank 102 Node 0 Core 48-55
Rank 103 Node 0 Core 56-63
Rank 104 Node 0 Core 64-71
Rank 105 Node 0 Core 72-79
Rank 106 Node 0 Core 80-87
Rank 107 Node 0 Core 88-95
Rank 108 Node 0 Core 96-103
Rank 109 Node 0 Core 104-111
Rank 110 Node 0 Core 112-119
Rank 111 Node 0 Core 120-127
Rank 112 Node 0 Core 128-135
Rank 113 Node 0 Core 136-143
Rank 114 Node 0 Core 144-151
Rank 115 Node 0 Core 152-159
Rank 116 Node 0 Core 160-167
Rank 117 Node 0 Core 168-175
Rank 118 Node 0 Core 176-183
Rank 119 Node 0 Core 184-191
Rank 120 Node 0 Core 0-7
Rank 121 Node 0 Core 8-15
Rank 122 Node 0 Core 16-23
Rank 123 Node 0 Core 24-31
Rank 124 Node 0 Core 32-39
Rank 125 Node 0 Core 40-47
Rank 126 Node 0 Core 48-55
Rank 127 Node 0 Core 56-63
Rank 128 Node 0 Core 64-71
Rank 129 Node 0 Core 72-79
Rank 130 Node 0 Core 80-87
Rank 131 Node 0 Core 88-95
Rank 132 Node 0 Core 96-103
Rank 133 Node 0 Core 104-111
Rank 134 Node 0 Core 112-119
Rank 135 Node 0 Core 120-127
Rank 136 Node 0 Core 128-135
Rank 137 Node 0 Core 136-143
Rank 138 Node 0 Core 144-151
Rank 139 Node 0 Core 152-159
Rank 140 Node 0 Core 160-167
Rank 141 Node 0 Core 168-175
Rank 142 Node 0 Core 176-183
Rank 143 Node 0 Core 184-191
Rank 144 Node 0 Core 0-7
Rank 145 Node 0 Core 8-15
Rank 146 Node 0 Core 16-23
Rank 147 Node 0 Core 24-31
Rank 148 Node 0 Core 32-39
Rank 149 Node 0 Core 40-47
Rank 150 Node 0 Core 48-55
Rank 151 Node 0 Core 56-63
Rank 152 Node 0 Core 64-71
Rank 153 Node 0 Core 72-79
Rank 154 Node 0 Core 80-87
Rank 155 Node 0 Core 88-95
Rank 156 Node 0 Core 96-103
Rank 157 Node 0 Core 104-111
Rank 158 Node 0 Core 112-119
Rank 159 Node 0 Core 120-127
Rank 160 Node 0 Core 128-135
Rank 161 Node 0 Core 136-143
Rank 162 Node 0 Core 144-151
Rank 163 Node 0 Core 152-159
Rank 164 Node 0 Core 160-167
Rank 165 Node 0 Core 168-175
Rank 166 Node 0 Core 176-183
Rank 167 Node 0 Core 184-191
Rank 168 Node 0 Core 0-7
Rank 169 Node 0 Core 8-15
Rank 170 Node 0 Core 16-23
Rank 171 Node 0 Core 24-31
Rank 172 Node 0 Core 32-39
Rank 173 Node 0 Core 40-47
Rank 174 Node 0 Core 48-55
Rank 175 Node 0 Core 56-63
Rank 176 Node 0 Core 64-71
Rank 177 Node 0 Core 72-79
Rank 178 Node 0 Core 80-87
Rank 179 Node 0 Core 88-95
Rank 180 Node 0 Core 96-103
Rank 181 Node 0 Core 104-111
Rank 182 Node 0 Core 112-119
Rank 183 Node 0 Core 120-127
Rank 184 Node 0 Core 128-135
Rank 185 Node 0 Core 136-143
Rank 186 Node 0 Core 144-151
Rank 187 Node 0 Core 152-159
Rank 188 Node 0 Core 160-167
Rank 189 Node 0 Core 168-175
Rank 190 Node 0 Core 176-183
Rank 191 Node 0 Core 184-191
<span class="err">$</span>
</code></pre></div></div>

<p>[No.21]</p>

<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ OMP_NUM_THREADS</span><span class="o">=</span>8 <span class="nv">OMP_PROC_BIND</span><span class="o">=</span>TRUE srun <span class="nt">-p</span> e5 <span class="nt">-n</span> 24 <span class="nt">-c</span> 8 <span class="nt">--cpu-bind</span><span class="o">=</span>map_ldom:<span class="sb">`</span><span class="k">for </span>i <span class="k">in</span> <span class="se">\`</span><span class="nb">echo </span>0 2 3 1 12 14 15 13<span class="se">\`</span><span class="p">;</span> <span class="k">do </span><span class="nb">seq</span> <span class="nt">-s</span>, <span class="nv">$i</span> 4 <span class="k">$((</span>i+8<span class="k">))</span> | <span class="nb">tr</span> <span class="s1">'\n'</span> <span class="s1">','</span><span class="p">;</span> <span class="k">done</span> | <span class="nb">sed</span> <span class="s1">'s/,$//g'</span><span class="sb">`</span> bash <span class="nt">-c</span> <span class="s1">'sleep $SLURM_PROCID; echo "Rank $SLURM_PROCID Node $SLURM_NODEID"; ./show_thread_bind | sort -k 2n,2'</span>
Rank 0 Node 0
Thread  0 Core  0
Thread  1 Core  1
Thread  2 Core  2
Thread  3 Core  3
Thread  4 Core  4
Thread  5 Core  5
Thread  6 Core  6
Thread  7 Core  7
Rank 1 Node 0
Thread  0 Core  8
Thread  1 Core  9
Thread  2 Core 10
Thread  3 Core 11
Thread  4 Core 12
Thread  5 Core 13
Thread  6 Core 14
Thread  7 Core 15
Rank 2 Node 0
Thread  0 Core 16
Thread  1 Core 17
Thread  2 Core 18
Thread  3 Core 19
Thread  4 Core 20
Thread  5 Core 21
Thread  6 Core 22
Thread  7 Core 23
Rank 3 Node 0
Thread  0 Core 24
Thread  1 Core 25
Thread  2 Core 26
Thread  3 Core 27
Thread  4 Core 28
Thread  5 Core 29
Thread  6 Core 30
Thread  7 Core 31
Rank 4 Node 0
Thread  0 Core 32
Thread  1 Core 33
Thread  2 Core 34
Thread  3 Core 35
Thread  4 Core 36
Thread  5 Core 37
Thread  6 Core 38
Thread  7 Core 39
Rank 5 Node 0
Thread  0 Core 40
Thread  1 Core 41
Thread  2 Core 42
Thread  3 Core 43
Thread  4 Core 44
Thread  5 Core 45
Thread  6 Core 46
Thread  7 Core 47
Rank 6 Node 0
Thread  0 Core 48
Thread  1 Core 49
Thread  2 Core 50
Thread  3 Core 51
Thread  4 Core 52
Thread  5 Core 53
Thread  6 Core 54
Thread  7 Core 55
Rank 7 Node 0
Thread  0 Core 56
Thread  1 Core 57
Thread  2 Core 58
Thread  3 Core 59
Thread  4 Core 60
Thread  5 Core 61
Thread  6 Core 62
Thread  7 Core 63
Rank 8 Node 0
Thread  0 Core 64
Thread  1 Core 65
Thread  2 Core 66
Thread  3 Core 67
Thread  4 Core 68
Thread  5 Core 69
Thread  6 Core 70
Thread  7 Core 71
Rank 9 Node 0
Thread  0 Core 72
Thread  1 Core 73
Thread  2 Core 74
Thread  3 Core 75
Thread  4 Core 76
Thread  5 Core 77
Thread  6 Core 78
Thread  7 Core 79
Rank 10 Node 0
Thread  0 Core 80
Thread  1 Core 81
Thread  2 Core 82
Thread  3 Core 83
Thread  4 Core 84
Thread  5 Core 85
Thread  6 Core 86
Thread  7 Core 87
Rank 11 Node 0
Thread  0 Core 88
Thread  1 Core 89
Thread  2 Core 90
Thread  3 Core 91
Thread  4 Core 92
Thread  5 Core 93
Thread  6 Core 94
Thread  7 Core 95
Rank 12 Node 0
Thread  0 Core 96
Thread  1 Core 97
Thread  2 Core 98
Thread  3 Core 99
Thread  4 Core 100
Thread  5 Core 101
Thread  6 Core 102
Thread  7 Core 103
Rank 13 Node 0
Thread  0 Core 104
Thread  1 Core 105
Thread  2 Core 106
Thread  3 Core 107
Thread  4 Core 108
Thread  5 Core 109
Thread  6 Core 110
Thread  7 Core 111
Rank 14 Node 0
Thread  0 Core 112
Thread  1 Core 113
Thread  2 Core 114
Thread  3 Core 115
Thread  4 Core 116
Thread  5 Core 117
Thread  6 Core 118
Thread  7 Core 119
Rank 15 Node 0
Thread  0 Core 120
Thread  1 Core 121
Thread  2 Core 122
Thread  3 Core 123
Thread  4 Core 124
Thread  5 Core 125
Thread  6 Core 126
Thread  7 Core 127
Rank 16 Node 0
Thread  0 Core 128
Thread  1 Core 129
Thread  2 Core 130
Thread  3 Core 131
Thread  4 Core 132
Thread  5 Core 133
Thread  6 Core 134
Thread  7 Core 135
Rank 17 Node 0
Thread  0 Core 136
Thread  1 Core 137
Thread  2 Core 138
Thread  3 Core 139
Thread  4 Core 140
Thread  5 Core 141
Thread  6 Core 142
Thread  7 Core 143
Rank 18 Node 0
Thread  0 Core 144
Thread  1 Core 145
Thread  2 Core 146
Thread  3 Core 147
Thread  4 Core 148
Thread  5 Core 149
Thread  6 Core 150
Thread  7 Core 151
Rank 19 Node 0
Thread  0 Core 152
Thread  1 Core 153
Thread  2 Core 154
Thread  3 Core 155
Thread  4 Core 156
Thread  5 Core 157
Thread  6 Core 158
Thread  7 Core 159
Rank 20 Node 0
Thread  0 Core 160
Thread  1 Core 161
Thread  2 Core 162
Thread  3 Core 163
Thread  4 Core 164
Thread  5 Core 165
Thread  6 Core 166
Thread  7 Core 167
Rank 21 Node 0
Thread  0 Core 168
Thread  1 Core 169
Thread  2 Core 170
Thread  3 Core 171
Thread  4 Core 172
Thread  5 Core 173
Thread  6 Core 174
Thread  7 Core 175
Rank 22 Node 0
Thread  0 Core 176
Thread  1 Core 177
Thread  2 Core 178
Thread  3 Core 179
Thread  4 Core 180
Thread  5 Core 181
Thread  6 Core 182
Thread  7 Core 183
Rank 23 Node 0
Thread  0 Core 184
Thread  1 Core 185
Thread  2 Core 186
Thread  3 Core 187
Thread  4 Core 188
Thread  5 Core 189
Thread  6 Core 190
Thread  7 Core 191
<span class="err">$</span>
</code></pre></div></div>

        
      </section>

      <footer class="page__meta">
        
        


        

  <p class="page__date"><strong><i class="fas fa-fw fa-calendar-alt" aria-hidden="true"></i> 更新日時:</strong> <time class="dt-published" datetime="2025-05-09T10:34:18+09:00">May 9, 2025</time></p>

      </footer>

      <section class="page__share">
  <h4 class="page__share-title">共有</h4>

  <a href="https://x.com/intent/tweet?text=%E3%83%91%E3%83%95%E3%82%A9%E3%83%BC%E3%83%9E%E3%83%B3%E3%82%B9%E3%82%92%E8%80%83%E6%85%AE%E3%81%97%E3%81%9F%E3%83%97%E3%83%AD%E3%82%BB%E3%82%B9%E3%83%BB%E3%82%B9%E3%83%AC%E3%83%83%E3%83%89%E3%81%AE%E3%82%B3%E3%82%A2%E5%89%B2%E5%BD%93%E3%81%A6%E6%8C%87%E5%AE%9A%E6%96%B9%E6%B3%95%EF%BC%88BM.Standard.E5.192%E7%B7%A8%EF%BC%89%20https%3A%2F%2Foracle-japan.github.io%2Focitutorials%2Fhpc%2Fbenchmark%2Fcpu-binding-e5%2F" class="btn btn--x" aria-label="Share on X" onclick="window.open(this.href, 'window', 'left=20,top=20,width=500,height=500,toolbar=1,resizable=0'); return false;" title="共有 X">
    <i class="fab fa-fw fa-x-twitter" aria-hidden="true"></i><span> X</span>
  </a>

  <a href="https://www.facebook.com/sharer/sharer.php?u=https%3A%2F%2Foracle-japan.github.io%2Focitutorials%2Fhpc%2Fbenchmark%2Fcpu-binding-e5%2F" class="btn btn--facebook" aria-label="Share on Facebook" onclick="window.open(this.href, 'window', 'left=20,top=20,width=500,height=500,toolbar=1,resizable=0'); return false;" title="共有 Facebook">
    <i class="fab fa-fw fa-facebook" aria-hidden="true"></i><span> Facebook</span>
  </a>

  <a href="https://www.linkedin.com/shareArticle?mini=true&url=https://oracle-japan.github.io/ocitutorials/hpc/benchmark/cpu-binding-e5/" class="btn btn--linkedin" aria-label="Share on LinkedIn" onclick="window.open(this.href, 'window', 'left=20,top=20,width=500,height=500,toolbar=1,resizable=0'); return false;" title="共有 LinkedIn">
    <i class="fab fa-fw fa-linkedin" aria-hidden="true"></i><span> LinkedIn</span>
  </a>

  <a href="https://bsky.app/intent/compose?text=%E3%83%91%E3%83%95%E3%82%A9%E3%83%BC%E3%83%9E%E3%83%B3%E3%82%B9%E3%82%92%E8%80%83%E6%85%AE%E3%81%97%E3%81%9F%E3%83%97%E3%83%AD%E3%82%BB%E3%82%B9%E3%83%BB%E3%82%B9%E3%83%AC%E3%83%83%E3%83%89%E3%81%AE%E3%82%B3%E3%82%A2%E5%89%B2%E5%BD%93%E3%81%A6%E6%8C%87%E5%AE%9A%E6%96%B9%E6%B3%95%EF%BC%88BM.Standard.E5.192%E7%B7%A8%EF%BC%89%20https%3A%2F%2Foracle-japan.github.io%2Focitutorials%2Fhpc%2Fbenchmark%2Fcpu-binding-e5%2F" class="btn btn--bluesky" onclick="window.open(this.href, 'window', 'left=20,top=20,width=500,height=500,toolbar=1,resizable=0'); return false;" title="共有 Bluesky">
    <i class="fab fa-fw fa-bluesky" aria-hidden="true"></i><span> Bluesky</span>
  </a>
</section>


      
  <nav class="pagination">
    
      <a href="/ocitutorials/hpc/benchmark/cpu-binding/" class="pagination--pager" title="パフォーマンスを考慮したプロセス・スレッドのコア割当て指定方法（BM.Optimized3.36編）">前へ</a>
    
    
      <a href="/ocitutorials/hpc/benchmark/openmpi-perftune/" class="pagination--pager" title="OpenMPIのMPI集合通信チューニング方法（BM.Optimized3.36編）">次へ</a>
    
  </nav>


    </div>

    
  </article>

  
  
    
<div class="page__related">
  
  <h2 class="page__related-title">関連記事</h2>
  <div class="grid__wrapper">
    
  </div>
</div>

  
</div>

      
    </div>

    
      <div class="search-content">
        <div class="search-content__inner-wrap"><form class="search-content__form" onkeydown="return event.key != 'Enter';" role="search">
    <label class="sr-only" for="search">
      Enter your search term...
    </label>
    <input type="search" id="search" class="search-input" tabindex="-1" placeholder="検索キーワードを入力してください..." />
  </form>
  <div id="results" class="results"></div></div>

      </div>
    

    <div id="footer" class="page__footer">
      <footer>
        <!-- start custom footer snippets -->

<!-- end custom footer snippets -->
        <div class="page__footer-follow">
  <ul class="social-icons">
    
      <li><strong>フォロー</strong></li>
    

    
      
        
          <li><a href="https://twitter.com/#ocijp" rel="nofollow noopener noreferrer"><i class="fab fa-fw fa-twitter-square" aria-hidden="true"></i> Twitter</a></li>
        
      
        
          <li><a href="https://github.com/oracle-japan" rel="nofollow noopener noreferrer"><i class="fab fa-fw fa-github" aria-hidden="true"></i> GitHub</a></li>
        
      
    

    
      <li><a href="/ocitutorials/feed.xml"><i class="fas fa-fw fa-rss-square" aria-hidden="true"></i> Feed</a></li>
    
  </ul>
</div>

<div class="page__footer-copyright">&copy; 2025 <a href="https://oracle-japan.github.io">Oracle Cloud Infrastructure チュートリアル</a>. Powered by <a href="https://jekyllrb.com" rel="nofollow">Jekyll</a> &amp; <a href="https://mademistakes.com/work/jekyll-themes/minimal-mistakes/" rel="nofollow">Minimal Mistakes</a>.</div>

      </footer>
    </div>

    
  <script src="/ocitutorials/assets/js/main.min.js"></script>




<script src="/ocitutorials/assets/js/lunr/lunr.min.js"></script>
<script src="/ocitutorials/assets/js/lunr/lunr-store.js"></script>
<script src="/ocitutorials/assets/js/lunr/lunr-en.js"></script>




  <!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-6W7FEC5CEH"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-6W7FEC5CEH', { 'anonymize_ip': false});
</script>







  
    <script src="https://cdn.jsdelivr.net/npm/clipboard@2/dist/clipboard.min.js"></script>
  
    <script src="/ocitutorials/assets/js/clipboardrouge.js"></script>
  
    <script src="/ocitutorials/assets/js/tabs.js"></script>
  
    <script src="/ocitutorials/assets/js/sidebar.js"></script>
  


  </body>
</html>
